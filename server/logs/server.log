2024/08/22 15:51:19 log_config.go:33: Log initialized successfully
2024/08/22 15:51:19 init_clickhouse.go:26: Failed to ping ClickHouse: dial tcp 127.0.0.1:9000: connect: connection refused
2024/08/22 15:52:04 log_config.go:33: Log initialized successfully
2024/08/22 15:52:04 init_clickhouse.go:26: Failed to ping ClickHouse: dial tcp 127.0.0.1:9000: connect: connection refused
2024/08/22 15:54:44 log_config.go:33: Log initialized successfully
2024/08/22 15:54:44 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/22 15:54:44 init_clickhouse.go:42: Error creating table: code: 81, message: Database my_database doesn't exist
2024/08/22 15:57:41 log_config.go:33: Log initialized successfully
2024/08/22 15:57:42 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/22 15:57:42 init_clickhouse.go:42: Error creating table: code: 81, message: Database my_database doesn't exist
2024/08/23 01:19:30 log_config.go:33: Log initialized successfully
2024/08/23 01:19:30 init_clickhouse.go:26: Failed to ping ClickHouse: dial tcp 172.19.0.3:9000: connect: connection refused
2024/08/23 01:25:30 log_config.go:33: Log initialized successfully
2024/08/23 01:25:30 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 01:25:30 init_clickhouse.go:44: ClickHouse table created successfully
2024/08/23 01:25:30 init_mysql.go:27: Failed to ping MySQL: dial tcp 127.0.0.1:3306: connect: connection refused
2024/08/23 01:29:39 log_config.go:33: Log initialized successfully
2024/08/23 01:29:39 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 01:29:39 init_clickhouse.go:44: ClickHouse table created successfully
2024/08/23 01:29:39 init_mysql.go:27: Failed to ping MySQL: dial tcp 127.0.0.1:3306: connect: connection refused
2024/08/23 01:35:25 log_config.go:33: Log initialized successfully
2024/08/23 01:35:25 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 01:35:25 init_clickhouse.go:35: ClickHouse database created successfully or already exists
2024/08/23 01:35:25 init_clickhouse.go:52: ClickHouse table created successfully
2024/08/23 01:35:25 init_mysql.go:27: Failed to ping MySQL: Error 1130: Host '172.20.0.8' is not allowed to connect to this MySQL server
2024/08/23 01:40:07 log_config.go:33: Log initialized successfully
2024/08/23 01:40:07 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 01:40:07 init_clickhouse.go:35: ClickHouse database created successfully or already exists
2024/08/23 01:40:07 init_clickhouse.go:52: ClickHouse table created successfully
2024/08/23 01:40:07 init_mysql.go:27: Failed to ping MySQL: Error 1130: Host '172.20.0.8' is not allowed to connect to this MySQL server
2024/08/23 02:01:04 log_config.go:33: Log initialized successfully
2024/08/23 02:01:04 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 02:01:04 init_clickhouse.go:35: ClickHouse database created successfully or already exists
2024/08/23 02:01:04 init_clickhouse.go:52: ClickHouse table created successfully
2024/08/23 02:01:04 init_mysql.go:27: Failed to ping MySQL: Error 1049 (42000): Unknown database 'my_database'
2024/08/23 02:02:04 log_config.go:33: Log initialized successfully
2024/08/23 02:02:04 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 02:02:04 init_clickhouse.go:35: ClickHouse database created successfully or already exists
2024/08/23 02:02:04 init_clickhouse.go:52: ClickHouse table created successfully
2024/08/23 02:02:04 init_mysql.go:29: MySQL initialized...
2024/08/23 02:02:04 main.go:20: Starting Hertz server on :8080
2024/08/23 02:27:31 log_config.go:33: Log initialized successfully
2024/08/23 02:27:31 init_clickhouse.go:26: Failed to ping ClickHouse: dial tcp 172.22.0.5:9000: connect: connection refused
2024/08/23 02:38:34 log_config.go:33: Log initialized successfully
2024/08/23 02:38:34 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.22.0.7:9000: connect: connection refused
2024/08/23 02:38:36 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp 172.22.0.7:9000: connect: connection refused
2024/08/23 02:38:38 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (3/5): dial tcp 172.22.0.7:9000: connect: connection refused
2024/08/23 02:38:40 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 02:38:40 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/23 02:38:40 init_clickhouse.go:62: ClickHouse table created successfully
2024/08/23 02:38:40 init_mysql.go:29: MySQL initialized...
2024/08/23 02:38:40 main.go:20: Starting Hertz server on :8080
2024/08/23 02:48:50 log_config.go:33: Log initialized successfully
2024/08/23 02:48:50 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.23.0.4:9000: connect: connection refused
2024/08/23 02:48:52 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp 172.23.0.4:9000: connect: connection refused
2024/08/23 02:48:54 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (3/5): dial tcp 172.23.0.4:9000: connect: connection refused
2024/08/23 02:48:56 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/23 02:48:56 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/23 02:48:56 init_clickhouse.go:62: ClickHouse table created successfully
2024/08/23 02:48:56 init_mysql.go:29: MySQL initialized...
2024/08/23 02:48:56 main.go:20: Starting Hertz server on :8080
2024/08/23 02:49:21 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-23 02:49:21.555577975 +0000 UTC m=+31.012182169 UpdatedAt:2024-08-23 02:49:21.555578209 +0000 UTC m=+31.012182363 PacketLoss:0 MinRTT:0s MaxRTT:0s AvgRTT:0s}
2024/08/24 02:39:52 log_config.go:33: Log initialized successfully
2024/08/24 02:39:52 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.23.0.5:9000: connect: connection refused
2024/08/24 02:39:55 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 02:39:55 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 02:39:55 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 02:39:55 init_mysql.go:27: Failed to ping MySQL: dial tcp 172.23.0.4:3306: connect: connection refused
2024/08/24 02:45:19 log_config.go:33: Log initialized successfully
2024/08/24 02:45:19 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.19.0.2:9000: connect: connection refused
2024/08/24 02:45:21 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 02:45:21 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 02:45:21 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 02:45:21 init_mysql.go:27: Failed to ping MySQL: dial tcp 172.19.0.3:3306: connect: connection refused
2024/08/24 02:51:22 log_config.go:33: Log initialized successfully
2024/08/24 02:51:22 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 02:51:22 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 02:51:22 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 02:51:22 init_mysql.go:29: MySQL initialized...
2024/08/24 02:51:22 main.go:20: Starting Hertz server on :8080
2024/08/24 02:58:29 log_config.go:33: Log initialized successfully
2024/08/24 02:58:29 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 02:58:29 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 02:58:29 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 02:58:29 init_mysql.go:27: Failed to ping MySQL: dial tcp 172.22.0.7:3306: connect: connection refused
2024/08/24 03:05:50 log_config.go:33: Log initialized successfully
2024/08/24 03:05:50 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 03:05:50 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 03:05:50 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 03:05:50 init_mysql.go:29: MySQL initialized...
2024/08/24 03:05:50 main.go:20: Starting Hertz server on :8080
2024/08/24 03:09:39 log_config.go:33: Log initialized successfully
2024/08/24 03:09:39 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.23.0.3:9000: connect: connection refused
2024/08/24 03:09:41 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 03:09:41 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 03:09:41 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 03:09:41 init_mysql.go:29: MySQL initialized...
2024/08/24 03:09:41 main.go:20: Starting Hertz server on :8080
2024/08/24 03:16:40 log_config.go:33: Log initialized successfully
2024/08/24 03:16:40 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.24.0.2:9000: connect: connection refused
2024/08/24 03:16:42 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp 172.24.0.2:9000: connect: connection refused
2024/08/24 03:16:44 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 03:16:44 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 03:16:44 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 03:16:44 init_mysql.go:41: MySQL initialized successfully
2024/08/24 03:16:44 main.go:20: Starting Hertz server on :8080
2024/08/24 03:16:54 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 03:16:54.635245189 +0000 UTC m=+14.223653910 UpdatedAt:2024-08-24 03:16:54.635245409 +0000 UTC m=+14.223654106}
2024/08/24 03:21:51 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 03:21:51.965223899 +0000 UTC m=+311.553632638 UpdatedAt:2024-08-24 03:21:51.965224129 +0000 UTC m=+311.553632846}
2024/08/24 03:46:48 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 03:46:48.675804756 +0000 UTC m=+1808.264213484 UpdatedAt:2024-08-24 03:46:48.675804943 +0000 UTC m=+1808.264213648}
2024/08/24 03:49:32 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 03:49:32.910576217 +0000 UTC m=+1972.498984960 UpdatedAt:2024-08-24 03:49:32.910576396 +0000 UTC m=+1972.498985097}
2024/08/24 03:49:46 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 03:49:46.184907319 +0000 UTC m=+1985.773316122 UpdatedAt:2024-08-24 03:49:46.184907603 +0000 UTC m=+1985.773316302}
2024/08/24 04:05:47 log_config.go:33: Log initialized successfully
2024/08/24 04:05:47 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.28.0.2:9000: connect: connection refused
2024/08/24 04:05:49 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp 172.28.0.2:9000: connect: connection refused
2024/08/24 04:05:51 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 04:05:51 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 04:05:51 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 04:05:51 init_mysql.go:41: MySQL initialized successfully
2024/08/24 04:05:51 main.go:20: Starting Hertz server on :8080
2024/08/24 04:37:50 log_config.go:33: Log initialized successfully
2024/08/24 04:37:50 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 04:37:50 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 04:37:50 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 04:37:50 init_mysql.go:36: Failed to ping MySQL (attempt 1): dial tcp 172.26.0.7:3306: connect: connection refused
2024/08/24 04:37:52 init_mysql.go:41: MySQL initialized successfully
2024/08/24 04:37:52 main.go:20: Starting Hertz server on :8080
2024/08/24 04:38:46 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 04:38:46.437861593 +0000 UTC m=+56.169357509 UpdatedAt:2024-08-24 04:38:46.437861823 +0000 UTC m=+56.169357718}
2024/08/24 04:45:09 log_config.go:33: Log initialized successfully
2024/08/24 04:45:09 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.26.0.6:9000: connect: connection refused
2024/08/24 04:45:11 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 04:45:11 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 04:45:11 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 04:45:11 init_mysql.go:36: Failed to ping MySQL (attempt 1): dial tcp 172.26.0.9:3306: connect: connection refused
2024/08/24 04:45:13 init_mysql.go:41: MySQL initialized successfully
2024/08/24 04:45:13 main.go:20: Starting Hertz server on :8080
2024/08/24 04:45:21 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 04:45:21.982745556 +0000 UTC m=+12.461981153 UpdatedAt:2024-08-24 04:45:21.982745695 +0000 UTC m=+12.461981256}
2024/08/24 06:06:30 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 06:06:30.830508574 +0000 UTC m=+4423.087577511 UpdatedAt:2024-08-24 06:06:30.830508744 +0000 UTC m=+4423.087577665}
2024/08/24 06:11:23 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 06:11:23.617422024 +0000 UTC m=+4715.874490939 UpdatedAt:2024-08-24 06:11:23.617422136 +0000 UTC m=+4715.874491040}
2024/08/24 06:25:48 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 06:25:48.450084337 +0000 UTC m=+5580.707153275 UpdatedAt:2024-08-24 06:25:48.450084509 +0000 UTC m=+5580.707153431}
2024/08/24 06:28:15 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 06:28:15.449068371 +0000 UTC m=+5727.706137311 UpdatedAt:2024-08-24 06:28:15.44906854 +0000 UTC m=+5727.706137462}
2024/08/24 06:42:43 log_config.go:33: Log initialized successfully
2024/08/24 06:42:43 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:42:45 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:42:47 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (3/5): dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:42:49 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (4/5): dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:42:51 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (5/5): dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:42:53 init_clickhouse.go:37: Failed to connect to ClickHouse after retries: dial tcp: lookup clickhouse on 127.0.0.53:53: server misbehaving
2024/08/24 06:45:19 log_config.go:33: Log initialized successfully
2024/08/24 06:45:19 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.26.0.7:9000: connect: connection refused
2024/08/24 06:45:21 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 06:45:21 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 06:45:21 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 06:45:21 init_mysql.go:36: Failed to ping MySQL (attempt 1): dial tcp 172.26.0.5:3306: connect: connection refused
2024/08/24 06:45:23 init_mysql.go:41: MySQL initialized successfully
2024/08/24 06:45:23 main.go:20: Starting Hertz server on :8080
2024/08/24 06:49:38 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 06:49:38.086399094 +0000 UTC m=+258.696509468 UpdatedAt:2024-08-24 06:49:38.086399328 +0000 UTC m=+258.696509678}
2024/08/24 07:24:01 log_config.go:33: Log initialized successfully
2024/08/24 07:24:01 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.26.0.2:9000: connect: connection refused
2024/08/24 07:24:03 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 07:24:03 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 07:24:03 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 07:24:03 init_mysql.go:41: MySQL initialized successfully
2024/08/24 07:24:03 main.go:20: Starting Hertz server on :8080
2024/08/24 07:32:40 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:32:40.123216577 +0000 UTC m=+519.198443056 UpdatedAt:2024-08-24 07:32:40.123216908 +0000 UTC m=+519.198443362}
2024/08/24 07:33:40 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:33:40.022543626 +0000 UTC m=+579.097770086 UpdatedAt:2024-08-24 07:33:40.022543794 +0000 UTC m=+579.097770238}
2024/08/24 07:36:45 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:36:45.130649467 +0000 UTC m=+764.205875927 UpdatedAt:2024-08-24 07:36:45.130649636 +0000 UTC m=+764.205876080}
2024/08/24 07:37:45 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:37:45.676098291 +0000 UTC m=+824.751324740 UpdatedAt:2024-08-24 07:37:45.676098431 +0000 UTC m=+824.751324880}
2024/08/24 07:41:41 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:41:41.093687405 +0000 UTC m=+1060.168913853 UpdatedAt:2024-08-24 07:41:41.093687547 +0000 UTC m=+1060.168913982}
2024/08/24 07:46:15 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:46:15.007724693 +0000 UTC m=+1334.082951123 UpdatedAt:2024-08-24 07:46:15.007724826 +0000 UTC m=+1334.082951240}
2024/08/24 07:49:22 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:49:22.441835113 +0000 UTC m=+1521.517061574 UpdatedAt:2024-08-24 07:49:22.441835298 +0000 UTC m=+1521.517061742}
2024/08/24 07:53:56 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 07:53:56.988121554 +0000 UTC m=+1796.063348051 UpdatedAt:2024-08-24 07:53:56.988121759 +0000 UTC m=+1796.063348202}
2024/08/24 07:54:00 icmp_probe.go:43: Received probe result: {IP:8.8.8.8 Timestamp:2024-08-24 07:54:00.101380697 +0000 UTC PacketLoss:0 MinRTT:9.887815ms MaxRTT:10.467003ms AvgRTT:10.1533ms Threshold:10 Success:true}
2024/08/24 07:54:00 probe_result_dao.go:31: Error preparing statement: insert statement supported only in the batch mode (use begin/commit)
2024/08/24 07:54:00 icmp_probe.go:48: Failed to store probe result to ClickHouse: insert statement supported only in the batch mode (use begin/commit)
2024/08/24 07:59:29 log_config.go:33: Log initialized successfully
2024/08/24 07:59:29 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.26.0.5:9000: connect: connection refused
2024/08/24 07:59:31 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): dial tcp 172.26.0.5:9000: connect: connection refused
2024/08/24 07:59:33 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 07:59:33 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 07:59:33 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 07:59:33 init_mysql.go:41: MySQL initialized successfully
2024/08/24 07:59:33 main.go:20: Starting Hertz server on :8080
2024/08/24 08:00:02 icmp_probe.go:30: Assigning probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 08:00:02.875313852 +0000 UTC m=+33.999997868 UpdatedAt:2024-08-24 08:00:02.875314203 +0000 UTC m=+33.999998190}
2024/08/24 08:00:05 icmp_probe.go:43: Received probe result: {IP:8.8.8.8 Timestamp:2024-08-24 08:00:05.957004047 +0000 UTC PacketLoss:0 MinRTT:7.203987ms MaxRTT:13.280177ms AvgRTT:9.658269ms Threshold:10 Success:true}
2024/08/24 08:00:05 probe_result_dao.go:58: Successfully inserted into ClickHouse: timestamp=1724486405, ip=8.8.8.8, packet_loss=0.000000, min_rtt=7203.000000, max_rtt=13280.000000, avg_rtt=9658.000000
2024/08/24 12:21:22 log_config.go:33: Log initialized successfully
2024/08/24 12:21:22 server_config.go:52: Failed to connect to RabbitMQ: dial tcp 127.0.0.1:5672: connect: connection refused
2024/08/24 12:24:07 log_config.go:33: Log initialized successfully
2024/08/24 12:24:07 server_config.go:52: Failed to connect to RabbitMQ: dial tcp 127.0.0.1:5672: connect: connection refused
2024/08/24 12:27:30 log_config.go:33: Log initialized successfully
2024/08/24 12:27:30 server_config.go:52: Failed to connect to RabbitMQ: dial tcp 127.0.0.1:5673: connect: connection refused
2024/08/24 12:31:59 log_config.go:33: Log initialized successfully
2024/08/24 12:31:59 server_config.go:52: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused
2024/08/24 12:36:39 log_config.go:33: Log initialized successfully
2024/08/24 12:36:39 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:36:44 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:36:49 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:36:54 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:36:59 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:37:04 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 12:37:04 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 12:37:04 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 12:37:04 init_mysql.go:41: MySQL initialized successfully
2024/08/24 12:37:04 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 12:37:04 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.2:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:37:09 main.go:29: Starting Hertz server on :8080
2024/08/24 12:57:31 log_config.go:33: Log initialized successfully
2024/08/24 12:57:31 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:57:36 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:57:41 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:57:46 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:57:51 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:57:56 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 12:57:56 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 12:57:56 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 12:57:56 init_mysql.go:41: MySQL initialized successfully
2024/08/24 12:57:56 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 12:57:56 server_config.go:64: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 12:58:01 main.go:29: Starting Hertz server on :8080
2024/08/24 13:16:46 log_config.go:33: Log initialized successfully
2024/08/24 13:16:46 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:16:46 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:16:47 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:16:47 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:16:47 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 13:16:47 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 13:16:47 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 13:16:47 init_mysql.go:41: MySQL initialized successfully
2024/08/24 13:16:47 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 13:16:47 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:16:47 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:16:47 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:16:47 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:16:47 main.go:29: Starting Hertz server on :8080
2024/08/24 13:21:10 log_config.go:33: Log initialized successfully
2024/08/24 13:21:10 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:21:10 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:21:10 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:15 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/24 13:21:15 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:20 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/24 13:21:20 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:25 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/24 13:21:25 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:30 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/24 13:21:30 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:35 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 13:21:35 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 13:21:35 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 13:21:35 init_mysql.go:41: MySQL initialized successfully
2024/08/24 13:21:35 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 13:21:35 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:21:35 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:21:35 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:21:40 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/24 13:21:40 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:21:40 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:21:40 main.go:29: Starting Hertz server on :8080
2024/08/24 13:27:20 log_config.go:33: Log initialized successfully
2024/08/24 13:27:20 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:27:20 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:27:20 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:27:30 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/24 13:27:30 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:27:40 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/24 13:27:40 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 5 seconds...
2024/08/24 13:27:50 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/24 13:27:50 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:27:50 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:27:50 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 13:27:50 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 13:27:50 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 13:27:50 init_mysql.go:41: MySQL initialized successfully
2024/08/24 13:27:50 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 13:27:50 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:27:50 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:27:50 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:27:50 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:27:50 main.go:29: Starting Hertz server on :8080
2024/08/24 13:34:28 log_config.go:33: Log initialized successfully
2024/08/24 13:34:28 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:34:28 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:34:28 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:34:38 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/24 13:34:38 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:34:48 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/24 13:34:48 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:34:58 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/24 13:34:58 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:34:58 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:34:58 server_config.go:97: Successfully declared task_queue
2024/08/24 13:34:58 server_config.go:115: Successfully declared result_queue
2024/08/24 13:34:58 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 13:34:58 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 13:34:58 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 13:34:58 init_mysql.go:41: MySQL initialized successfully
2024/08/24 13:34:58 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 13:34:58 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:34:58 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:34:58 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:34:58 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:34:58 server_config.go:97: Successfully declared task_queue
2024/08/24 13:34:58 server_config.go:115: Successfully declared result_queue
2024/08/24 13:34:58 main.go:29: Starting Hertz server on :8080
2024/08/24 13:45:52 probe_task_dao.go:13: Error preparing statement: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/24 13:45:52 icmp_probe.go:32: Failed to insert task into MySQL: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/24 13:49:25 log_config.go:33: Log initialized successfully
2024/08/24 13:49:25 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:49:25 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:49:25 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:49:35 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/24 13:49:35 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:49:45 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/24 13:49:45 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/24 13:49:55 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/24 13:49:55 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:49:55 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:49:55 server_config.go:97: Successfully declared task_queue
2024/08/24 13:49:55 server_config.go:115: Successfully declared result_queue
2024/08/24 13:49:55 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 13:49:55 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 13:49:55 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 13:49:55 init_mysql.go:41: MySQL initialized successfully
2024/08/24 13:49:55 init_mysql.go:67: Table probe_tasks ensured.
2024/08/24 13:49:55 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 13:49:55 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 13:49:55 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 13:49:55 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 13:49:55 server_config.go:97: Successfully declared task_queue
2024/08/24 13:49:55 server_config.go:115: Successfully declared result_queue
2024/08/24 13:49:55 main.go:29: Starting Hertz server on :8080
2024/08/24 14:00:39 probe_task_dao.go:13: Error preparing statement: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/24 14:00:39 icmp_probe.go:32: Failed to insert task into MySQL: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/24 14:06:23 log_config.go:33: Log initialized successfully
2024/08/24 14:06:23 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 14:06:23 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 14:06:23 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 14:06:23 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 14:06:23 server_config.go:97: Successfully declared task_queue
2024/08/24 14:06:23 server_config.go:115: Successfully declared result_queue
2024/08/24 14:06:23 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/24 14:06:23 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/24 14:06:23 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/24 14:06:23 init_mysql.go:41: MySQL initialized successfully
2024/08/24 14:06:24 init_mysql.go:68: Table probe_tasks ensured.
2024/08/24 14:06:24 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/24 14:06:24 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/24 14:06:24 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/24 14:06:24 server_config.go:79: Successfully created RabbitMQ channel
2024/08/24 14:06:24 server_config.go:97: Successfully declared task_queue
2024/08/24 14:06:24 server_config.go:115: Successfully declared result_queue
2024/08/24 14:06:24 main.go:29: Starting Hertz server on :8080
2024/08/24 14:07:14 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 14:07:14.016696884 +0000 UTC m=+50.946652235 UpdatedAt:2024-08-24 14:07:14.016697084 +0000 UTC m=+50.946652417}
2024/08/24 14:07:14 icmp_probe.go:45: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=my_routing_key, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-24T14:07:14.016696884Z","updated_at":"2024-08-24T14:07:14.016697084Z"}
2024/08/24 14:07:14 icmp_probe.go:62: Task published successfully to RabbitMQ
2024/08/24 14:27:08 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-24 14:27:08.826852894 +0000 UTC m=+1245.756808280 UpdatedAt:2024-08-24 14:27:08.826853145 +0000 UTC m=+1245.756808489}
2024/08/24 14:27:08 icmp_probe.go:45: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=my_routing_key, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-24T14:27:08.826852894Z","updated_at":"2024-08-24T14:27:08.826853145Z"}
2024/08/24 14:27:08 icmp_probe.go:57: Failed to publish task to queue: Exception (504) Reason: "channel/connection is not open"
2024/08/25 02:00:51 log_config.go:33: Log initialized successfully
2024/08/25 02:00:51 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 02:00:51 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 02:00:51 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:01:01 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 02:01:01 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:01:11 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 02:01:11 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:01:21 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 02:01:21 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 02:01:21 server_config.go:79: Successfully created RabbitMQ channel
2024/08/25 02:01:21 server_config.go:97: Successfully declared task_queue
2024/08/25 02:01:21 server_config.go:115: Successfully declared result_queue
2024/08/25 02:01:21 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 02:01:21 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 02:01:21 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 02:01:21 init_mysql.go:41: MySQL initialized successfully
2024/08/25 02:01:22 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 02:01:22 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 02:01:22 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 02:01:22 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 02:01:22 server_config.go:79: Successfully created RabbitMQ channel
2024/08/25 02:01:22 server_config.go:97: Successfully declared task_queue
2024/08/25 02:01:22 server_config.go:115: Successfully declared result_queue
2024/08/25 02:01:22 main.go:29: Starting Hertz server on :8080
2024/08/25 02:01:48 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 02:01:48.202403485 +0000 UTC m=+56.547555738 UpdatedAt:2024-08-25 02:01:48.202403698 +0000 UTC m=+56.547555935}
2024/08/25 02:01:48 icmp_probe.go:45: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=my_routing_key, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T02:01:48.202403485Z","updated_at":"2024-08-25T02:01:48.202403698Z"}
2024/08/25 02:01:48 icmp_probe.go:62: Task published successfully to RabbitMQ
2024/08/25 02:10:42 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 02:10:42.522626496 +0000 UTC m=+590.867778764 UpdatedAt:2024-08-25 02:10:42.522626675 +0000 UTC m=+590.867778916}
2024/08/25 02:10:42 icmp_probe.go:45: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=my_routing_key, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T02:10:42.522626496Z","updated_at":"2024-08-25T02:10:42.522626675Z"}
2024/08/25 02:10:42 icmp_probe.go:57: Failed to publish task to queue: Exception (504) Reason: "channel/connection is not open"
2024/08/25 02:46:21 log_config.go:33: Log initialized successfully
2024/08/25 02:46:21 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 02:46:21 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 02:46:21 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:46:31 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 02:46:31 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:46:41 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 02:46:41 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:46:51 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 02:46:51 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.4:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 02:47:01 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/25 02:47:01 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 02:47:01 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 02:47:01 server_config.go:117: Successfully declared task_queue
2024/08/25 02:47:01 server_config.go:136: Successfully declared result_queue
2024/08/25 02:47:01 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 02:47:01 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 02:47:01 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 02:47:01 init_mysql.go:41: MySQL initialized successfully
2024/08/25 02:47:01 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 02:47:01 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 02:47:01 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 02:47:01 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 02:47:01 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 02:47:01 server_config.go:117: Successfully declared task_queue
2024/08/25 02:47:01 server_config.go:136: Successfully declared result_queue
2024/08/25 02:47:01 main.go:30: Starting Hertz server on :8080
2024/08/25 02:47:34 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 02:47:34.014348896 +0000 UTC m=+72.587295246 UpdatedAt:2024-08-25 02:47:34.014349145 +0000 UTC m=+72.587295459}
2024/08/25 02:47:34 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T02:47:34.014348896Z","updated_at":"2024-08-25T02:47:34.014349145Z"}
2024/08/25 02:47:34 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 03:07:08 log_config.go:33: Log initialized successfully
2024/08/25 03:07:08 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:07:08 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:07:08 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:07:18 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 03:07:18 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:07:28 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 03:07:28 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:07:38 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 03:07:38 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:07:48 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/25 03:07:48 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:07:48 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:07:48 server_config.go:117: Successfully declared task_queue
2024/08/25 03:07:48 server_config.go:136: Successfully declared result_queue
2024/08/25 03:07:48 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 03:07:48 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 03:07:48 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 03:07:48 init_mysql.go:41: MySQL initialized successfully
2024/08/25 03:07:48 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 03:07:48 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:07:48 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:07:48 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:07:48 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:07:48 server_config.go:117: Successfully declared task_queue
2024/08/25 03:07:48 server_config.go:136: Successfully declared result_queue
2024/08/25 03:07:48 main.go:30: Starting Hertz server on :8080
2024/08/25 03:08:20 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 03:08:20.852803768 +0000 UTC m=+72.373649110 UpdatedAt:2024-08-25 03:08:20.85280386 +0000 UTC m=+72.373649186}
2024/08/25 03:08:20 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T03:08:20.852803768Z","updated_at":"2024-08-25T03:08:20.85280386Z"}
2024/08/25 03:08:20 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 03:20:10 icmp_probe.go:85: Registering consumer for queue: result_queue
2024/08/25 03:20:10 icmp_probe.go:114: Consumer registered successfully
2024/08/25 03:20:10 icmp_probe.go:117: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-25T03:08:23.998574754Z","packet_loss":0,"min_rtt":9340634,"max_rtt":48242633,"avg_rtt":33536147,"threshold":10,"success":true}
2024/08/25 03:20:10 icmp_probe.go:126: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-25 03:08:23.998574754 +0000 UTC PacketLoss:0 MinRTT:9.340634ms MaxRTT:48.242633ms AvgRTT:33.536147ms Threshold:10 Success:true}
2024/08/25 03:20:10 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724555303, ip=8.8.8.8, packet_loss=0.000000, min_rtt=9340.000000, max_rtt=48242.000000, avg_rtt=33536.000000
2024/08/25 03:43:20 log_config.go:33: Log initialized successfully
2024/08/25 03:43:20 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:43:20 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:43:20 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:43:30 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 03:43:30 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:43:40 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 03:43:40 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 03:43:50 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 03:43:50 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:43:50 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:43:50 server_config.go:117: Successfully declared task_queue
2024/08/25 03:43:50 server_config.go:136: Successfully declared result_queue
2024/08/25 03:43:50 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 03:43:50 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 03:43:50 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 03:43:50 init_mysql.go:41: MySQL initialized successfully
2024/08/25 03:43:50 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 03:43:50 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:43:50 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:43:50 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:43:50 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:43:50 server_config.go:117: Successfully declared task_queue
2024/08/25 03:43:50 server_config.go:136: Successfully declared result_queue
2024/08/25 03:43:50 main.go:41: Starting Hertz server on :8080
2024/08/25 03:43:50 main.go:27: Starting background worker to process result queue messages
2024/08/25 03:43:50 main.go:30: Failed to handle probe results: 0x1324be0
2024/08/25 03:48:25 log_config.go:33: Log initialized successfully
2024/08/25 03:48:25 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:48:25 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:48:25 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:48:25 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:48:25 server_config.go:117: Successfully declared task_queue
2024/08/25 03:48:25 server_config.go:136: Successfully declared result_queue
2024/08/25 03:48:25 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 03:48:25 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 03:48:25 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 03:48:25 init_mysql.go:41: MySQL initialized successfully
2024/08/25 03:48:26 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 03:48:26 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 03:48:26 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 03:48:26 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 03:48:26 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 03:48:26 server_config.go:117: Successfully declared task_queue
2024/08/25 03:48:26 server_config.go:136: Successfully declared result_queue
2024/08/25 03:48:26 main.go:32: Starting Hertz server on :8080
2024/08/25 03:49:11 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 03:49:11.404596793 +0000 UTC m=+46.215479783 UpdatedAt:2024-08-25 03:49:11.404597032 +0000 UTC m=+46.215479982}
2024/08/25 03:49:11 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T03:49:11.404596793Z","updated_at":"2024-08-25T03:49:11.404597032Z"}
2024/08/25 03:49:11 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 03:49:47 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 03:49:47.732538349 +0000 UTC m=+82.543421328 UpdatedAt:2024-08-25 03:49:47.732538549 +0000 UTC m=+82.543421486}
2024/08/25 03:49:47 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T03:49:47.732538349Z","updated_at":"2024-08-25T03:49:47.732538549Z"}
2024/08/25 03:49:47 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 06:16:36 log_config.go:33: Log initialized successfully
2024/08/25 06:16:36 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:16:36 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:16:36 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:16:46 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 06:16:46 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:16:56 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 06:16:56 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:17:06 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 06:17:06 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:17:06 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:17:06 server_config.go:117: Successfully declared task_queue
2024/08/25 06:17:06 server_config.go:136: Successfully declared result_queue
2024/08/25 06:17:06 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 06:17:06 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 06:17:06 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 06:17:06 init_mysql.go:41: MySQL initialized successfully
2024/08/25 06:17:06 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 06:17:06 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:17:06 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:17:06 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:17:06 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:17:06 server_config.go:117: Successfully declared task_queue
2024/08/25 06:17:06 server_config.go:136: Successfully declared result_queue
2024/08/25 06:17:06 main.go:32: Starting Hertz server on :8080
2024/08/25 06:18:13 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 06:18:13.294434596 +0000 UTC m=+97.376882014 UpdatedAt:2024-08-25 06:18:13.294434897 +0000 UTC m=+97.376882252}
2024/08/25 06:18:13 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T06:18:13.294434596Z","updated_at":"2024-08-25T06:18:13.294434897Z"}
2024/08/25 06:18:13 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 06:25:11 log_config.go:33: Log initialized successfully
2024/08/25 06:25:11 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:25:11 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:25:11 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:25:21 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 06:25:21 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:25:31 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 06:25:31 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:25:41 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 06:25:41 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:25:51 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/25 06:25:51 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:26:01 server_config.go:61: Attempt 6: Connecting to RabbitMQ...
2024/08/25 06:26:01 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:26:11 server_config.go:61: Attempt 7: Connecting to RabbitMQ...
2024/08/25 06:26:11 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:26:11 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:26:11 server_config.go:117: Successfully declared task_queue
2024/08/25 06:26:11 server_config.go:136: Successfully declared result_queue
2024/08/25 06:26:11 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 06:26:11 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 06:26:11 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 06:26:11 init_mysql.go:41: MySQL initialized successfully
2024/08/25 06:26:11 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 06:26:11 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:26:11 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:26:11 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:26:11 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:26:11 server_config.go:117: Successfully declared task_queue
2024/08/25 06:26:11 server_config.go:136: Successfully declared result_queue
2024/08/25 06:26:11 main.go:32: Starting Hertz server on :8080
2024/08/25 06:27:35 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 06:27:35.9652266 +0000 UTC m=+148.431545661 UpdatedAt:2024-08-25 06:27:35.965226693 +0000 UTC m=+148.431545743}
2024/08/25 06:27:35 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T06:27:35.9652266Z","updated_at":"2024-08-25T06:27:35.965226693Z"}
2024/08/25 06:27:35 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 06:33:16 log_config.go:33: Log initialized successfully
2024/08/25 06:33:16 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:33:16 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:33:16 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:33:26 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 06:33:26 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:33:36 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 06:33:36 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.5:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:33:46 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 06:33:46 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:33:46 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:33:46 server_config.go:117: Successfully declared task_queue
2024/08/25 06:33:46 server_config.go:136: Successfully declared result_queue
2024/08/25 06:33:46 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 06:33:46 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 06:33:46 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 06:33:46 init_mysql.go:41: MySQL initialized successfully
2024/08/25 06:33:46 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 06:33:46 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:33:46 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:33:46 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:33:46 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:33:46 server_config.go:117: Successfully declared task_queue
2024/08/25 06:33:46 server_config.go:136: Successfully declared result_queue
2024/08/25 06:33:46 main.go:32: Starting Hertz server on :8080
2024/08/25 06:34:02 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 06:34:02.602492386 +0000 UTC m=+45.951439970 UpdatedAt:2024-08-25 06:34:02.602492615 +0000 UTC m=+45.951440179}
2024/08/25 06:34:02 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T06:34:02.602492386Z","updated_at":"2024-08-25T06:34:02.602492615Z"}
2024/08/25 06:34:02 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 06:34:52 icmp_probe.go:85: Registering consumer for queue: result_queue
2024/08/25 06:34:52 icmp_probe.go:114: Consumer registered successfully
2024/08/25 06:34:52 icmp_probe.go:117: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-25T06:34:43.528041116Z","packet_loss":0,"min_rtt":6179250,"max_rtt":24731262,"avg_rtt":12863518,"threshold":10,"success":true}
2024/08/25 06:34:52 icmp_probe.go:126: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-25 06:34:43.528041116 +0000 UTC PacketLoss:0 MinRTT:6.17925ms MaxRTT:24.731262ms AvgRTT:12.863518ms Threshold:10 Success:true}
2024/08/25 06:34:52 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724567683, ip=8.8.8.8, packet_loss=0.000000, min_rtt=6179.000000, max_rtt=24731.000000, avg_rtt=12863.000000
2024/08/25 06:45:29 log_config.go:33: Log initialized successfully
2024/08/25 06:45:29 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:45:29 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:45:29 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:45:39 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 06:45:39 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:45:49 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 06:45:49 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:45:59 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 06:45:59 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.3:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 06:46:09 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/25 06:46:09 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:46:09 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:46:09 server_config.go:117: Successfully declared task_queue
2024/08/25 06:46:09 server_config.go:136: Successfully declared result_queue
2024/08/25 06:46:09 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 06:46:09 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 06:46:09 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 06:46:09 init_mysql.go:41: MySQL initialized successfully
2024/08/25 06:46:09 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 06:46:09 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 06:46:09 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 06:46:09 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 06:46:09 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 06:46:09 server_config.go:117: Successfully declared task_queue
2024/08/25 06:46:09 server_config.go:136: Successfully declared result_queue
2024/08/25 06:46:09 main.go:35: Starting Hertz server on :8080
2024/08/25 06:46:09 icmp_probe.go:84: Registering consumer for queue: result_queue
2024/08/25 06:46:09 icmp_probe.go:113: Consumer registered successfully
2024/08/25 06:46:39 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 06:46:39.822922003 +0000 UTC m=+70.896181549 UpdatedAt:2024-08-25 06:46:39.822922244 +0000 UTC m=+70.896181734}
2024/08/25 06:46:39 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T06:46:39.822922003Z","updated_at":"2024-08-25T06:46:39.822922244Z"}
2024/08/25 06:46:39 icmp_probe.go:77: Task published successfully to RabbitMQ
2024/08/25 06:46:42 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2024-08-25T06:46:42.892726476Z","packet_loss":0,"min_rtt":8468402,"max_rtt":16359172,"avg_rtt":12313086,"threshold":10,"success":true}
2024/08/25 06:46:42 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2024-08-25 06:46:42.892726476 +0000 UTC PacketLoss:0 MinRTT:8.468402ms MaxRTT:16.359172ms AvgRTT:12.313086ms Threshold:10 Success:true}
2024/08/25 06:46:42 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1724568402, ip=8.8.8.8, packet_loss=0.000000, min_rtt=8468.000000, max_rtt=16359.000000, avg_rtt=12313.000000
2024/08/25 07:24:33 log_config.go:33: Log initialized successfully
2024/08/25 07:24:33 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 07:24:33 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 07:24:33 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 07:24:33 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 07:24:34 server_config.go:117: Successfully declared task_queue
2024/08/25 07:24:34 server_config.go:136: Successfully declared result_queue
2024/08/25 07:24:34 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 07:24:34 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 07:24:34 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 07:24:34 init_mysql.go:41: MySQL initialized successfully
2024/08/25 07:24:34 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 07:24:34 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 07:24:34 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 07:24:34 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 07:24:34 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 07:24:34 server_config.go:117: Successfully declared task_queue
2024/08/25 07:24:34 server_config.go:136: Successfully declared result_queue
2024/08/25 07:24:34 main.go:35: Starting Hertz server on :8080
2024/08/25 07:24:34 icmp_probe.go:84: Registering consumer for queue: result_queue
2024/08/25 07:24:34 icmp_probe.go:113: Consumer registered successfully
2024/08/25 07:24:52 probe_task_dao.go:13: Error preparing statement: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/25 07:24:52 icmp_probe.go:32: Failed to insert task into MySQL: Error 1054 (42S22): Unknown column 'status' in 'field list'
2024/08/25 07:28:55 probe_task_dao.go:13: Error preparing statement: Error 1146 (42S02): Table 'my_database.probe_tasks' doesn't exist
2024/08/25 07:28:55 icmp_probe.go:32: Failed to insert task into MySQL: Error 1146 (42S02): Table 'my_database.probe_tasks' doesn't exist
2024/08/25 07:29:05 probe_task_dao.go:13: Error preparing statement: Error 1146 (42S02): Table 'my_database.probe_tasks' doesn't exist
2024/08/25 07:29:05 icmp_probe.go:32: Failed to insert task into MySQL: Error 1146 (42S02): Table 'my_database.probe_tasks' doesn't exist
2024/08/25 07:32:05 log_config.go:33: Log initialized successfully
2024/08/25 07:32:05 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 07:32:05 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 07:32:05 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 07:32:15 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2024/08/25 07:32:15 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 07:32:25 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2024/08/25 07:32:25 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 07:32:35 server_config.go:61: Attempt 4: Connecting to RabbitMQ...
2024/08/25 07:32:35 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.26.0.7:5672: connect: connection refused, retrying in 10 seconds...
2024/08/25 07:32:45 server_config.go:61: Attempt 5: Connecting to RabbitMQ...
2024/08/25 07:32:45 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 07:32:45 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 07:32:45 server_config.go:117: Successfully declared task_queue
2024/08/25 07:32:45 server_config.go:136: Successfully declared result_queue
2024/08/25 07:32:46 init_clickhouse.go:28: Successfully connected to ClickHouse
2024/08/25 07:32:46 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2024/08/25 07:32:46 init_clickhouse.go:64: ClickHouse table created successfully
2024/08/25 07:32:46 init_mysql.go:41: MySQL initialized successfully
2024/08/25 07:32:46 init_mysql.go:68: Table probe_tasks ensured.
2024/08/25 07:32:46 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2024/08/25 07:32:46 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2024/08/25 07:32:46 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2024/08/25 07:32:46 server_config.go:80: Successfully created RabbitMQ channel
2024/08/25 07:32:46 server_config.go:117: Successfully declared task_queue
2024/08/25 07:32:46 server_config.go:136: Successfully declared result_queue
2024/08/25 07:32:46 main.go:35: Starting Hertz server on :8080
2024/08/25 07:32:46 icmp_probe.go:84: Registering consumer for queue: result_queue
2024/08/25 07:32:46 icmp_probe.go:113: Consumer registered successfully
2024/08/25 07:33:03 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 07:33:03.445495829 +0000 UTC m=+57.640935195 UpdatedAt:2024-08-25 07:33:03.44549609 +0000 UTC m=+57.640935398}
2024/08/25 07:33:03 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2024-08-25 07:33:03.445495829 +0000 UTC m=+57.640935195 UpdatedAt:2024-08-25 07:33:03.44549609 +0000 UTC m=+57.640935398}
2024/08/25 07:33:03 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2024-08-25T07:33:03.445495829Z","updated_at":"2024-08-25T07:33:03.44549609Z"}
2024/08/25 07:33:03 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/08/26 05:40:54 log_config.go:33: Log initialized successfully
2025/08/26 05:40:54 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/26 05:40:54 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/26 05:40:54 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.5:5672: connect: connection refused, retrying in 10 seconds...
2025/08/26 05:41:04 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/26 05:41:04 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/26 05:41:04 server_config.go:80: Successfully created RabbitMQ channel
2025/08/26 05:41:04 server_config.go:117: Successfully declared task_queue
2025/08/26 05:41:04 server_config.go:136: Successfully declared result_queue
2025/08/26 05:41:04 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/26 05:41:04 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/26 05:41:04 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/26 05:41:04 init_mysql.go:41: MySQL initialized successfully
2025/08/26 05:41:04 init_mysql.go:68: Table probe_tasks ensured.
2025/08/26 05:41:04 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/26 05:41:04 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/26 05:41:04 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/26 05:41:04 server_config.go:80: Successfully created RabbitMQ channel
2025/08/26 05:41:04 server_config.go:117: Successfully declared task_queue
2025/08/26 05:41:04 server_config.go:136: Successfully declared result_queue
2025/08/26 05:41:04 main.go:35: Starting Hertz server on :8080
2025/08/26 05:41:04 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/26 05:41:04 icmp_probe.go:113: Consumer registered successfully
2025/08/26 10:05:47 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-26T10:05:47.530084172Z","packet_loss":0,"min_rtt":16009416,"max_rtt":19537834,"avg_rtt":17283021,"threshold":10,"success":true}
2025/08/26 10:05:47 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-26 10:05:47.530084172 +0000 UTC PacketLoss:0 MinRTT:16.009416ms MaxRTT:19.537834ms AvgRTT:17.283021ms Threshold:10 Success:true}
2025/08/26 10:05:47 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756202747, ip=8.8.8.8, packet_loss=0.000000, min_rtt=16009.000000, max_rtt=19537.000000, avg_rtt=17283.000000
2025/08/26 10:46:57 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-26T10:46:57.334257509Z","packet_loss":0,"min_rtt":13596416,"max_rtt":21015000,"avg_rtt":16082406,"threshold":10,"success":true}
2025/08/26 10:46:57 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-26 10:46:57.334257509 +0000 UTC PacketLoss:0 MinRTT:13.596416ms MaxRTT:21.015ms AvgRTT:16.082406ms Threshold:10 Success:true}
2025/08/26 10:46:57 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756205217, ip=8.8.8.8, packet_loss=0.000000, min_rtt=13596.000000, max_rtt=21015.000000, avg_rtt=16082.000000
2025/08/26 11:33:26 log_config.go:33: Log initialized successfully
2025/08/26 11:33:26 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/26 11:33:26 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/26 11:33:26 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.8:5672: connect: connection refused, retrying in 10 seconds...
2025/08/26 11:33:36 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/26 11:33:36 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/26 11:33:36 server_config.go:80: Successfully created RabbitMQ channel
2025/08/26 11:33:36 server_config.go:117: Successfully declared task_queue
2025/08/26 11:33:36 server_config.go:136: Successfully declared result_queue
2025/08/26 11:33:36 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/26 11:33:36 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/26 11:33:36 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/26 11:33:36 init_mysql.go:41: MySQL initialized successfully
2025/08/26 11:33:36 init_mysql.go:68: Table probe_tasks ensured.
2025/08/26 11:33:36 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/26 11:33:36 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/26 11:33:36 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/26 11:33:36 server_config.go:80: Successfully created RabbitMQ channel
2025/08/26 11:33:36 server_config.go:117: Successfully declared task_queue
2025/08/26 11:33:36 server_config.go:136: Successfully declared result_queue
2025/08/26 11:33:36 main.go:35: Starting Hertz server on :8080
2025/08/26 11:33:36 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/26 11:33:36 icmp_probe.go:113: Consumer registered successfully
2025/08/26 11:39:41 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-26T11:39:41.202192168Z","packet_loss":0,"min_rtt":12728958,"max_rtt":15879084,"avg_rtt":13823834,"threshold":0,"success":true}
2025/08/26 11:39:41 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-26 11:39:41.202192168 +0000 UTC PacketLoss:0 MinRTT:12.728958ms MaxRTT:15.879084ms AvgRTT:13.823834ms Threshold:0 Success:true}
2025/08/26 11:39:41 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756208381, ip=8.8.8.8, packet_loss=0.000000, min_rtt=12728.000000, max_rtt=15879.000000, avg_rtt=13823.000000
2025/08/26 11:43:01 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"1.1.1.1","timestamp":"2025-08-26T11:43:01.110519219Z","packet_loss":0,"min_rtt":14710417,"max_rtt":20922416,"avg_rtt":17127111,"threshold":0,"success":true}
2025/08/26 11:43:01 icmp_probe.go:125: Processed probe result: {IP:1.1.1.1 Timestamp:2025-08-26 11:43:01.110519219 +0000 UTC PacketLoss:0 MinRTT:14.710417ms MaxRTT:20.922416ms AvgRTT:17.127111ms Threshold:0 Success:true}
2025/08/26 11:43:01 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756208581, ip=1.1.1.1, packet_loss=0.000000, min_rtt=14710.000000, max_rtt=20922.000000, avg_rtt=17127.000000
2025/08/26 11:46:00 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"1.1.1.1","timestamp":"2025-08-26T11:46:00.360452969Z","packet_loss":0,"min_rtt":12347125,"max_rtt":22873167,"avg_rtt":17496791,"threshold":0,"success":true}
2025/08/26 11:46:00 icmp_probe.go:125: Processed probe result: {IP:1.1.1.1 Timestamp:2025-08-26 11:46:00.360452969 +0000 UTC PacketLoss:0 MinRTT:12.347125ms MaxRTT:22.873167ms AvgRTT:17.496791ms Threshold:0 Success:true}
2025/08/26 11:46:00 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756208760, ip=1.1.1.1, packet_loss=0.000000, min_rtt=12347.000000, max_rtt=22873.000000, avg_rtt=17496.000000
2025/08/26 11:46:10 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"1.1.1.1","timestamp":"2025-08-26T11:46:10.770587959Z","packet_loss":0,"min_rtt":11345208,"max_rtt":19106250,"avg_rtt":15951861,"threshold":0,"success":true}
2025/08/26 11:46:10 icmp_probe.go:125: Processed probe result: {IP:1.1.1.1 Timestamp:2025-08-26 11:46:10.770587959 +0000 UTC PacketLoss:0 MinRTT:11.345208ms MaxRTT:19.10625ms AvgRTT:15.951861ms Threshold:0 Success:true}
2025/08/26 11:46:10 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756208770, ip=1.1.1.1, packet_loss=0.000000, min_rtt=11345.000000, max_rtt=19106.000000, avg_rtt=15951.000000
2025/08/26 11:46:14 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"1.1.1.1","timestamp":"2025-08-26T11:46:14.789474003Z","packet_loss":0,"min_rtt":7962375,"max_rtt":13840750,"avg_rtt":11413916,"threshold":0,"success":true}
2025/08/26 11:46:14 icmp_probe.go:125: Processed probe result: {IP:1.1.1.1 Timestamp:2025-08-26 11:46:14.789474003 +0000 UTC PacketLoss:0 MinRTT:7.962375ms MaxRTT:13.84075ms AvgRTT:11.413916ms Threshold:0 Success:true}
2025/08/26 11:46:14 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756208774, ip=1.1.1.1, packet_loss=0.000000, min_rtt=7962.000000, max_rtt=13840.000000, avg_rtt=11413.000000
2025/08/26 12:08:37 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"9.9.9.9","timestamp":"2025-08-26T12:08:37.415696173Z","packet_loss":0,"min_rtt":14594000,"max_rtt":16321709,"avg_rtt":15682556,"threshold":0,"success":true}
2025/08/26 12:08:37 icmp_probe.go:125: Processed probe result: {IP:9.9.9.9 Timestamp:2025-08-26 12:08:37.415696173 +0000 UTC PacketLoss:0 MinRTT:14.594ms MaxRTT:16.321709ms AvgRTT:15.682556ms Threshold:0 Success:true}
2025/08/26 12:08:37 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756210117, ip=9.9.9.9, packet_loss=0.000000, min_rtt=14594.000000, max_rtt=16321.000000, avg_rtt=15682.000000
2025/08/26 13:50:11 icmp_probe.go:116: Received message from RabbitMQ: 
2025/08/26 13:50:11 icmp_probe.go:121: Failed to unmarshal probe result: unexpected end of JSON input
2025/08/26 14:07:52 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-26T14:07:52.027699302Z","packet_loss":0,"min_rtt":12293125,"max_rtt":13763709,"avg_rtt":13038167,"threshold":0,"success":true}
2025/08/26 14:07:52 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-26 14:07:52.027699302 +0000 UTC PacketLoss:0 MinRTT:12.293125ms MaxRTT:13.763709ms AvgRTT:13.038167ms Threshold:0 Success:true}
2025/08/26 14:07:52 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756217272, ip=8.8.8.8, packet_loss=0.000000, min_rtt=12293.000000, max_rtt=13763.000000, avg_rtt=13038.000000
2025/08/26 14:08:49 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-26T14:08:49.539387134Z","packet_loss":0,"min_rtt":13893709,"max_rtt":13893709,"avg_rtt":13893709,"threshold":0,"success":true}
2025/08/26 14:08:49 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-26 14:08:49.539387134 +0000 UTC PacketLoss:0 MinRTT:13.893709ms MaxRTT:13.893709ms AvgRTT:13.893709ms Threshold:0 Success:true}
2025/08/26 14:08:49 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756217329, ip=8.8.8.8, packet_loss=0.000000, min_rtt=13893.000000, max_rtt=13893.000000, avg_rtt=13893.000000
2025/08/26 14:09:35 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"9.8.8.8","timestamp":"2025-08-26T14:09:35.150148586Z","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":0,"success":false}
2025/08/26 14:09:35 icmp_probe.go:125: Processed probe result: {IP:9.8.8.8 Timestamp:2025-08-26 14:09:35.150148586 +0000 UTC PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:0 Success:false}
2025/08/26 14:09:35 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756217375, ip=9.8.8.8, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/08/26 14:09:35 icmp_probe.go:135: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=0)
2025/08/26 14:09:35 icmp_probe.go:151: Sending data to Prometheus: packet_loss{ip="9.8.8.8", timestamp="1756217375"} 100.000000
2025/08/26 14:09:35 icmp_probe.go:167: Error sending data to Prometheus: dial tcp 172.19.0.7:9091: connection has been closed by peer
2025/08/26 14:18:58 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"9.9.9.9","timestamp":"2025-08-26T14:18:58.291823597Z","packet_loss":0,"min_rtt":17932208,"max_rtt":17932208,"avg_rtt":17932208,"threshold":0,"success":true}
2025/08/26 14:18:58 icmp_probe.go:125: Processed probe result: {IP:9.9.9.9 Timestamp:2025-08-26 14:18:58.291823597 +0000 UTC PacketLoss:0 MinRTT:17.932208ms MaxRTT:17.932208ms AvgRTT:17.932208ms Threshold:0 Success:true}
2025/08/26 14:18:58 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756217938, ip=9.9.9.9, packet_loss=0.000000, min_rtt=17932.000000, max_rtt=17932.000000, avg_rtt=17932.000000
2025/08/26 15:00:31 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-26T15:00:31.78745659Z","packet_loss":0,"min_rtt":14425584,"max_rtt":16030125,"avg_rtt":15227855,"threshold":-1,"success":false}
2025/08/26 15:00:31 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-26 15:00:31.78745659 +0000 UTC PacketLoss:0 MinRTT:14.425584ms MaxRTT:16.030125ms AvgRTT:15.227855ms Threshold:-1 Success:false}
2025/08/26 15:00:31 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756220431, ip=8.8.8.8, packet_loss=0.000000, min_rtt=14425.000000, max_rtt=16030.000000, avg_rtt=15227.000000
2025/08/26 15:00:31 icmp_probe.go:135: Packet loss exceeds threshold, reporting to Prometheus: 0.000000 > %!f(int=-1)
2025/08/26 15:00:31 icmp_probe.go:151: Sending data to Prometheus: packet_loss{ip="8.8.8.8", timestamp="1756220431"} 0.000000
2025/08/26 15:00:31 icmp_probe.go:167: Error sending data to Prometheus: dial tcp 172.19.0.7:9091: connection has been closed by peer
2025/08/27 14:52:33 log_config.go:33: Log initialized successfully
2025/08/27 14:52:33 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/27 14:52:33 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/27 14:52:33 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/27 14:52:33 server_config.go:80: Successfully created RabbitMQ channel
2025/08/27 14:52:33 server_config.go:117: Successfully declared task_queue
2025/08/27 14:52:33 server_config.go:136: Successfully declared result_queue
2025/08/27 14:52:33 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/27 14:52:33 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/27 14:52:33 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/27 14:52:33 init_mysql.go:41: MySQL initialized successfully
2025/08/27 14:52:33 init_mysql.go:68: Table probe_tasks ensured.
2025/08/27 14:52:33 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/27 14:52:33 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/27 14:52:33 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/27 14:52:33 server_config.go:80: Successfully created RabbitMQ channel
2025/08/27 14:52:33 server_config.go:117: Successfully declared task_queue
2025/08/27 14:52:33 server_config.go:136: Successfully declared result_queue
2025/08/27 14:52:33 main.go:35: Starting Hertz server on :8080
2025/08/27 14:52:33 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/27 14:52:33 icmp_probe.go:113: Consumer registered successfully
2025/08/27 15:00:55 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"9.9.9.9","timestamp":"2025-08-27T15:00:55.816477755Z","packet_loss":0,"min_rtt":15218167,"max_rtt":18978709,"avg_rtt":17231361,"threshold":10,"success":true}
2025/08/27 15:00:55 icmp_probe.go:125: Processed probe result: {IP:9.9.9.9 Timestamp:2025-08-27 15:00:55.816477755 +0000 UTC PacketLoss:0 MinRTT:15.218167ms MaxRTT:18.978709ms AvgRTT:17.231361ms Threshold:10 Success:true}
2025/08/27 15:00:55 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756306855, ip=9.9.9.9, packet_loss=0.000000, min_rtt=15218.000000, max_rtt=18978.000000, avg_rtt=17231.000000
2025/08/27 17:28:28 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-27T17:28:28.741838972Z","packet_loss":0,"min_rtt":17140416,"max_rtt":19071833,"avg_rtt":18290344,"threshold":0,"success":true}
2025/08/27 17:28:28 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-27 17:28:28.741838972 +0000 UTC PacketLoss:0 MinRTT:17.140416ms MaxRTT:19.071833ms AvgRTT:18.290344ms Threshold:0 Success:true}
2025/08/27 17:28:28 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756315708, ip=8.8.8.8, packet_loss=0.000000, min_rtt=17140.000000, max_rtt=19071.000000, avg_rtt=18290.000000
2025/08/27 18:13:43 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-27T18:13:43.118897881Z","packet_loss":0,"min_rtt":10783584,"max_rtt":12027125,"avg_rtt":11591886,"threshold":90,"success":true}
2025/08/27 18:13:43 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-27 18:13:43.118897881 +0000 UTC PacketLoss:0 MinRTT:10.783584ms MaxRTT:12.027125ms AvgRTT:11.591886ms Threshold:90 Success:true}
2025/08/27 18:13:43 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756318423, ip=8.8.8.8, packet_loss=0.000000, min_rtt=10783.000000, max_rtt=12027.000000, avg_rtt=11591.000000
2025/08/27 18:15:49 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-27T18:15:49.489448842Z","packet_loss":0,"min_rtt":15309209,"max_rtt":18100833,"avg_rtt":16759469,"threshold":90,"success":true}
2025/08/27 18:15:49 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-27 18:15:49.489448842 +0000 UTC PacketLoss:0 MinRTT:15.309209ms MaxRTT:18.100833ms AvgRTT:16.759469ms Threshold:90 Success:true}
2025/08/27 18:15:49 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756318549, ip=8.8.8.8, packet_loss=0.000000, min_rtt=15309.000000, max_rtt=18100.000000, avg_rtt=16759.000000
2025/08/28 03:00:48 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T03:00:48.646340968Z","packet_loss":0,"min_rtt":9339083,"max_rtt":18964292,"avg_rtt":15579009,"threshold":90,"success":true}
2025/08/28 03:00:48 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 03:00:48.646340968 +0000 UTC PacketLoss:0 MinRTT:9.339083ms MaxRTT:18.964292ms AvgRTT:15.579009ms Threshold:90 Success:true}
2025/08/28 03:00:48 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756350048, ip=8.8.8.8, packet_loss=0.000000, min_rtt=9339.000000, max_rtt=18964.000000, avg_rtt=15579.000000
2025/08/28 03:13:52 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T03:13:52.808907636Z","packet_loss":0,"min_rtt":12160833,"max_rtt":14625084,"avg_rtt":13692552,"threshold":90,"success":true}
2025/08/28 03:13:52 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 03:13:52.808907636 +0000 UTC PacketLoss:0 MinRTT:12.160833ms MaxRTT:14.625084ms AvgRTT:13.692552ms Threshold:90 Success:true}
2025/08/28 03:13:52 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756350832, ip=8.8.8.8, packet_loss=0.000000, min_rtt=12160.000000, max_rtt=14625.000000, avg_rtt=13692.000000
2025/08/28 03:23:20 log_config.go:33: Log initialized successfully
2025/08/28 03:23:20 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:23:20 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:23:20 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.8:5672: connect: connection refused, retrying in 10 seconds...
2025/08/28 03:23:30 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/28 03:23:30 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:23:30 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:23:30 server_config.go:117: Successfully declared task_queue
2025/08/28 03:23:30 server_config.go:136: Successfully declared result_queue
2025/08/28 03:23:30 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/28 03:23:30 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/28 03:23:30 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/28 03:23:30 init_mysql.go:41: MySQL initialized successfully
2025/08/28 03:23:30 init_mysql.go:68: Table probe_tasks ensured.
2025/08/28 03:23:30 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:23:30 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:23:30 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:23:30 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:23:30 server_config.go:117: Successfully declared task_queue
2025/08/28 03:23:30 server_config.go:136: Successfully declared result_queue
2025/08/28 03:23:30 main.go:35: Starting Hertz server on :8080
2025/08/28 03:23:30 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/28 03:23:30 icmp_probe.go:113: Consumer registered successfully
2025/08/28 03:27:05 log_config.go:33: Log initialized successfully
2025/08/28 03:27:05 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:27:05 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:27:05 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.8:5672: connect: connection refused, retrying in 10 seconds...
2025/08/28 03:27:15 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/28 03:27:15 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:27:15 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:27:15 server_config.go:117: Successfully declared task_queue
2025/08/28 03:27:15 server_config.go:136: Successfully declared result_queue
2025/08/28 03:27:15 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/28 03:27:15 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/28 03:27:15 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/28 03:27:15 init_mysql.go:41: MySQL initialized successfully
2025/08/28 03:27:15 init_mysql.go:68: Table probe_tasks ensured.
2025/08/28 03:27:15 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:27:15 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:27:15 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:27:15 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:27:15 server_config.go:117: Successfully declared task_queue
2025/08/28 03:27:15 server_config.go:136: Successfully declared result_queue
2025/08/28 03:27:15 main.go:35: Starting Hertz server on :8080
2025/08/28 03:27:15 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/28 03:27:15 icmp_probe.go:113: Consumer registered successfully
2025/08/28 03:31:02 log_config.go:33: Log initialized successfully
2025/08/28 03:31:02 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:31:02 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:31:02 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.6:5672: connect: connection refused, retrying in 10 seconds...
2025/08/28 03:31:12 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/28 03:31:12 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:31:12 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:31:12 server_config.go:117: Successfully declared task_queue
2025/08/28 03:31:12 server_config.go:136: Successfully declared result_queue
2025/08/28 03:31:12 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/28 03:31:12 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/28 03:31:12 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/28 03:31:12 init_mysql.go:41: MySQL initialized successfully
2025/08/28 03:31:12 init_mysql.go:68: Table probe_tasks ensured.
2025/08/28 03:31:12 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:31:12 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:31:12 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:31:12 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:31:12 server_config.go:117: Successfully declared task_queue
2025/08/28 03:31:12 server_config.go:136: Successfully declared result_queue
2025/08/28 03:31:12 main.go:35: Starting Hertz server on :8080
2025/08/28 03:31:12 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/28 03:31:12 icmp_probe.go:113: Consumer registered successfully
2025/08/28 03:33:07 log_config.go:33: Log initialized successfully
2025/08/28 03:33:07 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:33:07 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:33:07 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.9:5672: connect: connection refused, retrying in 10 seconds...
2025/08/28 03:33:17 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/28 03:33:17 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:33:17 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:33:17 server_config.go:117: Successfully declared task_queue
2025/08/28 03:33:17 server_config.go:136: Successfully declared result_queue
2025/08/28 03:33:17 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/28 03:33:17 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/28 03:33:17 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/28 03:33:17 init_mysql.go:41: MySQL initialized successfully
2025/08/28 03:33:17 init_mysql.go:68: Table probe_tasks ensured.
2025/08/28 03:33:17 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:33:17 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:33:17 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:33:17 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:33:17 server_config.go:117: Successfully declared task_queue
2025/08/28 03:33:17 server_config.go:136: Successfully declared result_queue
2025/08/28 03:33:17 main.go:35: Starting Hertz server on :8080
2025/08/28 03:33:17 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/28 03:33:17 icmp_probe.go:113: Consumer registered successfully
2025/08/28 03:33:37 log_config.go:33: Log initialized successfully
2025/08/28 03:33:37 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:33:37 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:33:37 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.4:5672: connect: connection refused, retrying in 10 seconds...
2025/08/28 03:33:47 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/28 03:33:47 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:33:47 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:33:47 server_config.go:117: Successfully declared task_queue
2025/08/28 03:33:47 server_config.go:136: Successfully declared result_queue
2025/08/28 03:33:47 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/28 03:33:47 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/28 03:33:47 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/28 03:33:47 init_mysql.go:41: MySQL initialized successfully
2025/08/28 03:33:47 init_mysql.go:68: Table probe_tasks ensured.
2025/08/28 03:33:47 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:33:47 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:33:47 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:33:47 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:33:47 server_config.go:117: Successfully declared task_queue
2025/08/28 03:33:47 server_config.go:136: Successfully declared result_queue
2025/08/28 03:33:47 main.go:35: Starting Hertz server on :8080
2025/08/28 03:33:47 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/28 03:33:47 icmp_probe.go:113: Consumer registered successfully
2025/08/28 03:34:01 log_config.go:33: Log initialized successfully
2025/08/28 03:34:01 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:34:01 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:34:01 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.6:5672: connect: connection refused, retrying in 10 seconds...
2025/08/28 03:34:11 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/28 03:34:11 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:34:11 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:34:11 server_config.go:117: Successfully declared task_queue
2025/08/28 03:34:11 server_config.go:136: Successfully declared result_queue
2025/08/28 03:34:11 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/28 03:34:11 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/28 03:34:11 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/28 03:34:11 init_mysql.go:41: MySQL initialized successfully
2025/08/28 03:34:11 init_mysql.go:68: Table probe_tasks ensured.
2025/08/28 03:34:11 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:34:11 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:34:11 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:34:11 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:34:11 server_config.go:117: Successfully declared task_queue
2025/08/28 03:34:11 server_config.go:136: Successfully declared result_queue
2025/08/28 03:34:11 main.go:35: Starting Hertz server on :8080
2025/08/28 03:34:11 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/28 03:34:11 icmp_probe.go:113: Consumer registered successfully
2025/08/28 03:37:16 log_config.go:33: Log initialized successfully
2025/08/28 03:37:16 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:37:16 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:37:16 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.8:5672: connect: connection refused, retrying in 10 seconds...
2025/08/28 03:37:26 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/28 03:37:26 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:37:26 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:37:26 server_config.go:117: Successfully declared task_queue
2025/08/28 03:37:26 server_config.go:136: Successfully declared result_queue
2025/08/28 03:37:26 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:37:28 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:37:30 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (3/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:37:32 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (4/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:37:34 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (5/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:37:36 init_clickhouse.go:37: Failed to connect to ClickHouse after retries: code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:44:57 log_config.go:33: Log initialized successfully
2025/08/28 03:44:57 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:44:57 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:44:57 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.9:5672: connect: connection refused, retrying in 10 seconds...
2025/08/28 03:45:07 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/28 03:45:07 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:45:07 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:45:07 server_config.go:117: Successfully declared task_queue
2025/08/28 03:45:07 server_config.go:136: Successfully declared result_queue
2025/08/28 03:45:07 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:45:09 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:45:11 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (3/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:45:13 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (4/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:45:15 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (5/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:45:17 init_clickhouse.go:37: Failed to connect to ClickHouse after retries: code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:54:17 log_config.go:33: Log initialized successfully
2025/08/28 03:54:17 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:54:17 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:54:17 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:54:17 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:54:17 server_config.go:117: Successfully declared task_queue
2025/08/28 03:54:17 server_config.go:136: Successfully declared result_queue
2025/08/28 03:54:17 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:54:19 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:54:21 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (3/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:54:23 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (4/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:54:25 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (5/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:54:27 init_clickhouse.go:37: Failed to connect to ClickHouse after retries: code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:56:19 log_config.go:33: Log initialized successfully
2025/08/28 03:56:19 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 03:56:19 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 03:56:19 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 03:56:19 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 03:56:19 server_config.go:117: Successfully declared task_queue
2025/08/28 03:56:19 server_config.go:136: Successfully declared result_queue
2025/08/28 03:56:19 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (1/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:56:21 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (2/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:56:23 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (3/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:56:25 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (4/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:56:27 init_clickhouse.go:31: Failed to ping ClickHouse, attempt (5/5): code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 03:56:29 init_clickhouse.go:37: Failed to connect to ClickHouse after retries: code: 516, message: default: Authentication failed: password is incorrect, or there is no user with such name.

If you use ClickHouse Cloud, the password can be reset at https://clickhouse.cloud/
on the settings page for the corresponding service.

If you have installed ClickHouse and forgot password you can reset it in the configuration file.
The password for default user is typically located at /etc/clickhouse-server/users.d/default-password.xml
and deleting this file will reset the password.
See also /etc/clickhouse-server/users.xml on the server where ClickHouse is installed.
2025/08/28 04:40:31 log_config.go:33: Log initialized successfully
2025/08/28 04:40:31 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 04:40:31 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 04:40:31 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.9:5672: connect: connection refused, retrying in 10 seconds...
2025/08/28 04:40:41 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/28 04:40:41 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 04:40:41 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 04:40:41 server_config.go:117: Successfully declared task_queue
2025/08/28 04:40:41 server_config.go:136: Successfully declared result_queue
2025/08/28 04:40:41 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/28 04:40:41 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/28 04:40:41 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/28 04:40:41 init_mysql.go:41: MySQL initialized successfully
2025/08/28 04:40:41 init_mysql.go:68: Table probe_tasks ensured.
2025/08/28 04:40:41 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 04:40:41 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 04:40:41 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 04:40:41 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 04:40:41 server_config.go:117: Successfully declared task_queue
2025/08/28 04:40:41 server_config.go:136: Successfully declared result_queue
2025/08/28 04:40:41 main.go:35: Starting Hertz server on :8080
2025/08/28 04:40:41 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/28 04:40:41 icmp_probe.go:113: Consumer registered successfully
2025/08/28 04:48:33 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T04:48:33.88080671Z","packet_loss":0,"min_rtt":19684250,"max_rtt":21075416,"avg_rtt":20398772,"threshold":90,"success":true}
2025/08/28 04:48:33 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 04:48:33.88080671 +0000 UTC PacketLoss:0 MinRTT:19.68425ms MaxRTT:21.075416ms AvgRTT:20.398772ms Threshold:90 Success:true}
2025/08/28 04:48:33 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756356513, ip=8.8.8.8, packet_loss=0.000000, min_rtt=19684.000000, max_rtt=21075.000000, avg_rtt=20398.000000
2025/08/28 04:57:09 log_config.go:33: Log initialized successfully
2025/08/28 04:57:09 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 04:57:09 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 04:57:09 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.6:5672: connect: connection refused, retrying in 10 seconds...
2025/08/28 04:57:19 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/28 04:57:19 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 04:57:19 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 04:57:19 server_config.go:117: Successfully declared task_queue
2025/08/28 04:57:19 server_config.go:136: Successfully declared result_queue
2025/08/28 04:57:19 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/28 04:57:19 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/28 04:57:19 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/28 04:57:19 init_mysql.go:41: MySQL initialized successfully
2025/08/28 04:57:19 init_mysql.go:68: Table probe_tasks ensured.
2025/08/28 04:57:19 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 04:57:19 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 04:57:19 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 04:57:19 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 04:57:19 server_config.go:117: Successfully declared task_queue
2025/08/28 04:57:19 server_config.go:136: Successfully declared result_queue
2025/08/28 04:57:19 main.go:35: Starting Hertz server on :8080
2025/08/28 04:57:19 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/28 04:57:19 icmp_probe.go:113: Consumer registered successfully
2025/08/28 04:57:56 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T04:57:56.451534096Z","packet_loss":0,"min_rtt":9699209,"max_rtt":17492250,"avg_rtt":15135489,"threshold":90,"success":true}
2025/08/28 04:57:56 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 04:57:56.451534096 +0000 UTC PacketLoss:0 MinRTT:9.699209ms MaxRTT:17.49225ms AvgRTT:15.135489ms Threshold:90 Success:true}
2025/08/28 04:57:56 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756357076, ip=8.8.8.8, packet_loss=0.000000, min_rtt=9699.000000, max_rtt=17492.000000, avg_rtt=15135.000000
2025/08/28 05:00:39 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T05:00:39.348297296Z","packet_loss":0,"min_rtt":11743917,"max_rtt":14417208,"avg_rtt":13239594,"threshold":90,"success":true}
2025/08/28 05:00:39 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 05:00:39.348297296 +0000 UTC PacketLoss:0 MinRTT:11.743917ms MaxRTT:14.417208ms AvgRTT:13.239594ms Threshold:90 Success:true}
2025/08/28 05:00:39 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756357239, ip=8.8.8.8, packet_loss=0.000000, min_rtt=11743.000000, max_rtt=14417.000000, avg_rtt=13239.000000
2025/08/28 05:01:34 log_config.go:33: Log initialized successfully
2025/08/28 05:01:34 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 05:01:34 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 05:01:34 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.6:5672: connect: connection refused, retrying in 10 seconds...
2025/08/28 05:01:44 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/28 05:01:44 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 05:01:44 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 05:01:44 server_config.go:117: Successfully declared task_queue
2025/08/28 05:01:44 server_config.go:136: Successfully declared result_queue
2025/08/28 05:01:44 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/28 05:01:45 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/28 05:01:45 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/28 05:01:45 init_mysql.go:41: MySQL initialized successfully
2025/08/28 05:01:45 init_mysql.go:68: Table probe_tasks ensured.
2025/08/28 05:01:45 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/28 05:01:45 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/28 05:01:45 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/28 05:01:45 server_config.go:80: Successfully created RabbitMQ channel
2025/08/28 05:01:45 server_config.go:117: Successfully declared task_queue
2025/08/28 05:01:45 server_config.go:136: Successfully declared result_queue
2025/08/28 05:01:45 main.go:35: Starting Hertz server on :8080
2025/08/28 05:01:45 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/28 05:01:45 icmp_probe.go:113: Consumer registered successfully
2025/08/28 05:03:07 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T05:03:07.62137367Z","packet_loss":0,"min_rtt":11612583,"max_rtt":20504417,"avg_rtt":15835802,"threshold":90,"success":true}
2025/08/28 05:03:07 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 05:03:07.62137367 +0000 UTC PacketLoss:0 MinRTT:11.612583ms MaxRTT:20.504417ms AvgRTT:15.835802ms Threshold:90 Success:true}
2025/08/28 05:03:07 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756357387, ip=8.8.8.8, packet_loss=0.000000, min_rtt=11612.000000, max_rtt=20504.000000, avg_rtt=15835.000000
2025/08/28 05:06:47 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T05:06:47.547273633Z","packet_loss":0,"min_rtt":12515083,"max_rtt":21533916,"avg_rtt":17007082,"threshold":90,"success":true}
2025/08/28 05:06:47 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 05:06:47.547273633 +0000 UTC PacketLoss:0 MinRTT:12.515083ms MaxRTT:21.533916ms AvgRTT:17.007082ms Threshold:90 Success:true}
2025/08/28 05:06:47 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756357607, ip=8.8.8.8, packet_loss=0.000000, min_rtt=12515.000000, max_rtt=21533.000000, avg_rtt=17007.000000
2025/08/28 05:07:17 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T05:07:17.72144205Z","packet_loss":0,"min_rtt":8991834,"max_rtt":20245375,"avg_rtt":13587001,"threshold":90,"success":true}
2025/08/28 05:07:17 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 05:07:17.72144205 +0000 UTC PacketLoss:0 MinRTT:8.991834ms MaxRTT:20.245375ms AvgRTT:13.587001ms Threshold:90 Success:true}
2025/08/28 05:07:17 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756357637, ip=8.8.8.8, packet_loss=0.000000, min_rtt=8991.000000, max_rtt=20245.000000, avg_rtt=13587.000000
2025/08/28 05:07:57 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T05:07:57.901651555Z","packet_loss":0,"min_rtt":15842500,"max_rtt":19003000,"avg_rtt":17874948,"threshold":90,"success":true}
2025/08/28 05:07:57 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 05:07:57.901651555 +0000 UTC PacketLoss:0 MinRTT:15.8425ms MaxRTT:19.003ms AvgRTT:17.874948ms Threshold:90 Success:true}
2025/08/28 05:07:57 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756357677, ip=8.8.8.8, packet_loss=0.000000, min_rtt=15842.000000, max_rtt=19003.000000, avg_rtt=17874.000000
2025/08/28 05:08:48 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T05:08:48.138209717Z","packet_loss":0,"min_rtt":12680666,"max_rtt":14131625,"avg_rtt":13460532,"threshold":90,"success":true}
2025/08/28 05:08:48 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 05:08:48.138209717 +0000 UTC PacketLoss:0 MinRTT:12.680666ms MaxRTT:14.131625ms AvgRTT:13.460532ms Threshold:90 Success:true}
2025/08/28 05:08:48 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756357728, ip=8.8.8.8, packet_loss=0.000000, min_rtt=12680.000000, max_rtt=14131.000000, avg_rtt=13460.000000
2025/08/28 05:09:48 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T05:09:48.461157217Z","packet_loss":0,"min_rtt":11858667,"max_rtt":20033084,"avg_rtt":16447270,"threshold":90,"success":true}
2025/08/28 05:09:48 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 05:09:48.461157217 +0000 UTC PacketLoss:0 MinRTT:11.858667ms MaxRTT:20.033084ms AvgRTT:16.44727ms Threshold:90 Success:true}
2025/08/28 05:09:48 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756357788, ip=8.8.8.8, packet_loss=0.000000, min_rtt=11858.000000, max_rtt=20033.000000, avg_rtt=16447.000000
2025/08/28 05:10:58 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T05:10:58.78818118Z","packet_loss":0,"min_rtt":15610334,"max_rtt":17719792,"avg_rtt":16655667,"threshold":90,"success":true}
2025/08/28 05:10:58 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 05:10:58.78818118 +0000 UTC PacketLoss:0 MinRTT:15.610334ms MaxRTT:17.719792ms AvgRTT:16.655667ms Threshold:90 Success:true}
2025/08/28 05:10:58 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756357858, ip=8.8.8.8, packet_loss=0.000000, min_rtt=15610.000000, max_rtt=17719.000000, avg_rtt=16655.000000
2025/08/28 05:12:19 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-28T05:12:19.195781301Z","packet_loss":0,"min_rtt":14735166,"max_rtt":21599750,"avg_rtt":16957834,"threshold":90,"success":true}
2025/08/28 05:12:19 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-28 05:12:19.195781301 +0000 UTC PacketLoss:0 MinRTT:14.735166ms MaxRTT:21.59975ms AvgRTT:16.957834ms Threshold:90 Success:true}
2025/08/28 05:12:19 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756357939, ip=8.8.8.8, packet_loss=0.000000, min_rtt=14735.000000, max_rtt=21599.000000, avg_rtt=16957.000000
2025/08/29 17:24:03 log_config.go:33: Log initialized successfully
2025/08/29 17:24:03 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/29 17:24:03 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/29 17:24:03 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.6:5672: connect: connection refused, retrying in 10 seconds...
2025/08/29 17:24:13 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/29 17:24:13 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/29 17:24:13 server_config.go:80: Successfully created RabbitMQ channel
2025/08/29 17:24:13 server_config.go:117: Successfully declared task_queue
2025/08/29 17:24:13 server_config.go:136: Successfully declared result_queue
2025/08/29 17:24:13 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/29 17:24:13 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/29 17:24:13 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/29 17:24:13 init_mysql.go:41: MySQL initialized successfully
2025/08/29 17:24:13 init_mysql.go:68: Table probe_tasks ensured.
2025/08/29 17:24:13 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/29 17:24:13 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/29 17:24:13 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/29 17:24:13 server_config.go:80: Successfully created RabbitMQ channel
2025/08/29 17:24:13 server_config.go:117: Successfully declared task_queue
2025/08/29 17:24:13 server_config.go:136: Successfully declared result_queue
2025/08/29 17:24:13 main.go:35: Starting Hertz server on :8080
2025/08/29 17:24:13 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/29 17:24:13 icmp_probe.go:113: Consumer registered successfully
2025/08/29 17:26:48 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-08-29 17:26:48.459424753 +0000 UTC m=+164.988653366 UpdatedAt:2025-08-29 17:26:48.459424961 +0000 UTC m=+164.988653533}
2025/08/29 17:26:48 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-08-29 17:26:48.459424753 +0000 UTC m=+164.988653366 UpdatedAt:2025-08-29 17:26:48.459424961 +0000 UTC m=+164.988653533}
2025/08/29 17:26:48 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-08-29T17:26:48.459424753Z","updated_at":"2025-08-29T17:26:48.459424961Z"}
2025/08/29 17:26:48 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/08/29 17:26:51 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-08-29T17:26:51.584910296Z","packet_loss":0,"min_rtt":12318917,"max_rtt":14514834,"avg_rtt":13445354,"threshold":10,"success":true}
2025/08/29 17:26:51 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-08-29 17:26:51.584910296 +0000 UTC PacketLoss:0 MinRTT:12.318917ms MaxRTT:14.514834ms AvgRTT:13.445354ms Threshold:10 Success:true}
2025/08/29 17:26:51 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756488411, ip=8.8.8.8, packet_loss=0.000000, min_rtt=12318.000000, max_rtt=14514.000000, avg_rtt=13445.000000
2025/08/29 18:18:56 log_config.go:33: Log initialized successfully
2025/08/29 18:18:56 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/29 18:18:56 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/29 18:18:56 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.3:5672: connect: connection refused, retrying in 10 seconds...
2025/08/29 18:19:06 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/08/29 18:19:06 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/29 18:19:06 server_config.go:80: Successfully created RabbitMQ channel
2025/08/29 18:19:06 server_config.go:117: Successfully declared task_queue
2025/08/29 18:19:06 server_config.go:136: Successfully declared result_queue
2025/08/29 18:19:06 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/08/29 18:19:06 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/08/29 18:19:06 init_clickhouse.go:64: ClickHouse table created successfully
2025/08/29 18:19:06 init_mysql.go:41: MySQL initialized successfully
2025/08/29 18:19:06 init_mysql.go:68: Table probe_tasks ensured.
2025/08/29 18:19:06 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/08/29 18:19:06 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/08/29 18:19:06 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/08/29 18:19:06 server_config.go:80: Successfully created RabbitMQ channel
2025/08/29 18:19:06 server_config.go:117: Successfully declared task_queue
2025/08/29 18:19:06 server_config.go:136: Successfully declared result_queue
2025/08/29 18:19:06 main.go:35: Starting Hertz server on :8080
2025/08/29 18:19:06 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/08/29 18:19:06 icmp_probe.go:113: Consumer registered successfully
2025/09/01 02:49:30 log_config.go:33: Log initialized successfully
2025/09/01 02:49:30 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/01 02:49:30 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/01 02:49:30 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.4:5672: connect: connection refused, retrying in 10 seconds...
2025/09/01 02:49:40 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/09/01 02:49:40 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.4:5672: connect: connection refused, retrying in 10 seconds...
2025/09/01 02:49:50 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2025/09/01 02:49:50 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/01 02:49:50 server_config.go:80: Successfully created RabbitMQ channel
2025/09/01 02:49:50 server_config.go:117: Successfully declared task_queue
2025/09/01 02:49:50 server_config.go:136: Successfully declared result_queue
2025/09/01 02:49:50 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/01 02:49:50 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/01 02:49:50 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/01 02:49:50 init_mysql.go:41: MySQL initialized successfully
2025/09/01 02:49:50 init_mysql.go:68: Table probe_tasks ensured.
2025/09/01 02:49:50 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/01 02:49:50 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/01 02:49:50 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/01 02:49:50 server_config.go:80: Successfully created RabbitMQ channel
2025/09/01 02:49:50 server_config.go:117: Successfully declared task_queue
2025/09/01 02:49:50 server_config.go:136: Successfully declared result_queue
2025/09/01 02:49:50 main.go:35: Starting Hertz server on :8080
2025/09/01 02:49:50 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/09/01 02:49:50 icmp_probe.go:113: Consumer registered successfully
2025/09/02 14:14:35 log_config.go:33: Log initialized successfully
2025/09/02 14:14:35 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/02 14:14:35 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/02 14:14:35 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.7:5672: connect: connection refused, retrying in 10 seconds...
2025/09/02 14:14:45 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/09/02 14:14:45 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/02 14:14:45 server_config.go:80: Successfully created RabbitMQ channel
2025/09/02 14:14:45 server_config.go:117: Successfully declared task_queue
2025/09/02 14:14:45 server_config.go:136: Successfully declared result_queue
2025/09/02 14:14:45 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/02 14:14:45 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/02 14:14:45 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/02 14:14:45 init_mysql.go:41: MySQL initialized successfully
2025/09/02 14:14:45 init_mysql.go:68: Table probe_tasks ensured.
2025/09/02 14:14:45 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/02 14:14:45 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/02 14:14:45 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/02 14:14:45 server_config.go:80: Successfully created RabbitMQ channel
2025/09/02 14:14:45 server_config.go:117: Successfully declared task_queue
2025/09/02 14:14:45 server_config.go:136: Successfully declared result_queue
2025/09/02 14:14:45 main.go:35: Starting Hertz server on :8080
2025/09/02 14:14:45 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/09/02 14:14:45 icmp_probe.go:113: Consumer registered successfully
2025/09/02 14:19:50 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:19:50.516631341 +0000 UTC m=+314.789388145 UpdatedAt:2025-09-02 14:19:50.516631508 +0000 UTC m=+314.789388311}
2025/09/02 14:19:50 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:19:50.516631341 +0000 UTC m=+314.789388145 UpdatedAt:2025-09-02 14:19:50.516631508 +0000 UTC m=+314.789388311}
2025/09/02 14:19:50 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:19:50.516631341Z","updated_at":"2025-09-02T14:19:50.516631508Z"}
2025/09/02 14:19:50 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:19:53 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:19:53.631109759Z","packet_loss":0,"min_rtt":10784667,"max_rtt":58363083,"avg_rtt":24534834,"threshold":10,"success":true}
2025/09/02 14:19:53 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:19:53.631109759 +0000 UTC PacketLoss:0 MinRTT:10.784667ms MaxRTT:58.363083ms AvgRTT:24.534834ms Threshold:10 Success:true}
2025/09/02 14:19:53 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756822793, ip=8.8.8.8, packet_loss=0.000000, min_rtt=10784.000000, max_rtt=58363.000000, avg_rtt=24534.000000
2025/09/02 14:22:08 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:22:08.405003002 +0000 UTC m=+452.676770748 UpdatedAt:2025-09-02 14:22:08.40500321 +0000 UTC m=+452.676770956}
2025/09/02 14:22:08 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:22:08.405003002 +0000 UTC m=+452.676770748 UpdatedAt:2025-09-02 14:22:08.40500321 +0000 UTC m=+452.676770956}
2025/09/02 14:22:08 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:22:08.405003002Z","updated_at":"2025-09-02T14:22:08.40500321Z"}
2025/09/02 14:22:08 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:22:58 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:22:58.94665447 +0000 UTC m=+503.218217480 UpdatedAt:2025-09-02 14:22:58.94665472 +0000 UTC m=+503.218217730}
2025/09/02 14:22:58 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:22:58.94665447 +0000 UTC m=+503.218217480 UpdatedAt:2025-09-02 14:22:58.94665472 +0000 UTC m=+503.218217730}
2025/09/02 14:22:58 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:22:58.94665447Z","updated_at":"2025-09-02T14:22:58.94665472Z"}
2025/09/02 14:22:58 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:23:02 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:23:02.006052305Z","packet_loss":0,"min_rtt":17010542,"max_rtt":19665125,"avg_rtt":18302583,"threshold":10,"success":true}
2025/09/02 14:23:02 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:23:02.006052305 +0000 UTC PacketLoss:0 MinRTT:17.010542ms MaxRTT:19.665125ms AvgRTT:18.302583ms Threshold:10 Success:true}
2025/09/02 14:23:02 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756822982, ip=8.8.8.8, packet_loss=0.000000, min_rtt=17010.000000, max_rtt=19665.000000, avg_rtt=18302.000000
2025/09/02 14:24:38 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:24:38.154942377 +0000 UTC m=+602.425628566 UpdatedAt:2025-09-02 14:24:38.154942793 +0000 UTC m=+602.425628733}
2025/09/02 14:24:38 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:24:38.154942377 +0000 UTC m=+602.425628566 UpdatedAt:2025-09-02 14:24:38.154942793 +0000 UTC m=+602.425628733}
2025/09/02 14:24:38 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:24:38.154942377Z","updated_at":"2025-09-02T14:24:38.154942793Z"}
2025/09/02 14:24:38 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:27:37 log_config.go:33: Log initialized successfully
2025/09/02 14:27:37 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/02 14:27:37 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/02 14:27:37 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.5:5672: connect: connection refused, retrying in 10 seconds...
2025/09/02 14:27:47 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/09/02 14:27:47 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/02 14:27:47 server_config.go:80: Successfully created RabbitMQ channel
2025/09/02 14:27:47 server_config.go:117: Successfully declared task_queue
2025/09/02 14:27:47 server_config.go:136: Successfully declared result_queue
2025/09/02 14:27:47 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/02 14:27:47 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/02 14:27:47 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/02 14:27:47 init_mysql.go:41: MySQL initialized successfully
2025/09/02 14:27:47 init_mysql.go:68: Table probe_tasks ensured.
2025/09/02 14:27:47 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/02 14:27:47 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/02 14:27:47 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/02 14:27:47 server_config.go:80: Successfully created RabbitMQ channel
2025/09/02 14:27:47 server_config.go:117: Successfully declared task_queue
2025/09/02 14:27:47 server_config.go:136: Successfully declared result_queue
2025/09/02 14:27:47 main.go:35: Starting Hertz server on :8080
2025/09/02 14:27:47 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/09/02 14:27:47 icmp_probe.go:113: Consumer registered successfully
2025/09/02 14:28:48 log_config.go:33: Log initialized successfully
2025/09/02 14:28:48 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/02 14:28:48 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/02 14:28:48 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.5:5672: connect: connection refused, retrying in 10 seconds...
2025/09/02 14:28:58 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/09/02 14:28:58 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/02 14:28:58 server_config.go:80: Successfully created RabbitMQ channel
2025/09/02 14:28:58 server_config.go:117: Successfully declared task_queue
2025/09/02 14:28:58 server_config.go:136: Successfully declared result_queue
2025/09/02 14:28:58 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/02 14:28:58 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/02 14:28:58 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/02 14:28:58 init_mysql.go:41: MySQL initialized successfully
2025/09/02 14:28:58 init_mysql.go:68: Table probe_tasks ensured.
2025/09/02 14:28:58 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/02 14:28:58 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/02 14:28:58 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/02 14:28:58 server_config.go:80: Successfully created RabbitMQ channel
2025/09/02 14:28:58 server_config.go:117: Successfully declared task_queue
2025/09/02 14:28:58 server_config.go:136: Successfully declared result_queue
2025/09/02 14:28:58 main.go:35: Starting Hertz server on :8080
2025/09/02 14:28:58 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/09/02 14:28:58 icmp_probe.go:113: Consumer registered successfully
2025/09/02 14:29:10 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:29:10.362885419 +0000 UTC m=+21.561452636 UpdatedAt:2025-09-02 14:29:10.362885711 +0000 UTC m=+21.561452928}
2025/09/02 14:29:10 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:29:10.362885419 +0000 UTC m=+21.561452636 UpdatedAt:2025-09-02 14:29:10.362885711 +0000 UTC m=+21.561452928}
2025/09/02 14:29:10 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:29:10.362885419Z","updated_at":"2025-09-02T14:29:10.362885711Z"}
2025/09/02 14:29:10 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:30:37 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:30:37.863170752 +0000 UTC m=+109.061982634 UpdatedAt:2025-09-02 14:30:37.863170877 +0000 UTC m=+109.061982759}
2025/09/02 14:30:37 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:30:37.863170752 +0000 UTC m=+109.061982634 UpdatedAt:2025-09-02 14:30:37.863170877 +0000 UTC m=+109.061982759}
2025/09/02 14:30:37 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:30:37.863170752Z","updated_at":"2025-09-02T14:30:37.863170877Z"}
2025/09/02 14:30:37 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:30:49 log_config.go:33: Log initialized successfully
2025/09/02 14:30:49 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/02 14:30:49 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/02 14:30:49 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.7:5672: connect: connection refused, retrying in 10 seconds...
2025/09/02 14:30:59 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/09/02 14:30:59 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/02 14:30:59 server_config.go:80: Successfully created RabbitMQ channel
2025/09/02 14:30:59 server_config.go:117: Successfully declared task_queue
2025/09/02 14:30:59 server_config.go:136: Successfully declared result_queue
2025/09/02 14:30:59 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/02 14:30:59 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/02 14:30:59 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/02 14:30:59 init_mysql.go:41: MySQL initialized successfully
2025/09/02 14:30:59 init_mysql.go:68: Table probe_tasks ensured.
2025/09/02 14:30:59 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/02 14:30:59 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/02 14:30:59 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/02 14:30:59 server_config.go:80: Successfully created RabbitMQ channel
2025/09/02 14:30:59 server_config.go:117: Successfully declared task_queue
2025/09/02 14:30:59 server_config.go:136: Successfully declared result_queue
2025/09/02 14:30:59 main.go:35: Starting Hertz server on :8080
2025/09/02 14:30:59 icmp_probe.go:84: Registering consumer for queue: result_queue
2025/09/02 14:30:59 icmp_probe.go:113: Consumer registered successfully
2025/09/02 14:31:25 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:31:25.910882802 +0000 UTC m=+36.641311852 UpdatedAt:2025-09-02 14:31:25.910882969 +0000 UTC m=+36.641312018}
2025/09/02 14:31:25 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:31:25.910882802 +0000 UTC m=+36.641311852 UpdatedAt:2025-09-02 14:31:25.910882969 +0000 UTC m=+36.641312018}
2025/09/02 14:31:25 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:31:25.910882802Z","updated_at":"2025-09-02T14:31:25.910882969Z"}
2025/09/02 14:31:25 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:31:28 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:31:28.976815178Z","packet_loss":0,"min_rtt":9045000,"max_rtt":19965416,"avg_rtt":14170625,"threshold":10,"success":true}
2025/09/02 14:31:28 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:31:28.976815178 +0000 UTC PacketLoss:0 MinRTT:9.045ms MaxRTT:19.965416ms AvgRTT:14.170625ms Threshold:10 Success:true}
2025/09/02 14:31:29 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756823488, ip=8.8.8.8, packet_loss=0.000000, min_rtt=9045.000000, max_rtt=19965.000000, avg_rtt=14170.000000
2025/09/02 14:31:55 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:31:55.54167576 +0000 UTC m=+66.272054615 UpdatedAt:2025-09-02 14:31:55.54167601 +0000 UTC m=+66.272054823}
2025/09/02 14:31:55 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:31:55.54167576 +0000 UTC m=+66.272054615 UpdatedAt:2025-09-02 14:31:55.54167601 +0000 UTC m=+66.272054823}
2025/09/02 14:31:55 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:31:55.54167576Z","updated_at":"2025-09-02T14:31:55.54167601Z"}
2025/09/02 14:31:55 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:32:58 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:32:58.092696511 +0000 UTC m=+128.823306018 UpdatedAt:2025-09-02 14:32:58.092696761 +0000 UTC m=+128.823306226}
2025/09/02 14:32:58 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:32:58.092696511 +0000 UTC m=+128.823306018 UpdatedAt:2025-09-02 14:32:58.092696761 +0000 UTC m=+128.823306226}
2025/09/02 14:32:58 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:32:58.092696511Z","updated_at":"2025-09-02T14:32:58.092696761Z"}
2025/09/02 14:32:58 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:33:01 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:33:01.209149054Z","packet_loss":0,"min_rtt":9181084,"max_rtt":16635333,"avg_rtt":12010281,"threshold":10,"success":true}
2025/09/02 14:33:01 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:33:01.209149054 +0000 UTC PacketLoss:0 MinRTT:9.181084ms MaxRTT:16.635333ms AvgRTT:12.010281ms Threshold:10 Success:true}
2025/09/02 14:33:01 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756823581, ip=8.8.8.8, packet_loss=0.000000, min_rtt=9181.000000, max_rtt=16635.000000, avg_rtt=12010.000000
2025/09/02 14:40:45 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:40:45.809669047 +0000 UTC m=+596.541684316 UpdatedAt:2025-09-02 14:40:45.809669255 +0000 UTC m=+596.541684483}
2025/09/02 14:40:45 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:40:45.809669047 +0000 UTC m=+596.541684316 UpdatedAt:2025-09-02 14:40:45.809669255 +0000 UTC m=+596.541684483}
2025/09/02 14:40:45 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:40:45.809669047Z","updated_at":"2025-09-02T14:40:45.809669255Z"}
2025/09/02 14:40:45 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:40:50 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:40:50.844562216 +0000 UTC m=+601.576577485 UpdatedAt:2025-09-02 14:40:50.844562466 +0000 UTC m=+601.576577694}
2025/09/02 14:40:50 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:40:50.844562216 +0000 UTC m=+601.576577485 UpdatedAt:2025-09-02 14:40:50.844562466 +0000 UTC m=+601.576577694}
2025/09/02 14:40:50 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:40:50.844562216Z","updated_at":"2025-09-02T14:40:50.844562466Z"}
2025/09/02 14:40:50 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:40:55 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:40:55.881054468 +0000 UTC m=+606.613069696 UpdatedAt:2025-09-02 14:40:55.881054802 +0000 UTC m=+606.613069988}
2025/09/02 14:40:55 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:40:55.881054468 +0000 UTC m=+606.613069696 UpdatedAt:2025-09-02 14:40:55.881054802 +0000 UTC m=+606.613069988}
2025/09/02 14:40:55 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:40:55.881054468Z","updated_at":"2025-09-02T14:40:55.881054802Z"}
2025/09/02 14:40:55 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:40:58 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:40:58.971749137Z","packet_loss":0,"min_rtt":14459041,"max_rtt":20347541,"avg_rtt":16339323,"threshold":10,"success":true}
2025/09/02 14:40:58 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:40:58.971749137 +0000 UTC PacketLoss:0 MinRTT:14.459041ms MaxRTT:20.347541ms AvgRTT:16.339323ms Threshold:10 Success:true}
2025/09/02 14:40:58 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756824058, ip=8.8.8.8, packet_loss=0.000000, min_rtt=14459.000000, max_rtt=20347.000000, avg_rtt=16339.000000
2025/09/02 14:41:00 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:00.919199346 +0000 UTC m=+611.651214574 UpdatedAt:2025-09-02 14:41:00.919199554 +0000 UTC m=+611.651214782}
2025/09/02 14:41:00 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:00.919199346 +0000 UTC m=+611.651214574 UpdatedAt:2025-09-02 14:41:00.919199554 +0000 UTC m=+611.651214782}
2025/09/02 14:41:00 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:00.919199346Z","updated_at":"2025-09-02T14:41:00.919199554Z"}
2025/09/02 14:41:00 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:41:05 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:05.961458792 +0000 UTC m=+616.693418450 UpdatedAt:2025-09-02 14:41:05.961459001 +0000 UTC m=+616.693418617}
2025/09/02 14:41:05 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:05.961458792 +0000 UTC m=+616.693418450 UpdatedAt:2025-09-02 14:41:05.961459001 +0000 UTC m=+616.693418617}
2025/09/02 14:41:05 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:05.961458792Z","updated_at":"2025-09-02T14:41:05.961459001Z"}
2025/09/02 14:41:05 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:41:10 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:10.994794378 +0000 UTC m=+621.726754036 UpdatedAt:2025-09-02 14:41:10.994794545 +0000 UTC m=+621.726754202}
2025/09/02 14:41:10 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:10.994794378 +0000 UTC m=+621.726754036 UpdatedAt:2025-09-02 14:41:10.994794545 +0000 UTC m=+621.726754202}
2025/09/02 14:41:11 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:10.994794378Z","updated_at":"2025-09-02T14:41:10.994794545Z"}
2025/09/02 14:41:11 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:41:16 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:16.026883255 +0000 UTC m=+626.758842955 UpdatedAt:2025-09-02 14:41:16.026883505 +0000 UTC m=+626.758843205}
2025/09/02 14:41:16 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:16.026883255 +0000 UTC m=+626.758842955 UpdatedAt:2025-09-02 14:41:16.026883505 +0000 UTC m=+626.758843205}
2025/09/02 14:41:16 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:16.026883255Z","updated_at":"2025-09-02T14:41:16.026883505Z"}
2025/09/02 14:41:16 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:41:19 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:41:19.135817715Z","packet_loss":0,"min_rtt":12495417,"max_rtt":15176292,"avg_rtt":14110615,"threshold":10,"success":true}
2025/09/02 14:41:19 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:41:19.135817715 +0000 UTC PacketLoss:0 MinRTT:12.495417ms MaxRTT:15.176292ms AvgRTT:14.110615ms Threshold:10 Success:true}
2025/09/02 14:41:19 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756824079, ip=8.8.8.8, packet_loss=0.000000, min_rtt=12495.000000, max_rtt=15176.000000, avg_rtt=14110.000000
2025/09/02 14:41:21 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:21.059812133 +0000 UTC m=+631.791771790 UpdatedAt:2025-09-02 14:41:21.059812299 +0000 UTC m=+631.791771957}
2025/09/02 14:41:21 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:21.059812133 +0000 UTC m=+631.791771790 UpdatedAt:2025-09-02 14:41:21.059812299 +0000 UTC m=+631.791771957}
2025/09/02 14:41:21 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:21.059812133Z","updated_at":"2025-09-02T14:41:21.059812299Z"}
2025/09/02 14:41:21 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:41:26 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:26.096383177 +0000 UTC m=+636.828342835 UpdatedAt:2025-09-02 14:41:26.096383344 +0000 UTC m=+636.828343001}
2025/09/02 14:41:26 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:26.096383177 +0000 UTC m=+636.828342835 UpdatedAt:2025-09-02 14:41:26.096383344 +0000 UTC m=+636.828343001}
2025/09/02 14:41:26 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:26.096383177Z","updated_at":"2025-09-02T14:41:26.096383344Z"}
2025/09/02 14:41:26 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:41:31 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:31.132064054 +0000 UTC m=+641.864023712 UpdatedAt:2025-09-02 14:41:31.132064263 +0000 UTC m=+641.864023920}
2025/09/02 14:41:31 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:31.132064054 +0000 UTC m=+641.864023712 UpdatedAt:2025-09-02 14:41:31.132064263 +0000 UTC m=+641.864023920}
2025/09/02 14:41:31 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:31.132064054Z","updated_at":"2025-09-02T14:41:31.132064263Z"}
2025/09/02 14:41:31 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:41:36 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:36.170727917 +0000 UTC m=+646.902824547 UpdatedAt:2025-09-02 14:41:36.170728126 +0000 UTC m=+646.902824755}
2025/09/02 14:41:36 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:36.170727917 +0000 UTC m=+646.902824547 UpdatedAt:2025-09-02 14:41:36.170728126 +0000 UTC m=+646.902824755}
2025/09/02 14:41:36 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:36.170727917Z","updated_at":"2025-09-02T14:41:36.170728126Z"}
2025/09/02 14:41:36 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:41:41 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:41.203181961 +0000 UTC m=+651.935278633 UpdatedAt:2025-09-02 14:41:41.20318217 +0000 UTC m=+651.935278799}
2025/09/02 14:41:41 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:41.203181961 +0000 UTC m=+651.935278633 UpdatedAt:2025-09-02 14:41:41.20318217 +0000 UTC m=+651.935278799}
2025/09/02 14:41:41 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:41.203181961Z","updated_at":"2025-09-02T14:41:41.20318217Z"}
2025/09/02 14:41:41 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:41:44 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:41:44.321966255Z","packet_loss":0,"min_rtt":15973375,"max_rtt":18520334,"avg_rtt":17194958,"threshold":10,"success":true}
2025/09/02 14:41:44 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:41:44.321966255 +0000 UTC PacketLoss:0 MinRTT:15.973375ms MaxRTT:18.520334ms AvgRTT:17.194958ms Threshold:10 Success:true}
2025/09/02 14:41:44 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756824104, ip=8.8.8.8, packet_loss=0.000000, min_rtt=15973.000000, max_rtt=18520.000000, avg_rtt=17194.000000
2025/09/02 14:41:46 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:46.240833047 +0000 UTC m=+656.972929677 UpdatedAt:2025-09-02 14:41:46.240833256 +0000 UTC m=+656.972929885}
2025/09/02 14:41:46 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:46.240833047 +0000 UTC m=+656.972929677 UpdatedAt:2025-09-02 14:41:46.240833256 +0000 UTC m=+656.972929885}
2025/09/02 14:41:46 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:46.240833047Z","updated_at":"2025-09-02T14:41:46.240833256Z"}
2025/09/02 14:41:46 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:41:51 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:51.307484633 +0000 UTC m=+662.039581263 UpdatedAt:2025-09-02 14:41:51.307484758 +0000 UTC m=+662.039581388}
2025/09/02 14:41:51 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:51.307484633 +0000 UTC m=+662.039581263 UpdatedAt:2025-09-02 14:41:51.307484758 +0000 UTC m=+662.039581388}
2025/09/02 14:41:51 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:51.307484633Z","updated_at":"2025-09-02T14:41:51.307484758Z"}
2025/09/02 14:41:51 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:41:56 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:56.33970651 +0000 UTC m=+667.071803140 UpdatedAt:2025-09-02 14:41:56.339706677 +0000 UTC m=+667.071803307}
2025/09/02 14:41:56 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:41:56.33970651 +0000 UTC m=+667.071803140 UpdatedAt:2025-09-02 14:41:56.339706677 +0000 UTC m=+667.071803307}
2025/09/02 14:41:56 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:41:56.33970651Z","updated_at":"2025-09-02T14:41:56.339706677Z"}
2025/09/02 14:41:56 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:01 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:01.370615888 +0000 UTC m=+672.102712559 UpdatedAt:2025-09-02 14:42:01.370616096 +0000 UTC m=+672.102712726}
2025/09/02 14:42:01 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:01.370615888 +0000 UTC m=+672.102712559 UpdatedAt:2025-09-02 14:42:01.370616096 +0000 UTC m=+672.102712726}
2025/09/02 14:42:01 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:01.370615888Z","updated_at":"2025-09-02T14:42:01.370616096Z"}
2025/09/02 14:42:01 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:06.439109584 +0000 UTC m=+677.171233769 UpdatedAt:2025-09-02 14:42:06.439109793 +0000 UTC m=+677.171233936}
2025/09/02 14:42:06 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:06.439109584 +0000 UTC m=+677.171233769 UpdatedAt:2025-09-02 14:42:06.439109793 +0000 UTC m=+677.171233936}
2025/09/02 14:42:06 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:06.439109584Z","updated_at":"2025-09-02T14:42:06.439109793Z"}
2025/09/02 14:42:06 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:11 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:11.473969337 +0000 UTC m=+682.206093480 UpdatedAt:2025-09-02 14:42:11.473969378 +0000 UTC m=+682.206093563}
2025/09/02 14:42:11 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:11.473969337 +0000 UTC m=+682.206093480 UpdatedAt:2025-09-02 14:42:11.473969378 +0000 UTC m=+682.206093563}
2025/09/02 14:42:11 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:11.473969337Z","updated_at":"2025-09-02T14:42:11.473969378Z"}
2025/09/02 14:42:11 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:14 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:42:14.536590921Z","packet_loss":0,"min_rtt":9774333,"max_rtt":20049375,"avg_rtt":16315833,"threshold":10,"success":true}
2025/09/02 14:42:14 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:42:14.536590921 +0000 UTC PacketLoss:0 MinRTT:9.774333ms MaxRTT:20.049375ms AvgRTT:16.315833ms Threshold:10 Success:true}
2025/09/02 14:42:14 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756824134, ip=8.8.8.8, packet_loss=0.000000, min_rtt=9774.000000, max_rtt=20049.000000, avg_rtt=16315.000000
2025/09/02 14:42:16 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:16.534332756 +0000 UTC m=+687.266456940 UpdatedAt:2025-09-02 14:42:16.534332881 +0000 UTC m=+687.266457065}
2025/09/02 14:42:16 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:16.534332756 +0000 UTC m=+687.266456940 UpdatedAt:2025-09-02 14:42:16.534332881 +0000 UTC m=+687.266457065}
2025/09/02 14:42:16 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:16.534332756Z","updated_at":"2025-09-02T14:42:16.534332881Z"}
2025/09/02 14:42:16 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:21 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:21.579052508 +0000 UTC m=+692.311176693 UpdatedAt:2025-09-02 14:42:21.57905255 +0000 UTC m=+692.311176734}
2025/09/02 14:42:21 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:21.579052508 +0000 UTC m=+692.311176693 UpdatedAt:2025-09-02 14:42:21.57905255 +0000 UTC m=+692.311176734}
2025/09/02 14:42:21 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:21.579052508Z","updated_at":"2025-09-02T14:42:21.57905255Z"}
2025/09/02 14:42:21 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:26 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:26.608317385 +0000 UTC m=+697.340441570 UpdatedAt:2025-09-02 14:42:26.608317552 +0000 UTC m=+697.340441737}
2025/09/02 14:42:26 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:26.608317385 +0000 UTC m=+697.340441570 UpdatedAt:2025-09-02 14:42:26.608317552 +0000 UTC m=+697.340441737}
2025/09/02 14:42:26 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:26.608317385Z","updated_at":"2025-09-02T14:42:26.608317552Z"}
2025/09/02 14:42:26 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:31 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:31.657265513 +0000 UTC m=+702.389389698 UpdatedAt:2025-09-02 14:42:31.65726568 +0000 UTC m=+702.389389864}
2025/09/02 14:42:31 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:31.657265513 +0000 UTC m=+702.389389698 UpdatedAt:2025-09-02 14:42:31.65726568 +0000 UTC m=+702.389389864}
2025/09/02 14:42:31 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:31.657265513Z","updated_at":"2025-09-02T14:42:31.65726568Z"}
2025/09/02 14:42:31 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:36 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:36.689629126 +0000 UTC m=+707.421967866 UpdatedAt:2025-09-02 14:42:36.689629293 +0000 UTC m=+707.421968032}
2025/09/02 14:42:36 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:36.689629126 +0000 UTC m=+707.421967866 UpdatedAt:2025-09-02 14:42:36.689629293 +0000 UTC m=+707.421968032}
2025/09/02 14:42:36 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:36.689629126Z","updated_at":"2025-09-02T14:42:36.689629293Z"}
2025/09/02 14:42:36 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:41 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:41.727001795 +0000 UTC m=+712.459340535 UpdatedAt:2025-09-02 14:42:41.727002003 +0000 UTC m=+712.459340743}
2025/09/02 14:42:41 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:41.727001795 +0000 UTC m=+712.459340535 UpdatedAt:2025-09-02 14:42:41.727002003 +0000 UTC m=+712.459340743}
2025/09/02 14:42:41 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:41.727001795Z","updated_at":"2025-09-02T14:42:41.727002003Z"}
2025/09/02 14:42:41 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:46 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:46.767593214 +0000 UTC m=+717.499931954 UpdatedAt:2025-09-02 14:42:46.767593422 +0000 UTC m=+717.499932120}
2025/09/02 14:42:46 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:46.767593214 +0000 UTC m=+717.499931954 UpdatedAt:2025-09-02 14:42:46.767593422 +0000 UTC m=+717.499932120}
2025/09/02 14:42:46 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:46.767593214Z","updated_at":"2025-09-02T14:42:46.767593422Z"}
2025/09/02 14:42:46 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:49 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:42:49.885073424Z","packet_loss":0,"min_rtt":12994375,"max_rtt":14291042,"avg_rtt":13728417,"threshold":10,"success":true}
2025/09/02 14:42:49 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:42:49.885073424 +0000 UTC PacketLoss:0 MinRTT:12.994375ms MaxRTT:14.291042ms AvgRTT:13.728417ms Threshold:10 Success:true}
2025/09/02 14:42:49 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756824169, ip=8.8.8.8, packet_loss=0.000000, min_rtt=12994.000000, max_rtt=14291.000000, avg_rtt=13728.000000
2025/09/02 14:42:51 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:51.802447342 +0000 UTC m=+722.534786081 UpdatedAt:2025-09-02 14:42:51.802447425 +0000 UTC m=+722.534786165}
2025/09/02 14:42:51 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:51.802447342 +0000 UTC m=+722.534786081 UpdatedAt:2025-09-02 14:42:51.802447425 +0000 UTC m=+722.534786165}
2025/09/02 14:42:51 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:51.802447342Z","updated_at":"2025-09-02T14:42:51.802447425Z"}
2025/09/02 14:42:51 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:42:56 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:56.835191719 +0000 UTC m=+727.567530500 UpdatedAt:2025-09-02 14:42:56.835191969 +0000 UTC m=+727.567530709}
2025/09/02 14:42:56 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:42:56.835191719 +0000 UTC m=+727.567530500 UpdatedAt:2025-09-02 14:42:56.835191969 +0000 UTC m=+727.567530709}
2025/09/02 14:42:56 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:42:56.835191719Z","updated_at":"2025-09-02T14:42:56.835191969Z"}
2025/09/02 14:42:56 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:43:01 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:01.870579471 +0000 UTC m=+732.602918211 UpdatedAt:2025-09-02 14:43:01.870579555 +0000 UTC m=+732.602918253}
2025/09/02 14:43:01 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:01.870579471 +0000 UTC m=+732.602918211 UpdatedAt:2025-09-02 14:43:01.870579555 +0000 UTC m=+732.602918253}
2025/09/02 14:43:01 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:43:01.870579471Z","updated_at":"2025-09-02T14:43:01.870579555Z"}
2025/09/02 14:43:01 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:43:06 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:06.903165251 +0000 UTC m=+737.635462463 UpdatedAt:2025-09-02 14:43:06.903165501 +0000 UTC m=+737.635462713}
2025/09/02 14:43:06 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:06.903165251 +0000 UTC m=+737.635462463 UpdatedAt:2025-09-02 14:43:06.903165501 +0000 UTC m=+737.635462713}
2025/09/02 14:43:06 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:43:06.903165251Z","updated_at":"2025-09-02T14:43:06.903165501Z"}
2025/09/02 14:43:06 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:43:11 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:11.943447962 +0000 UTC m=+742.675745173 UpdatedAt:2025-09-02 14:43:11.943448045 +0000 UTC m=+742.675745257}
2025/09/02 14:43:11 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:11.943447962 +0000 UTC m=+742.675745173 UpdatedAt:2025-09-02 14:43:11.943448045 +0000 UTC m=+742.675745257}
2025/09/02 14:43:11 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:43:11.943447962Z","updated_at":"2025-09-02T14:43:11.943448045Z"}
2025/09/02 14:43:11 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:43:16 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:16.981219923 +0000 UTC m=+747.713517134 UpdatedAt:2025-09-02 14:43:16.981220089 +0000 UTC m=+747.713517301}
2025/09/02 14:43:16 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:16.981219923 +0000 UTC m=+747.713517134 UpdatedAt:2025-09-02 14:43:16.981220089 +0000 UTC m=+747.713517301}
2025/09/02 14:43:16 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:43:16.981219923Z","updated_at":"2025-09-02T14:43:16.981220089Z"}
2025/09/02 14:43:16 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:43:22 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:22.816858717 +0000 UTC m=+753.549155970 UpdatedAt:2025-09-02 14:43:22.816858925 +0000 UTC m=+753.549156137}
2025/09/02 14:43:22 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:22.816858717 +0000 UTC m=+753.549155970 UpdatedAt:2025-09-02 14:43:22.816858925 +0000 UTC m=+753.549156137}
2025/09/02 14:43:22 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:43:22.816858717Z","updated_at":"2025-09-02T14:43:22.816858925Z"}
2025/09/02 14:43:22 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:43:32 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:32.85147168 +0000 UTC m=+763.583768892 UpdatedAt:2025-09-02 14:43:32.851471847 +0000 UTC m=+763.583769058}
2025/09/02 14:43:32 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:32.85147168 +0000 UTC m=+763.583768892 UpdatedAt:2025-09-02 14:43:32.851471847 +0000 UTC m=+763.583769058}
2025/09/02 14:43:32 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:43:32.85147168Z","updated_at":"2025-09-02T14:43:32.851471847Z"}
2025/09/02 14:43:32 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:43:35 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:43:35.969210001Z","packet_loss":0,"min_rtt":13340666,"max_rtt":14913125,"avg_rtt":14214209,"threshold":10,"success":true}
2025/09/02 14:43:35 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:43:35.969210001 +0000 UTC PacketLoss:0 MinRTT:13.340666ms MaxRTT:14.913125ms AvgRTT:14.214209ms Threshold:10 Success:true}
2025/09/02 14:43:35 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756824215, ip=8.8.8.8, packet_loss=0.000000, min_rtt=13340.000000, max_rtt=14913.000000, avg_rtt=14214.000000
2025/09/02 14:43:42 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:42.896607254 +0000 UTC m=+773.629475021 UpdatedAt:2025-09-02 14:43:42.896607462 +0000 UTC m=+773.629475229}
2025/09/02 14:43:42 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:42.896607254 +0000 UTC m=+773.629475021 UpdatedAt:2025-09-02 14:43:42.896607462 +0000 UTC m=+773.629475229}
2025/09/02 14:43:42 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:43:42.896607254Z","updated_at":"2025-09-02T14:43:42.896607462Z"}
2025/09/02 14:43:42 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:43:52 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:52.93206555 +0000 UTC m=+783.664933359 UpdatedAt:2025-09-02 14:43:52.932065759 +0000 UTC m=+783.664933525}
2025/09/02 14:43:52 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:43:52.93206555 +0000 UTC m=+783.664933359 UpdatedAt:2025-09-02 14:43:52.932065759 +0000 UTC m=+783.664933525}
2025/09/02 14:43:52 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:43:52.93206555Z","updated_at":"2025-09-02T14:43:52.932065759Z"}
2025/09/02 14:43:52 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:44:02 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:02.970972555 +0000 UTC m=+793.703840322 UpdatedAt:2025-09-02 14:44:02.970972722 +0000 UTC m=+793.703840488}
2025/09/02 14:44:02 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:02.970972555 +0000 UTC m=+793.703840322 UpdatedAt:2025-09-02 14:44:02.970972722 +0000 UTC m=+793.703840488}
2025/09/02 14:44:02 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:44:02.970972555Z","updated_at":"2025-09-02T14:44:02.970972722Z"}
2025/09/02 14:44:02 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:44:13 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:13.011608921 +0000 UTC m=+803.744234118 UpdatedAt:2025-09-02 14:44:13.011609212 +0000 UTC m=+803.744234368}
2025/09/02 14:44:13 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:13.011608921 +0000 UTC m=+803.744234118 UpdatedAt:2025-09-02 14:44:13.011609212 +0000 UTC m=+803.744234368}
2025/09/02 14:44:13 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:44:13.011608921Z","updated_at":"2025-09-02T14:44:13.011609212Z"}
2025/09/02 14:44:13 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:44:23 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:23.045609425 +0000 UTC m=+813.778234623 UpdatedAt:2025-09-02 14:44:23.045609634 +0000 UTC m=+813.778234789}
2025/09/02 14:44:23 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:23.045609425 +0000 UTC m=+813.778234623 UpdatedAt:2025-09-02 14:44:23.045609634 +0000 UTC m=+813.778234789}
2025/09/02 14:44:23 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:44:23.045609425Z","updated_at":"2025-09-02T14:44:23.045609634Z"}
2025/09/02 14:44:23 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:44:33 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:33.096826847 +0000 UTC m=+823.829452044 UpdatedAt:2025-09-02 14:44:33.096827055 +0000 UTC m=+823.829452211}
2025/09/02 14:44:33 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:33.096826847 +0000 UTC m=+823.829452044 UpdatedAt:2025-09-02 14:44:33.096827055 +0000 UTC m=+823.829452211}
2025/09/02 14:44:33 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:44:33.096826847Z","updated_at":"2025-09-02T14:44:33.096827055Z"}
2025/09/02 14:44:33 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:44:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:43.130454087 +0000 UTC m=+833.863016424 UpdatedAt:2025-09-02 14:44:43.130454296 +0000 UTC m=+833.863016590}
2025/09/02 14:44:43 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:43.130454087 +0000 UTC m=+833.863016424 UpdatedAt:2025-09-02 14:44:43.130454296 +0000 UTC m=+833.863016590}
2025/09/02 14:44:43 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:44:43.130454087Z","updated_at":"2025-09-02T14:44:43.130454296Z"}
2025/09/02 14:44:43 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:44:53 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:53.180296592 +0000 UTC m=+843.912858887 UpdatedAt:2025-09-02 14:44:53.1802968 +0000 UTC m=+843.912859053}
2025/09/02 14:44:53 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:44:53.180296592 +0000 UTC m=+843.912858887 UpdatedAt:2025-09-02 14:44:53.1802968 +0000 UTC m=+843.912859053}
2025/09/02 14:44:53 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:44:53.180296592Z","updated_at":"2025-09-02T14:44:53.1802968Z"}
2025/09/02 14:44:53 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:45:03 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:03.216091805 +0000 UTC m=+853.948654100 UpdatedAt:2025-09-02 14:45:03.216092014 +0000 UTC m=+853.948654308}
2025/09/02 14:45:03 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:03.216091805 +0000 UTC m=+853.948654100 UpdatedAt:2025-09-02 14:45:03.216092014 +0000 UTC m=+853.948654308}
2025/09/02 14:45:03 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:45:03.216091805Z","updated_at":"2025-09-02T14:45:03.216092014Z"}
2025/09/02 14:45:03 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:45:06 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:45:06.345755251Z","packet_loss":0,"min_rtt":13975375,"max_rtt":21164917,"avg_rtt":16563417,"threshold":10,"success":true}
2025/09/02 14:45:06 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:45:06.345755251 +0000 UTC PacketLoss:0 MinRTT:13.975375ms MaxRTT:21.164917ms AvgRTT:16.563417ms Threshold:10 Success:true}
2025/09/02 14:45:06 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756824306, ip=8.8.8.8, packet_loss=0.000000, min_rtt=13975.000000, max_rtt=21164.000000, avg_rtt=16563.000000
2025/09/02 14:45:13 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:13.250332796 +0000 UTC m=+863.983035520 UpdatedAt:2025-09-02 14:45:13.250333004 +0000 UTC m=+863.983035729}
2025/09/02 14:45:13 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:13.250332796 +0000 UTC m=+863.983035520 UpdatedAt:2025-09-02 14:45:13.250333004 +0000 UTC m=+863.983035729}
2025/09/02 14:45:13 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:45:13.250332796Z","updated_at":"2025-09-02T14:45:13.250333004Z"}
2025/09/02 14:45:13 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:45:23 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:23.304781342 +0000 UTC m=+874.037484067 UpdatedAt:2025-09-02 14:45:23.304781426 +0000 UTC m=+874.037484109}
2025/09/02 14:45:23 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:23.304781342 +0000 UTC m=+874.037484067 UpdatedAt:2025-09-02 14:45:23.304781426 +0000 UTC m=+874.037484109}
2025/09/02 14:45:23 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:45:23.304781342Z","updated_at":"2025-09-02T14:45:23.304781426Z"}
2025/09/02 14:45:23 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:45:33 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:33.332682764 +0000 UTC m=+884.065385447 UpdatedAt:2025-09-02 14:45:33.33268293 +0000 UTC m=+884.065385655}
2025/09/02 14:45:33 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:33.332682764 +0000 UTC m=+884.065385447 UpdatedAt:2025-09-02 14:45:33.33268293 +0000 UTC m=+884.065385655}
2025/09/02 14:45:33 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:45:33.332682764Z","updated_at":"2025-09-02T14:45:33.33268293Z"}
2025/09/02 14:45:33 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:45:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:43.373064754 +0000 UTC m=+894.105766409 UpdatedAt:2025-09-02 14:45:43.373064921 +0000 UTC m=+894.105766575}
2025/09/02 14:45:43 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:43.373064754 +0000 UTC m=+894.105766409 UpdatedAt:2025-09-02 14:45:43.373064921 +0000 UTC m=+894.105766575}
2025/09/02 14:45:43 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:45:43.373064754Z","updated_at":"2025-09-02T14:45:43.373064921Z"}
2025/09/02 14:45:43 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:45:53 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:53.444792217 +0000 UTC m=+904.177493830 UpdatedAt:2025-09-02 14:45:53.444792259 +0000 UTC m=+904.177493914}
2025/09/02 14:45:53 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:45:53.444792217 +0000 UTC m=+904.177493830 UpdatedAt:2025-09-02 14:45:53.444792259 +0000 UTC m=+904.177493914}
2025/09/02 14:45:53 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:45:53.444792217Z","updated_at":"2025-09-02T14:45:53.444792259Z"}
2025/09/02 14:45:53 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:46:03 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:03.495286722 +0000 UTC m=+914.227988377 UpdatedAt:2025-09-02 14:46:03.495287055 +0000 UTC m=+914.227988668}
2025/09/02 14:46:03 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:03.495286722 +0000 UTC m=+914.227988377 UpdatedAt:2025-09-02 14:46:03.495287055 +0000 UTC m=+914.227988668}
2025/09/02 14:46:03 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:46:03.495286722Z","updated_at":"2025-09-02T14:46:03.495287055Z"}
2025/09/02 14:46:03 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:46:13 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:13.526546088 +0000 UTC m=+924.259792339 UpdatedAt:2025-09-02 14:46:13.526546379 +0000 UTC m=+924.259792631}
2025/09/02 14:46:13 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:13.526546088 +0000 UTC m=+924.259792339 UpdatedAt:2025-09-02 14:46:13.526546379 +0000 UTC m=+924.259792631}
2025/09/02 14:46:13 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:46:13.526546088Z","updated_at":"2025-09-02T14:46:13.526546379Z"}
2025/09/02 14:46:13 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:46:23 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:23.560290801 +0000 UTC m=+934.293537052 UpdatedAt:2025-09-02 14:46:23.560290967 +0000 UTC m=+934.293537219}
2025/09/02 14:46:23 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:23.560290801 +0000 UTC m=+934.293537052 UpdatedAt:2025-09-02 14:46:23.560290967 +0000 UTC m=+934.293537219}
2025/09/02 14:46:23 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:46:23.560290801Z","updated_at":"2025-09-02T14:46:23.560290967Z"}
2025/09/02 14:46:23 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:46:33 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:33.592671639 +0000 UTC m=+944.325917890 UpdatedAt:2025-09-02 14:46:33.592671847 +0000 UTC m=+944.325918099}
2025/09/02 14:46:33 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:33.592671639 +0000 UTC m=+944.325917890 UpdatedAt:2025-09-02 14:46:33.592671847 +0000 UTC m=+944.325918099}
2025/09/02 14:46:33 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:46:33.592671639Z","updated_at":"2025-09-02T14:46:33.592671847Z"}
2025/09/02 14:46:33 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:46:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:43.626576963 +0000 UTC m=+954.359660395 UpdatedAt:2025-09-02 14:46:43.626577213 +0000 UTC m=+954.359660603}
2025/09/02 14:46:43 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:43.626576963 +0000 UTC m=+954.359660395 UpdatedAt:2025-09-02 14:46:43.626577213 +0000 UTC m=+954.359660603}
2025/09/02 14:46:43 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:46:43.626576963Z","updated_at":"2025-09-02T14:46:43.626577213Z"}
2025/09/02 14:46:43 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:46:46 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:46:46.732416464Z","packet_loss":0,"min_rtt":9357166,"max_rtt":22572417,"avg_rtt":13117333,"threshold":10,"success":true}
2025/09/02 14:46:46 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:46:46.732416464 +0000 UTC PacketLoss:0 MinRTT:9.357166ms MaxRTT:22.572417ms AvgRTT:13.117333ms Threshold:10 Success:true}
2025/09/02 14:46:46 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756824406, ip=8.8.8.8, packet_loss=0.000000, min_rtt=9357.000000, max_rtt=22572.000000, avg_rtt=13117.000000
2025/09/02 14:46:53 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:53.662003426 +0000 UTC m=+964.395086816 UpdatedAt:2025-09-02 14:46:53.662003634 +0000 UTC m=+964.395087025}
2025/09/02 14:46:53 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:46:53.662003426 +0000 UTC m=+964.395086816 UpdatedAt:2025-09-02 14:46:53.662003634 +0000 UTC m=+964.395087025}
2025/09/02 14:46:53 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:46:53.662003426Z","updated_at":"2025-09-02T14:46:53.662003634Z"}
2025/09/02 14:46:53 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:47:03 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:03.767067208 +0000 UTC m=+974.500753362 UpdatedAt:2025-09-02 14:47:03.767067333 +0000 UTC m=+974.500753529}
2025/09/02 14:47:03 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:03.767067208 +0000 UTC m=+974.500753362 UpdatedAt:2025-09-02 14:47:03.767067333 +0000 UTC m=+974.500753529}
2025/09/02 14:47:03 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:47:03.767067208Z","updated_at":"2025-09-02T14:47:03.767067333Z"}
2025/09/02 14:47:03 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:47:13 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:13.796808879 +0000 UTC m=+984.530495075 UpdatedAt:2025-09-02 14:47:13.796809046 +0000 UTC m=+984.530495242}
2025/09/02 14:47:13 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:13.796808879 +0000 UTC m=+984.530495075 UpdatedAt:2025-09-02 14:47:13.796809046 +0000 UTC m=+984.530495242}
2025/09/02 14:47:13 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:47:13.796808879Z","updated_at":"2025-09-02T14:47:13.796809046Z"}
2025/09/02 14:47:13 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:47:23 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:23.850235176 +0000 UTC m=+994.583921371 UpdatedAt:2025-09-02 14:47:23.850235342 +0000 UTC m=+994.583921538}
2025/09/02 14:47:23 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:23.850235176 +0000 UTC m=+994.583921371 UpdatedAt:2025-09-02 14:47:23.850235342 +0000 UTC m=+994.583921538}
2025/09/02 14:47:23 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:47:23.850235176Z","updated_at":"2025-09-02T14:47:23.850235342Z"}
2025/09/02 14:47:23 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:47:33 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:33.883529125 +0000 UTC m=+1004.616655625 UpdatedAt:2025-09-02 14:47:33.883529333 +0000 UTC m=+1004.616655834}
2025/09/02 14:47:33 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:33.883529125 +0000 UTC m=+1004.616655625 UpdatedAt:2025-09-02 14:47:33.883529333 +0000 UTC m=+1004.616655834}
2025/09/02 14:47:33 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:47:33.883529125Z","updated_at":"2025-09-02T14:47:33.883529333Z"}
2025/09/02 14:47:33 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:47:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:43.926320254 +0000 UTC m=+1014.659446797 UpdatedAt:2025-09-02 14:47:43.926320463 +0000 UTC m=+1014.659446963}
2025/09/02 14:47:43 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:43.926320254 +0000 UTC m=+1014.659446797 UpdatedAt:2025-09-02 14:47:43.926320463 +0000 UTC m=+1014.659446963}
2025/09/02 14:47:43 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:47:43.926320254Z","updated_at":"2025-09-02T14:47:43.926320463Z"}
2025/09/02 14:47:43 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:47:53 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:53.969185509 +0000 UTC m=+1024.702312010 UpdatedAt:2025-09-02 14:47:53.969185801 +0000 UTC m=+1024.702312302}
2025/09/02 14:47:53 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:47:53.969185509 +0000 UTC m=+1024.702312010 UpdatedAt:2025-09-02 14:47:53.969185801 +0000 UTC m=+1024.702312302}
2025/09/02 14:47:53 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:47:53.969185509Z","updated_at":"2025-09-02T14:47:53.969185801Z"}
2025/09/02 14:47:53 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:48:04 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:04.000396666 +0000 UTC m=+1034.733553722 UpdatedAt:2025-09-02 14:48:04.000396875 +0000 UTC m=+1034.733553930}
2025/09/02 14:48:04 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:04.000396666 +0000 UTC m=+1034.733553722 UpdatedAt:2025-09-02 14:48:04.000396875 +0000 UTC m=+1034.733553930}
2025/09/02 14:48:04 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:48:04.000396666Z","updated_at":"2025-09-02T14:48:04.000396875Z"}
2025/09/02 14:48:04 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:48:14 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:14.038134796 +0000 UTC m=+1044.771291852 UpdatedAt:2025-09-02 14:48:14.038135004 +0000 UTC m=+1044.771292060}
2025/09/02 14:48:14 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:14.038134796 +0000 UTC m=+1044.771291852 UpdatedAt:2025-09-02 14:48:14.038135004 +0000 UTC m=+1044.771292060}
2025/09/02 14:48:14 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:48:14.038134796Z","updated_at":"2025-09-02T14:48:14.038135004Z"}
2025/09/02 14:48:14 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:48:24 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:24.070486676 +0000 UTC m=+1054.803643732 UpdatedAt:2025-09-02 14:48:24.070486801 +0000 UTC m=+1054.803643857}
2025/09/02 14:48:24 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:24.070486676 +0000 UTC m=+1054.803643732 UpdatedAt:2025-09-02 14:48:24.070486801 +0000 UTC m=+1054.803643857}
2025/09/02 14:48:24 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:48:24.070486676Z","updated_at":"2025-09-02T14:48:24.070486801Z"}
2025/09/02 14:48:24 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:48:34 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:34.135074375 +0000 UTC m=+1064.868321485 UpdatedAt:2025-09-02 14:48:34.135074458 +0000 UTC m=+1064.868321527}
2025/09/02 14:48:34 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:34.135074375 +0000 UTC m=+1064.868321485 UpdatedAt:2025-09-02 14:48:34.135074458 +0000 UTC m=+1064.868321527}
2025/09/02 14:48:34 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:48:34.135074375Z","updated_at":"2025-09-02T14:48:34.135074458Z"}
2025/09/02 14:48:34 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:48:37 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:48:37.215682251Z","packet_loss":0,"min_rtt":8979000,"max_rtt":17004375,"avg_rtt":12960250,"threshold":10,"success":true}
2025/09/02 14:48:37 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:48:37.215682251 +0000 UTC PacketLoss:0 MinRTT:8.979ms MaxRTT:17.004375ms AvgRTT:12.96025ms Threshold:10 Success:true}
2025/09/02 14:48:37 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756824517, ip=8.8.8.8, packet_loss=0.000000, min_rtt=8979.000000, max_rtt=17004.000000, avg_rtt=12960.000000
2025/09/02 14:48:44 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:44.165926754 +0000 UTC m=+1074.899173865 UpdatedAt:2025-09-02 14:48:44.165926963 +0000 UTC m=+1074.899174032}
2025/09/02 14:48:44 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:44.165926754 +0000 UTC m=+1074.899173865 UpdatedAt:2025-09-02 14:48:44.165926963 +0000 UTC m=+1074.899174032}
2025/09/02 14:48:44 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:48:44.165926754Z","updated_at":"2025-09-02T14:48:44.165926963Z"}
2025/09/02 14:48:44 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:48:54 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:54.203182843 +0000 UTC m=+1084.936429953 UpdatedAt:2025-09-02 14:48:54.203183009 +0000 UTC m=+1084.936430120}
2025/09/02 14:48:54 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:48:54.203182843 +0000 UTC m=+1084.936429953 UpdatedAt:2025-09-02 14:48:54.203183009 +0000 UTC m=+1084.936430120}
2025/09/02 14:48:54 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:48:54.203182843Z","updated_at":"2025-09-02T14:48:54.203183009Z"}
2025/09/02 14:48:54 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:49:04 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:04.242326958 +0000 UTC m=+1094.975708208 UpdatedAt:2025-09-02 14:49:04.242327166 +0000 UTC m=+1094.975708416}
2025/09/02 14:49:04 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:04.242326958 +0000 UTC m=+1094.975708208 UpdatedAt:2025-09-02 14:49:04.242327166 +0000 UTC m=+1094.975708416}
2025/09/02 14:49:04 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:49:04.242326958Z","updated_at":"2025-09-02T14:49:04.242327166Z"}
2025/09/02 14:49:04 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:49:14 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:14.274880505 +0000 UTC m=+1105.008261796 UpdatedAt:2025-09-02 14:49:14.27488063 +0000 UTC m=+1105.008261879}
2025/09/02 14:49:14 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:14.274880505 +0000 UTC m=+1105.008261796 UpdatedAt:2025-09-02 14:49:14.27488063 +0000 UTC m=+1105.008261879}
2025/09/02 14:49:14 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:49:14.274880505Z","updated_at":"2025-09-02T14:49:14.27488063Z"}
2025/09/02 14:49:14 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:49:24 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:24.307947926 +0000 UTC m=+1115.041329176 UpdatedAt:2025-09-02 14:49:24.307948134 +0000 UTC m=+1115.041329342}
2025/09/02 14:49:24 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:24.307947926 +0000 UTC m=+1115.041329176 UpdatedAt:2025-09-02 14:49:24.307948134 +0000 UTC m=+1115.041329342}
2025/09/02 14:49:24 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:49:24.307947926Z","updated_at":"2025-09-02T14:49:24.307948134Z"}
2025/09/02 14:49:24 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:49:34 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:34.350617333 +0000 UTC m=+1125.084301597 UpdatedAt:2025-09-02 14:49:34.350617541 +0000 UTC m=+1125.084301847}
2025/09/02 14:49:34 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:34.350617333 +0000 UTC m=+1125.084301597 UpdatedAt:2025-09-02 14:49:34.350617541 +0000 UTC m=+1125.084301847}
2025/09/02 14:49:34 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:49:34.350617333Z","updated_at":"2025-09-02T14:49:34.350617541Z"}
2025/09/02 14:49:34 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:49:44 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:44.402278213 +0000 UTC m=+1135.135962477 UpdatedAt:2025-09-02 14:49:44.402278421 +0000 UTC m=+1135.135962727}
2025/09/02 14:49:44 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:44.402278213 +0000 UTC m=+1135.135962477 UpdatedAt:2025-09-02 14:49:44.402278421 +0000 UTC m=+1135.135962727}
2025/09/02 14:49:44 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:49:44.402278213Z","updated_at":"2025-09-02T14:49:44.402278421Z"}
2025/09/02 14:49:44 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:49:54 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:54.451426843 +0000 UTC m=+1145.185111106 UpdatedAt:2025-09-02 14:49:54.451427051 +0000 UTC m=+1145.185111273}
2025/09/02 14:49:54 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:49:54.451426843 +0000 UTC m=+1145.185111106 UpdatedAt:2025-09-02 14:49:54.451427051 +0000 UTC m=+1145.185111273}
2025/09/02 14:49:54 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:49:54.451426843Z","updated_at":"2025-09-02T14:49:54.451427051Z"}
2025/09/02 14:49:54 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:50:04 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:04.49632325 +0000 UTC m=+1155.229879819 UpdatedAt:2025-09-02 14:50:04.4963235 +0000 UTC m=+1155.229880069}
2025/09/02 14:50:04 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:04.49632325 +0000 UTC m=+1155.229879819 UpdatedAt:2025-09-02 14:50:04.4963235 +0000 UTC m=+1155.229880069}
2025/09/02 14:50:04 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:50:04.49632325Z","updated_at":"2025-09-02T14:50:04.4963235Z"}
2025/09/02 14:50:04 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:50:14 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:14.533169838 +0000 UTC m=+1165.266726448 UpdatedAt:2025-09-02 14:50:14.533170088 +0000 UTC m=+1165.266726657}
2025/09/02 14:50:14 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:14.533169838 +0000 UTC m=+1165.266726448 UpdatedAt:2025-09-02 14:50:14.533170088 +0000 UTC m=+1165.266726657}
2025/09/02 14:50:14 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:50:14.533169838Z","updated_at":"2025-09-02T14:50:14.533170088Z"}
2025/09/02 14:50:14 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:50:24 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:24.569084259 +0000 UTC m=+1175.302640828 UpdatedAt:2025-09-02 14:50:24.569084468 +0000 UTC m=+1175.302641036}
2025/09/02 14:50:24 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:24.569084259 +0000 UTC m=+1175.302640828 UpdatedAt:2025-09-02 14:50:24.569084468 +0000 UTC m=+1175.302641036}
2025/09/02 14:50:24 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:50:24.569084259Z","updated_at":"2025-09-02T14:50:24.569084468Z"}
2025/09/02 14:50:24 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:50:34 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:34.6086135 +0000 UTC m=+1185.342109665 UpdatedAt:2025-09-02 14:50:34.60861375 +0000 UTC m=+1185.342109874}
2025/09/02 14:50:34 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:34.6086135 +0000 UTC m=+1185.342109665 UpdatedAt:2025-09-02 14:50:34.60861375 +0000 UTC m=+1185.342109874}
2025/09/02 14:50:34 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:50:34.6086135Z","updated_at":"2025-09-02T14:50:34.60861375Z"}
2025/09/02 14:50:34 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:50:37 icmp_probe.go:116: Received message from RabbitMQ: {"ip":"8.8.8.8","timestamp":"2025-09-02T14:50:37.72753196Z","packet_loss":0,"min_rtt":13572000,"max_rtt":16457042,"avg_rtt":14682542,"threshold":10,"success":true}
2025/09/02 14:50:37 icmp_probe.go:125: Processed probe result: {IP:8.8.8.8 Timestamp:2025-09-02 14:50:37.72753196 +0000 UTC PacketLoss:0 MinRTT:13.572ms MaxRTT:16.457042ms AvgRTT:14.682542ms Threshold:10 Success:true}
2025/09/02 14:50:37 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756824637, ip=8.8.8.8, packet_loss=0.000000, min_rtt=13572.000000, max_rtt=16457.000000, avg_rtt=14682.000000
2025/09/02 14:50:44 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:44.645329213 +0000 UTC m=+1195.378825337 UpdatedAt:2025-09-02 14:50:44.645329421 +0000 UTC m=+1195.378825545}
2025/09/02 14:50:44 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:44.645329213 +0000 UTC m=+1195.378825337 UpdatedAt:2025-09-02 14:50:44.645329421 +0000 UTC m=+1195.378825545}
2025/09/02 14:50:44 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:50:44.645329213Z","updated_at":"2025-09-02T14:50:44.645329421Z"}
2025/09/02 14:50:44 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:50:54 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:54.678463551 +0000 UTC m=+1205.411959675 UpdatedAt:2025-09-02 14:50:54.67846376 +0000 UTC m=+1205.411959883}
2025/09/02 14:50:54 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:50:54.678463551 +0000 UTC m=+1205.411959675 UpdatedAt:2025-09-02 14:50:54.67846376 +0000 UTC m=+1205.411959883}
2025/09/02 14:50:54 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:50:54.678463551Z","updated_at":"2025-09-02T14:50:54.67846376Z"}
2025/09/02 14:50:54 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:51:04 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:04.714854375 +0000 UTC m=+1215.448855970 UpdatedAt:2025-09-02 14:51:04.714854625 +0000 UTC m=+1215.448856179}
2025/09/02 14:51:04 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:04.714854375 +0000 UTC m=+1215.448855970 UpdatedAt:2025-09-02 14:51:04.714854625 +0000 UTC m=+1215.448856179}
2025/09/02 14:51:04 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:51:04.714854375Z","updated_at":"2025-09-02T14:51:04.714854625Z"}
2025/09/02 14:51:04 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:51:14 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:14.759422921 +0000 UTC m=+1225.493424475 UpdatedAt:2025-09-02 14:51:14.759423088 +0000 UTC m=+1225.493424642}
2025/09/02 14:51:14 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:14.759422921 +0000 UTC m=+1225.493424475 UpdatedAt:2025-09-02 14:51:14.759423088 +0000 UTC m=+1225.493424642}
2025/09/02 14:51:14 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:51:14.759422921Z","updated_at":"2025-09-02T14:51:14.759423088Z"}
2025/09/02 14:51:14 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:51:24 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:24.805903968 +0000 UTC m=+1235.539905522 UpdatedAt:2025-09-02 14:51:24.805904176 +0000 UTC m=+1235.539905688}
2025/09/02 14:51:24 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:24.805903968 +0000 UTC m=+1235.539905522 UpdatedAt:2025-09-02 14:51:24.805904176 +0000 UTC m=+1235.539905688}
2025/09/02 14:51:24 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:51:24.805903968Z","updated_at":"2025-09-02T14:51:24.805904176Z"}
2025/09/02 14:51:24 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:51:34 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:34.848434333 +0000 UTC m=+1245.582682817 UpdatedAt:2025-09-02 14:51:34.848434542 +0000 UTC m=+1245.582683025}
2025/09/02 14:51:34 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:34.848434333 +0000 UTC m=+1245.582682817 UpdatedAt:2025-09-02 14:51:34.848434542 +0000 UTC m=+1245.582683025}
2025/09/02 14:51:34 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:51:34.848434333Z","updated_at":"2025-09-02T14:51:34.848434542Z"}
2025/09/02 14:51:34 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:51:44 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:44.888676421 +0000 UTC m=+1255.622924905 UpdatedAt:2025-09-02 14:51:44.88867663 +0000 UTC m=+1255.622925072}
2025/09/02 14:51:44 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:44.888676421 +0000 UTC m=+1255.622924905 UpdatedAt:2025-09-02 14:51:44.88867663 +0000 UTC m=+1255.622925072}
2025/09/02 14:51:44 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:51:44.888676421Z","updated_at":"2025-09-02T14:51:44.88867663Z"}
2025/09/02 14:51:44 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:51:54 probe_task_dao.go:23: Successfully inserted probe task: &{IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:54.91666476 +0000 UTC m=+1265.650913243 UpdatedAt:2025-09-02 14:51:54.916664926 +0000 UTC m=+1265.650913410}
2025/09/02 14:51:54 icmp_probe.go:36: Assigned probe task to client: {IP:8.8.8.8 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:51:54.91666476 +0000 UTC m=+1265.650913243 UpdatedAt:2025-09-02 14:51:54.916664926 +0000 UTC m=+1265.650913410}
2025/09/02 14:51:54 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:51:54.91666476Z","updated_at":"2025-09-02T14:51:54.916664926Z"}
2025/09/02 14:51:54 icmp_probe.go:77: Task published successfully to RabbitMQ
2025/09/02 14:56:10 log_config.go:33: Log initialized successfully
2025/09/02 14:56:10 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/02 14:56:10 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/02 14:56:10 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.7:5672: connect: connection refused, retrying in 10 seconds...
2025/09/02 14:56:20 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/09/02 14:56:20 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/02 14:56:20 server_config.go:80: Successfully created RabbitMQ channel
2025/09/02 14:56:20 server_config.go:117: Successfully declared task_queue
2025/09/02 14:56:20 server_config.go:136: Successfully declared result_queue
2025/09/02 14:56:20 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/02 14:56:20 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/02 14:56:20 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/02 14:56:20 init_mysql.go:41: MySQL initialized successfully
2025/09/02 14:56:20 init_mysql.go:68: Table probe_tasks ensured.
2025/09/02 14:56:20 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/02 14:56:20 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/02 14:56:20 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/02 14:56:20 server_config.go:80: Successfully created RabbitMQ channel
2025/09/02 14:56:20 server_config.go:117: Successfully declared task_queue
2025/09/02 14:56:20 server_config.go:136: Successfully declared result_queue
2025/09/02 14:56:20 main.go:35: Starting Hertz server on :8080
2025/09/02 14:56:20 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/02 14:56:20 icmp_probe.go:111: Consumer registered successfully
2025/09/02 14:57:57 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:57:57.853365011 +0000 UTC m=+107.858261800 UpdatedAt:2025-09-02 14:57:57.853365094 +0000 UTC m=+107.858261883}
2025/09/02 14:57:57 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:57:57.853365011 +0000 UTC m=+107.858261800 UpdatedAt:2025-09-02 14:57:57.853365094 +0000 UTC m=+107.858261883}
2025/09/02 14:57:57 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:57:57.853365011Z","updated_at":"2025-09-02T14:57:57.853365094Z"}
2025/09/02 14:57:57 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:58:02 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-02T14:58:02.902105597Z","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/02 14:58:02 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-02 14:58:02.902105597 +0000 UTC PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/02 14:58:02 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756825082, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/02 14:58:02 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/02 14:58:02 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825082"} 100.000000
2025/09/02 14:58:02 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825082"} 100.000000
, Response: 
2025/09/02 14:58:07 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:07.899161293 +0000 UTC m=+117.904130637 UpdatedAt:2025-09-02 14:58:07.899161626 +0000 UTC m=+117.904130845}
2025/09/02 14:58:07 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:07.899161293 +0000 UTC m=+117.904130637 UpdatedAt:2025-09-02 14:58:07.899161626 +0000 UTC m=+117.904130845}
2025/09/02 14:58:07 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:58:07.899161293Z","updated_at":"2025-09-02T14:58:07.899161626Z"}
2025/09/02 14:58:07 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:58:17 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:17.946518465 +0000 UTC m=+127.951487683 UpdatedAt:2025-09-02 14:58:17.946518673 +0000 UTC m=+127.951487850}
2025/09/02 14:58:17 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:17.946518465 +0000 UTC m=+127.951487683 UpdatedAt:2025-09-02 14:58:17.946518673 +0000 UTC m=+127.951487850}
2025/09/02 14:58:17 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:58:17.946518465Z","updated_at":"2025-09-02T14:58:17.946518673Z"}
2025/09/02 14:58:17 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:58:22 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-02T14:58:22.984849925Z","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/02 14:58:22 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-02 14:58:22.984849925 +0000 UTC PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/02 14:58:22 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756825102, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/02 14:58:22 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/02 14:58:22 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825102"} 100.000000
2025/09/02 14:58:22 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825102"} 100.000000
, Response: 
2025/09/02 14:58:27 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:27.988791969 +0000 UTC m=+137.993761146 UpdatedAt:2025-09-02 14:58:27.988792011 +0000 UTC m=+137.993761230}
2025/09/02 14:58:27 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:27.988791969 +0000 UTC m=+137.993761146 UpdatedAt:2025-09-02 14:58:27.988792011 +0000 UTC m=+137.993761230}
2025/09/02 14:58:27 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:58:27.988791969Z","updated_at":"2025-09-02T14:58:27.988792011Z"}
2025/09/02 14:58:27 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:58:38 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:38.026867377 +0000 UTC m=+148.031968775 UpdatedAt:2025-09-02 14:58:38.026867543 +0000 UTC m=+148.031968942}
2025/09/02 14:58:38 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:38.026867377 +0000 UTC m=+148.031968775 UpdatedAt:2025-09-02 14:58:38.026867543 +0000 UTC m=+148.031968942}
2025/09/02 14:58:38 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:58:38.026867377Z","updated_at":"2025-09-02T14:58:38.026867543Z"}
2025/09/02 14:58:38 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:58:48 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:48.062592048 +0000 UTC m=+158.067693488 UpdatedAt:2025-09-02 14:58:48.062592298 +0000 UTC m=+158.067693697}
2025/09/02 14:58:48 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:48.062592048 +0000 UTC m=+158.067693488 UpdatedAt:2025-09-02 14:58:48.062592298 +0000 UTC m=+158.067693697}
2025/09/02 14:58:48 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:58:48.062592048Z","updated_at":"2025-09-02T14:58:48.062592298Z"}
2025/09/02 14:58:48 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:58:53 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-02T14:58:53.111532592Z","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/02 14:58:53 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-02 14:58:53.111532592 +0000 UTC PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/02 14:58:53 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756825133, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/02 14:58:53 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/02 14:58:53 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825133"} 100.000000
2025/09/02 14:58:53 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825133"} 100.000000
, Response: 
2025/09/02 14:58:58 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:58.095889178 +0000 UTC m=+168.100990576 UpdatedAt:2025-09-02 14:58:58.095889386 +0000 UTC m=+168.100990785}
2025/09/02 14:58:58 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:58:58.095889178 +0000 UTC m=+168.100990576 UpdatedAt:2025-09-02 14:58:58.095889386 +0000 UTC m=+168.100990785}
2025/09/02 14:58:58 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:58:58.095889178Z","updated_at":"2025-09-02T14:58:58.095889386Z"}
2025/09/02 14:58:58 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:59:08 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:08.132074752 +0000 UTC m=+178.137178580 UpdatedAt:2025-09-02 14:59:08.132074918 +0000 UTC m=+178.137178747}
2025/09/02 14:59:08 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:08.132074752 +0000 UTC m=+178.137178580 UpdatedAt:2025-09-02 14:59:08.132074918 +0000 UTC m=+178.137178747}
2025/09/02 14:59:08 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:59:08.132074752Z","updated_at":"2025-09-02T14:59:08.132074918Z"}
2025/09/02 14:59:08 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:59:18 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:18.167621006 +0000 UTC m=+188.172724835 UpdatedAt:2025-09-02 14:59:18.167621215 +0000 UTC m=+188.172725043}
2025/09/02 14:59:18 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:18.167621006 +0000 UTC m=+188.172724835 UpdatedAt:2025-09-02 14:59:18.167621215 +0000 UTC m=+188.172725043}
2025/09/02 14:59:18 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:59:18.167621006Z","updated_at":"2025-09-02T14:59:18.167621215Z"}
2025/09/02 14:59:18 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:59:28 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:28.198918553 +0000 UTC m=+198.204022381 UpdatedAt:2025-09-02 14:59:28.198918761 +0000 UTC m=+198.204022548}
2025/09/02 14:59:28 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:28.198918553 +0000 UTC m=+198.204022381 UpdatedAt:2025-09-02 14:59:28.198918761 +0000 UTC m=+198.204022548}
2025/09/02 14:59:28 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:59:28.198918553Z","updated_at":"2025-09-02T14:59:28.198918761Z"}
2025/09/02 14:59:28 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:59:33 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-02T14:59:33.207519514Z","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/02 14:59:33 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-02 14:59:33.207519514 +0000 UTC PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/02 14:59:33 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756825173, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/02 14:59:33 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/02 14:59:33 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825173"} 100.000000
2025/09/02 14:59:33 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825173"} 100.000000
, Response: 
2025/09/02 14:59:38 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:38.230619793 +0000 UTC m=+208.235795594 UpdatedAt:2025-09-02 14:59:38.230620043 +0000 UTC m=+208.235795760}
2025/09/02 14:59:38 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:38.230619793 +0000 UTC m=+208.235795594 UpdatedAt:2025-09-02 14:59:38.230620043 +0000 UTC m=+208.235795760}
2025/09/02 14:59:38 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:59:38.230619793Z","updated_at":"2025-09-02T14:59:38.230620043Z"}
2025/09/02 14:59:38 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:59:48 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:48.262921923 +0000 UTC m=+218.268097682 UpdatedAt:2025-09-02 14:59:48.262922006 +0000 UTC m=+218.268097765}
2025/09/02 14:59:48 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:48.262921923 +0000 UTC m=+218.268097682 UpdatedAt:2025-09-02 14:59:48.262922006 +0000 UTC m=+218.268097765}
2025/09/02 14:59:48 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:59:48.262921923Z","updated_at":"2025-09-02T14:59:48.262922006Z"}
2025/09/02 14:59:48 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 14:59:58 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:58.297114511 +0000 UTC m=+228.302290312 UpdatedAt:2025-09-02 14:59:58.297114761 +0000 UTC m=+228.302290520}
2025/09/02 14:59:58 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 14:59:58.297114511 +0000 UTC m=+228.302290312 UpdatedAt:2025-09-02 14:59:58.297114761 +0000 UTC m=+228.302290520}
2025/09/02 14:59:58 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T14:59:58.297114511Z","updated_at":"2025-09-02T14:59:58.297114761Z"}
2025/09/02 14:59:58 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 15:00:08 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:08.395734627 +0000 UTC m=+238.348138482 UpdatedAt:2025-09-02 15:00:08.395734835 +0000 UTC m=+238.348138691}
2025/09/02 15:00:08 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:08.395734627 +0000 UTC m=+238.348138482 UpdatedAt:2025-09-02 15:00:08.395734835 +0000 UTC m=+238.348138691}
2025/09/02 15:00:08 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T15:00:08.395734627Z","updated_at":"2025-09-02T15:00:08.395734835Z"}
2025/09/02 15:00:08 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 15:00:18 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:18.426351715 +0000 UTC m=+248.378755570 UpdatedAt:2025-09-02 15:00:18.426351923 +0000 UTC m=+248.378755737}
2025/09/02 15:00:18 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:18.426351715 +0000 UTC m=+248.378755570 UpdatedAt:2025-09-02 15:00:18.426351923 +0000 UTC m=+248.378755737}
2025/09/02 15:00:18 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T15:00:18.426351715Z","updated_at":"2025-09-02T15:00:18.426351923Z"}
2025/09/02 15:00:18 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 15:00:23 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-02T15:00:23.457627384Z","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/02 15:00:23 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-02 15:00:23.457627384 +0000 UTC PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/02 15:00:23 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756825223, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/02 15:00:23 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/02 15:00:23 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825223"} 100.000000
2025/09/02 15:00:23 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825223"} 100.000000
, Response: 
2025/09/02 15:00:28 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:28.476540386 +0000 UTC m=+258.428944242 UpdatedAt:2025-09-02 15:00:28.47654047 +0000 UTC m=+258.428944284}
2025/09/02 15:00:28 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:28.476540386 +0000 UTC m=+258.428944242 UpdatedAt:2025-09-02 15:00:28.47654047 +0000 UTC m=+258.428944284}
2025/09/02 15:00:28 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T15:00:28.476540386Z","updated_at":"2025-09-02T15:00:28.47654047Z"}
2025/09/02 15:00:28 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 15:00:38 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:38.516143377 +0000 UTC m=+268.474006329 UpdatedAt:2025-09-02 15:00:38.516143543 +0000 UTC m=+268.474006496}
2025/09/02 15:00:38 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:38.516143377 +0000 UTC m=+268.474006329 UpdatedAt:2025-09-02 15:00:38.516143543 +0000 UTC m=+268.474006496}
2025/09/02 15:00:38 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T15:00:38.516143377Z","updated_at":"2025-09-02T15:00:38.516143543Z"}
2025/09/02 15:00:38 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 15:00:48 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:48.545185048 +0000 UTC m=+278.503048001 UpdatedAt:2025-09-02 15:00:48.545185257 +0000 UTC m=+278.503048168}
2025/09/02 15:00:48 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:48.545185048 +0000 UTC m=+278.503048001 UpdatedAt:2025-09-02 15:00:48.545185257 +0000 UTC m=+278.503048168}
2025/09/02 15:00:48 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T15:00:48.545185048Z","updated_at":"2025-09-02T15:00:48.545185257Z"}
2025/09/02 15:00:48 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 15:00:58 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:58.577194595 +0000 UTC m=+288.535057547 UpdatedAt:2025-09-02 15:00:58.577194803 +0000 UTC m=+288.535057756}
2025/09/02 15:00:58 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:00:58.577194595 +0000 UTC m=+288.535057547 UpdatedAt:2025-09-02 15:00:58.577194803 +0000 UTC m=+288.535057756}
2025/09/02 15:00:58 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T15:00:58.577194595Z","updated_at":"2025-09-02T15:00:58.577194803Z"}
2025/09/02 15:00:58 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 15:01:08 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:01:08.60849296 +0000 UTC m=+298.566810010 UpdatedAt:2025-09-02 15:01:08.608493168 +0000 UTC m=+298.566810218}
2025/09/02 15:01:08 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:01:08.60849296 +0000 UTC m=+298.566810010 UpdatedAt:2025-09-02 15:01:08.608493168 +0000 UTC m=+298.566810218}
2025/09/02 15:01:08 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T15:01:08.60849296Z","updated_at":"2025-09-02T15:01:08.608493168Z"}
2025/09/02 15:01:08 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 15:01:18 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:01:18.643648382 +0000 UTC m=+308.601965515 UpdatedAt:2025-09-02 15:01:18.643648632 +0000 UTC m=+308.601965681}
2025/09/02 15:01:18 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-02 15:01:18.643648382 +0000 UTC m=+308.601965515 UpdatedAt:2025-09-02 15:01:18.643648632 +0000 UTC m=+308.601965681}
2025/09/02 15:01:18 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-02T15:01:18.643648382Z","updated_at":"2025-09-02T15:01:18.643648632Z"}
2025/09/02 15:01:18 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/02 15:01:23 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-02T15:01:23.674456134Z","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/02 15:01:23 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-02 15:01:23.674456134 +0000 UTC PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/02 15:01:23 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756825283, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/02 15:01:23 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/02 15:01:23 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825283"} 100.000000
2025/09/02 15:01:23 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756825283"} 100.000000
, Response: 
2025/09/03 04:22:38 log_config.go:33: Log initialized successfully
2025/09/03 04:22:38 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/03 04:22:38 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/03 04:22:38 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.8:5672: connect: connection refused, retrying in 10 seconds...
2025/09/03 04:22:48 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/09/03 04:22:48 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/03 04:22:48 server_config.go:80: Successfully created RabbitMQ channel
2025/09/03 04:22:48 server_config.go:117: Successfully declared task_queue
2025/09/03 04:22:48 server_config.go:136: Successfully declared result_queue
2025/09/03 04:22:48 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/03 04:22:48 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/03 04:22:48 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/03 04:22:48 init_mysql.go:41: MySQL initialized successfully
2025/09/03 04:22:48 init_mysql.go:68: Table probe_tasks ensured.
2025/09/03 04:22:48 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/03 04:22:48 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/03 04:22:48 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/03 04:22:48 server_config.go:80: Successfully created RabbitMQ channel
2025/09/03 04:22:48 server_config.go:117: Successfully declared task_queue
2025/09/03 04:22:48 server_config.go:136: Successfully declared result_queue
2025/09/03 04:22:48 main.go:35: Starting Hertz server on :8080
2025/09/03 04:22:48 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/03 04:22:48 icmp_probe.go:111: Consumer registered successfully
2025/09/03 12:34:32 log_config.go:35: Log initialized successfully
2025/09/03 12:34:32 server_config.go:59: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/03 12:34:32 server_config.go:62: Attempt 1: Connecting to RabbitMQ...
2025/09/03 12:34:32 server_config.go:66: Failed to connect to RabbitMQ: dial tcp: lookup server_rabbitmq: no such host, retrying in 10 seconds...
2025/09/03 12:34:42 server_config.go:62: Attempt 2: Connecting to RabbitMQ...
2025/09/03 12:34:42 server_config.go:66: Failed to connect to RabbitMQ: dial tcp: lookup server_rabbitmq: no such host, retrying in 10 seconds...
2025/09/03 12:34:52 server_config.go:62: Attempt 3: Connecting to RabbitMQ...
2025/09/03 12:34:52 server_config.go:66: Failed to connect to RabbitMQ: dial tcp: lookup server_rabbitmq: no such host, retrying in 10 seconds...
2025/09/03 12:35:02 server_config.go:62: Attempt 4: Connecting to RabbitMQ...
2025/09/03 12:35:02 server_config.go:66: Failed to connect to RabbitMQ: dial tcp: lookup server_rabbitmq: no such host, retrying in 10 seconds...
2025/09/03 12:35:12 server_config.go:62: Attempt 5: Connecting to RabbitMQ...
2025/09/03 12:35:12 server_config.go:66: Failed to connect to RabbitMQ: dial tcp: lookup server_rabbitmq: no such host, retrying in 10 seconds...
2025/09/03 12:35:22 server_config.go:62: Attempt 6: Connecting to RabbitMQ...
2025/09/03 12:35:22 server_config.go:66: Failed to connect to RabbitMQ: dial tcp: lookup server_rabbitmq: no such host, retrying in 10 seconds...
2025/09/03 12:35:32 server_config.go:62: Attempt 7: Connecting to RabbitMQ...
2025/09/03 12:35:32 server_config.go:66: Failed to connect to RabbitMQ: dial tcp: lookup server_rabbitmq: no such host, retrying in 10 seconds...
2025/09/03 13:48:41 log_config.go:35: Log initialized successfully
2025/09/03 13:48:41 server_config.go:59: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/03 13:48:41 server_config.go:62: Attempt 1: Connecting to RabbitMQ...
2025/09/03 13:48:41 server_config.go:66: Failed to connect to RabbitMQ: dial tcp: lookup server_rabbitmq: no such host, retrying in 10 seconds...
2025/09/03 13:48:51 server_config.go:62: Attempt 2: Connecting to RabbitMQ...
2025/09/03 13:48:51 server_config.go:66: Failed to connect to RabbitMQ: dial tcp: lookup server_rabbitmq: no such host, retrying in 10 seconds...
2025/09/03 14:18:29 log_config.go:35: Log initialized successfully
2025/09/03 14:18:29 server_config.go:72: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/03 14:18:29 server_config.go:75: Attempt 1: Connecting to RabbitMQ...
2025/09/03 14:18:29 server_config.go:84: Successfully connected to RabbitMQ, creating channel...
2025/09/03 14:18:29 server_config.go:94: Successfully created RabbitMQ channel
2025/09/03 14:18:29 server_config.go:131: Successfully declared task_queue
2025/09/03 14:18:29 server_config.go:150: Successfully declared result_queue
2025/09/03 14:18:29 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/03 14:18:29 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/03 14:18:29 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/03 14:18:29 init_mysql.go:36: Failed to ping MySQL (attempt 1): dial tcp: lookup mysql: no such host
2025/09/03 14:18:31 init_mysql.go:36: Failed to ping MySQL (attempt 2): dial tcp: lookup mysql: no such host
2025/09/03 14:18:33 init_mysql.go:36: Failed to ping MySQL (attempt 3): dial tcp: lookup mysql: no such host
2025/09/03 14:18:35 init_mysql.go:36: Failed to ping MySQL (attempt 4): dial tcp: lookup mysql: no such host
2025/09/03 14:18:37 init_mysql.go:36: Failed to ping MySQL (attempt 5): dial tcp: lookup mysql: no such host
2025/09/03 14:18:39 init_mysql.go:46: Could not establish connection to MySQL after 5 attempts: dial tcp: lookup mysql: no such host
2025/09/03 14:23:18 log_config.go:35: Log initialized successfully
2025/09/03 14:23:18 server_config.go:72: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/03 14:23:18 server_config.go:75: Attempt 1: Connecting to RabbitMQ...
2025/09/03 14:23:18 server_config.go:84: Successfully connected to RabbitMQ, creating channel...
2025/09/03 14:23:18 server_config.go:94: Successfully created RabbitMQ channel
2025/09/03 14:23:18 server_config.go:131: Successfully declared task_queue
2025/09/03 14:23:18 server_config.go:150: Successfully declared result_queue
2025/09/03 14:23:18 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/03 14:23:18 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/03 14:23:18 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/03 14:23:18 init_mysql.go:41: MySQL initialized successfully
2025/09/03 14:23:18 init_mysql.go:68: Table probe_tasks ensured.
2025/09/03 14:23:18 server_config.go:72: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/03 14:23:18 server_config.go:75: Attempt 1: Connecting to RabbitMQ...
2025/09/03 14:23:18 server_config.go:84: Successfully connected to RabbitMQ, creating channel...
2025/09/03 14:23:18 server_config.go:94: Successfully created RabbitMQ channel
2025/09/03 14:23:18 server_config.go:131: Successfully declared task_queue
2025/09/03 14:23:18 server_config.go:150: Successfully declared result_queue
2025/09/03 14:23:18 main.go:35: Starting Hertz server on :8080
2025/09/03 14:23:18 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/03 14:23:18 icmp_probe.go:111: Consumer registered successfully
2025/09/03 14:24:00 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 14:24:00.206773 +0800 +08 m=+41.508764709 UpdatedAt:2025-09-03 14:24:00.206773 +0800 +08 m=+41.508764876}
2025/09/03 14:24:00 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 14:24:00.206773 +0800 +08 m=+41.508764709 UpdatedAt:2025-09-03 14:24:00.206773 +0800 +08 m=+41.508764876}
2025/09/03 14:24:00 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T14:24:00.206773+08:00","updated_at":"2025-09-03T14:24:00.206773+08:00"}
2025/09/03 14:24:00 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 14:24:05 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-03T06:24:05.225388842Z","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/03 14:24:05 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-03 06:24:05.225388842 +0000 UTC PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/03 14:24:05 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756880645, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/03 14:24:05 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/03 14:24:05 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756880645"} 100.000000
2025/09/03 14:24:05 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756880645"} 100.000000
, Response: 
2025/09/03 14:24:10 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 14:24:10.247037 +0800 +08 m=+51.548907126 UpdatedAt:2025-09-03 14:24:10.247037 +0800 +08 m=+51.548907292}
2025/09/03 14:24:10 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 14:24:10.247037 +0800 +08 m=+51.548907126 UpdatedAt:2025-09-03 14:24:10.247037 +0800 +08 m=+51.548907292}
2025/09/03 14:24:10 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T14:24:10.247037+08:00","updated_at":"2025-09-03T14:24:10.247037+08:00"}
2025/09/03 14:24:10 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:05:13 log_config.go:39: Log initialized successfully
2025/09/03 17:05:13 server_config.go:71: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/03 17:05:13 server_config.go:74: Attempt 1: Connecting to RabbitMQ...
2025/09/03 17:05:13 server_config.go:83: Successfully connected to RabbitMQ, creating channel...
2025/09/03 17:05:13 server_config.go:93: Successfully created RabbitMQ channel
2025/09/03 17:05:13 server_config.go:130: Successfully declared task_queue
2025/09/03 17:05:13 server_config.go:149: Successfully declared result_queue
2025/09/03 17:05:13 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/03 17:05:13 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/03 17:05:13 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/03 17:05:13 init_mysql.go:41: MySQL initialized successfully
2025/09/03 17:05:13 init_mysql.go:68: Table probe_tasks ensured.
2025/09/03 17:05:13 server_config.go:71: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/03 17:05:13 server_config.go:74: Attempt 1: Connecting to RabbitMQ...
2025/09/03 17:05:13 server_config.go:83: Successfully connected to RabbitMQ, creating channel...
2025/09/03 17:05:13 server_config.go:93: Successfully created RabbitMQ channel
2025/09/03 17:05:13 server_config.go:130: Successfully declared task_queue
2025/09/03 17:05:13 server_config.go:149: Successfully declared result_queue
2025/09/03 17:05:13 main.go:35: Starting Hertz server on :8080
2025/09/03 17:05:13 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/03 17:05:13 icmp_probe.go:111: Consumer registered successfully
2025/09/03 09:06:06 log_config.go:33: Log initialized successfully
2025/09/03 09:06:06 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/03 09:06:06 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/03 09:06:06 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.8:5672: connect: connection refused, retrying in 10 seconds...
2025/09/03 09:06:16 server_config.go:61: Attempt 2: Connecting to RabbitMQ...
2025/09/03 09:06:16 server_config.go:65: Failed to connect to RabbitMQ: dial tcp 172.19.0.8:5672: connect: connection refused, retrying in 10 seconds...
2025/09/03 09:06:26 server_config.go:61: Attempt 3: Connecting to RabbitMQ...
2025/09/03 09:06:26 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/03 09:06:26 server_config.go:80: Successfully created RabbitMQ channel
2025/09/03 09:06:26 server_config.go:117: Successfully declared task_queue
2025/09/03 09:06:26 server_config.go:136: Successfully declared result_queue
2025/09/03 09:06:26 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/03 09:06:26 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/03 09:06:26 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/03 09:06:26 init_mysql.go:41: MySQL initialized successfully
2025/09/03 09:06:26 init_mysql.go:68: Table probe_tasks ensured.
2025/09/03 09:06:26 server_config.go:58: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/03 09:06:26 server_config.go:61: Attempt 1: Connecting to RabbitMQ...
2025/09/03 09:06:26 server_config.go:70: Successfully connected to RabbitMQ, creating channel...
2025/09/03 09:06:26 server_config.go:80: Successfully created RabbitMQ channel
2025/09/03 09:06:26 server_config.go:117: Successfully declared task_queue
2025/09/03 09:06:26 server_config.go:136: Successfully declared result_queue
2025/09/03 09:06:26 main.go:35: Starting Hertz server on :8080
2025/09/03 09:06:26 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/03 09:06:26 icmp_probe.go:111: Consumer registered successfully
2025/09/03 17:09:01 log_config.go:39: Log initialized successfully
2025/09/03 17:09:01 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/03 17:09:01 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/03 17:09:01 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/03 17:09:01 server_config.go:92: Successfully created RabbitMQ channel
2025/09/03 17:09:01 server_config.go:129: Successfully declared task_queue
2025/09/03 17:09:01 server_config.go:148: Successfully declared result_queue
2025/09/03 17:09:01 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/03 17:09:01 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/03 17:09:01 init_clickhouse.go:64: ClickHouse table created successfully
2025/09/03 17:09:01 init_mysql.go:41: MySQL initialized successfully
2025/09/03 17:09:01 init_mysql.go:68: Table probe_tasks ensured.
2025/09/03 17:09:01 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/03 17:09:01 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/03 17:09:01 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/03 17:09:01 server_config.go:92: Successfully created RabbitMQ channel
2025/09/03 17:09:01 server_config.go:129: Successfully declared task_queue
2025/09/03 17:09:01 server_config.go:148: Successfully declared result_queue
2025/09/03 17:09:01 main.go:35: Starting Hertz server on :8080
2025/09/03 17:09:01 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/03 17:09:01 icmp_probe.go:111: Consumer registered successfully
2025/09/03 17:09:33 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:09:33.811959 +0800 +08 m=+32.626437084 UpdatedAt:2025-09-03 17:09:33.81196 +0800 +08 m=+32.626437168}
2025/09/03 17:09:33 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:09:33.811959 +0800 +08 m=+32.626437084 UpdatedAt:2025-09-03 17:09:33.81196 +0800 +08 m=+32.626437168}
2025/09/03 17:09:33 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:09:33.811959+08:00","updated_at":"2025-09-03T17:09:33.81196+08:00"}
2025/09/03 17:09:33 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:09:38 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-03T17:09:38.845304+08:00","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/03 17:09:38 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-03 17:09:38.845304 +0800 +08 PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/03 17:09:38 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756890578, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/03 17:09:38 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/03 17:09:38 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890578"} 100.000000
2025/09/03 17:09:38 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890578"} 100.000000
, Response: 
2025/09/03 17:09:43 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:09:43.892124 +0800 +08 m=+42.706573126 UpdatedAt:2025-09-03 17:09:43.892125 +0800 +08 m=+42.706573418}
2025/09/03 17:09:43 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:09:43.892124 +0800 +08 m=+42.706573126 UpdatedAt:2025-09-03 17:09:43.892125 +0800 +08 m=+42.706573418}
2025/09/03 17:09:43 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:09:43.892124+08:00","updated_at":"2025-09-03T17:09:43.892125+08:00"}
2025/09/03 17:09:43 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:09:53 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:09:53.93492 +0800 +08 m=+52.749339626 UpdatedAt:2025-09-03 17:09:53.93492 +0800 +08 m=+52.749339668}
2025/09/03 17:09:53 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:09:53.93492 +0800 +08 m=+52.749339626 UpdatedAt:2025-09-03 17:09:53.93492 +0800 +08 m=+52.749339668}
2025/09/03 17:09:53 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:09:53.93492+08:00","updated_at":"2025-09-03T17:09:53.93492+08:00"}
2025/09/03 17:09:53 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:09:58 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-03T17:09:58.970144+08:00","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/03 17:09:58 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-03 17:09:58.970144 +0800 +08 PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/03 17:09:59 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756890598, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/03 17:09:59 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/03 17:09:59 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890598"} 100.000000
2025/09/03 17:09:59 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890598"} 100.000000
, Response: 
2025/09/03 17:10:03 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:03.958171 +0800 +08 m=+62.772562001 UpdatedAt:2025-09-03 17:10:03.958171 +0800 +08 m=+62.772562043}
2025/09/03 17:10:03 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:03.958171 +0800 +08 m=+62.772562001 UpdatedAt:2025-09-03 17:10:03.958171 +0800 +08 m=+62.772562043}
2025/09/03 17:10:03 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:10:03.958171+08:00","updated_at":"2025-09-03T17:10:03.958171+08:00"}
2025/09/03 17:10:03 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:10:13 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:13.994202 +0800 +08 m=+72.808564918 UpdatedAt:2025-09-03 17:10:13.994202 +0800 +08 m=+72.808565001}
2025/09/03 17:10:13 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:13.994202 +0800 +08 m=+72.808564918 UpdatedAt:2025-09-03 17:10:13.994202 +0800 +08 m=+72.808565001}
2025/09/03 17:10:13 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:10:13.994202+08:00","updated_at":"2025-09-03T17:10:13.994202+08:00"}
2025/09/03 17:10:13 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:10:24 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:24.018782 +0800 +08 m=+82.833116168 UpdatedAt:2025-09-03 17:10:24.018782 +0800 +08 m=+82.833116209}
2025/09/03 17:10:24 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:24.018782 +0800 +08 m=+82.833116168 UpdatedAt:2025-09-03 17:10:24.018782 +0800 +08 m=+82.833116209}
2025/09/03 17:10:24 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:10:24.018782+08:00","updated_at":"2025-09-03T17:10:24.018782+08:00"}
2025/09/03 17:10:24 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:10:29 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-03T17:10:29.065509+08:00","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/03 17:10:29 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-03 17:10:29.065509 +0800 +08 PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/03 17:10:29 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756890629, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/03 17:10:29 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/03 17:10:29 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890629"} 100.000000
2025/09/03 17:10:29 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890629"} 100.000000
, Response: 
2025/09/03 17:10:34 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:34.070329 +0800 +08 m=+92.884634168 UpdatedAt:2025-09-03 17:10:34.070329 +0800 +08 m=+92.884634251}
2025/09/03 17:10:34 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:34.070329 +0800 +08 m=+92.884634168 UpdatedAt:2025-09-03 17:10:34.070329 +0800 +08 m=+92.884634251}
2025/09/03 17:10:34 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:10:34.070329+08:00","updated_at":"2025-09-03T17:10:34.070329+08:00"}
2025/09/03 17:10:34 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:10:44 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:44.120769 +0800 +08 m=+102.935045168 UpdatedAt:2025-09-03 17:10:44.120769 +0800 +08 m=+102.935045251}
2025/09/03 17:10:44 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:44.120769 +0800 +08 m=+102.935045168 UpdatedAt:2025-09-03 17:10:44.120769 +0800 +08 m=+102.935045251}
2025/09/03 17:10:44 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:10:44.120769+08:00","updated_at":"2025-09-03T17:10:44.120769+08:00"}
2025/09/03 17:10:44 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:10:54 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:54.163711 +0800 +08 m=+112.977958459 UpdatedAt:2025-09-03 17:10:54.163711 +0800 +08 m=+112.977958501}
2025/09/03 17:10:54 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:10:54.163711 +0800 +08 m=+112.977958459 UpdatedAt:2025-09-03 17:10:54.163711 +0800 +08 m=+112.977958501}
2025/09/03 17:10:54 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:10:54.163711+08:00","updated_at":"2025-09-03T17:10:54.163711+08:00"}
2025/09/03 17:10:54 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:11:04 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:04.193091 +0800 +08 m=+123.007309584 UpdatedAt:2025-09-03 17:11:04.193091 +0800 +08 m=+123.007309668}
2025/09/03 17:11:04 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:04.193091 +0800 +08 m=+123.007309584 UpdatedAt:2025-09-03 17:11:04.193091 +0800 +08 m=+123.007309668}
2025/09/03 17:11:04 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:11:04.193091+08:00","updated_at":"2025-09-03T17:11:04.193091+08:00"}
2025/09/03 17:11:04 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:11:09 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-03T17:11:09.230089+08:00","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/03 17:11:09 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-03 17:11:09.230089 +0800 +08 PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/03 17:11:09 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756890669, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/03 17:11:09 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/03 17:11:09 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890669"} 100.000000
2025/09/03 17:11:09 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890669"} 100.000000
, Response: 
2025/09/03 17:11:14 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:14.223183 +0800 +08 m=+133.037373501 UpdatedAt:2025-09-03 17:11:14.223183 +0800 +08 m=+133.037373543}
2025/09/03 17:11:14 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:14.223183 +0800 +08 m=+133.037373501 UpdatedAt:2025-09-03 17:11:14.223183 +0800 +08 m=+133.037373543}
2025/09/03 17:11:14 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:11:14.223183+08:00","updated_at":"2025-09-03T17:11:14.223183+08:00"}
2025/09/03 17:11:14 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:11:24 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:24.250018 +0800 +08 m=+143.064179043 UpdatedAt:2025-09-03 17:11:24.250018 +0800 +08 m=+143.064179126}
2025/09/03 17:11:24 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:24.250018 +0800 +08 m=+143.064179043 UpdatedAt:2025-09-03 17:11:24.250018 +0800 +08 m=+143.064179126}
2025/09/03 17:11:24 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:11:24.250018+08:00","updated_at":"2025-09-03T17:11:24.250018+08:00"}
2025/09/03 17:11:24 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:11:34 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:34.340785 +0800 +08 m=+153.154917668 UpdatedAt:2025-09-03 17:11:34.340785 +0800 +08 m=+153.154917709}
2025/09/03 17:11:34 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:34.340785 +0800 +08 m=+153.154917668 UpdatedAt:2025-09-03 17:11:34.340785 +0800 +08 m=+153.154917709}
2025/09/03 17:11:34 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:11:34.340785+08:00","updated_at":"2025-09-03T17:11:34.340785+08:00"}
2025/09/03 17:11:34 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:11:44 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:44.393355 +0800 +08 m=+163.207459084 UpdatedAt:2025-09-03 17:11:44.393355 +0800 +08 m=+163.207459168}
2025/09/03 17:11:44 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:44.393355 +0800 +08 m=+163.207459084 UpdatedAt:2025-09-03 17:11:44.393355 +0800 +08 m=+163.207459168}
2025/09/03 17:11:44 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:11:44.393355+08:00","updated_at":"2025-09-03T17:11:44.393355+08:00"}
2025/09/03 17:11:44 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:11:54 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:54.420235 +0800 +08 m=+173.234310584 UpdatedAt:2025-09-03 17:11:54.420235 +0800 +08 m=+173.234310626}
2025/09/03 17:11:54 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:11:54.420235 +0800 +08 m=+173.234310584 UpdatedAt:2025-09-03 17:11:54.420235 +0800 +08 m=+173.234310626}
2025/09/03 17:11:54 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:11:54.420235+08:00","updated_at":"2025-09-03T17:11:54.420235+08:00"}
2025/09/03 17:11:54 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:11:59 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-03T17:11:59.513744+08:00","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/03 17:11:59 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-03 17:11:59.513744 +0800 +08 PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/03 17:11:59 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756890719, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/03 17:11:59 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/03 17:11:59 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890719"} 100.000000
2025/09/03 17:11:59 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890719"} 100.000000
, Response: 
2025/09/03 17:12:04 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:04.449238 +0800 +08 m=+183.263284959 UpdatedAt:2025-09-03 17:12:04.449239 +0800 +08 m=+183.263285084}
2025/09/03 17:12:04 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:04.449238 +0800 +08 m=+183.263284959 UpdatedAt:2025-09-03 17:12:04.449239 +0800 +08 m=+183.263285084}
2025/09/03 17:12:04 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:12:04.449238+08:00","updated_at":"2025-09-03T17:12:04.449239+08:00"}
2025/09/03 17:12:04 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:12:14 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:14.4757 +0800 +08 m=+193.289717501 UpdatedAt:2025-09-03 17:12:14.4757 +0800 +08 m=+193.289717543}
2025/09/03 17:12:14 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:14.4757 +0800 +08 m=+193.289717501 UpdatedAt:2025-09-03 17:12:14.4757 +0800 +08 m=+193.289717543}
2025/09/03 17:12:14 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:12:14.4757+08:00","updated_at":"2025-09-03T17:12:14.4757+08:00"}
2025/09/03 17:12:14 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:12:24 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:24.532167 +0800 +08 m=+203.346156334 UpdatedAt:2025-09-03 17:12:24.532167 +0800 +08 m=+203.346156376}
2025/09/03 17:12:24 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:24.532167 +0800 +08 m=+203.346156334 UpdatedAt:2025-09-03 17:12:24.532167 +0800 +08 m=+203.346156376}
2025/09/03 17:12:24 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:12:24.532167+08:00","updated_at":"2025-09-03T17:12:24.532167+08:00"}
2025/09/03 17:12:24 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:12:34 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:34.561085 +0800 +08 m=+213.375045293 UpdatedAt:2025-09-03 17:12:34.561085 +0800 +08 m=+213.375045334}
2025/09/03 17:12:34 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:34.561085 +0800 +08 m=+213.375045293 UpdatedAt:2025-09-03 17:12:34.561085 +0800 +08 m=+213.375045334}
2025/09/03 17:12:34 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:12:34.561085+08:00","updated_at":"2025-09-03T17:12:34.561085+08:00"}
2025/09/03 17:12:34 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:12:44 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:44.597935 +0800 +08 m=+223.411866293 UpdatedAt:2025-09-03 17:12:44.597935 +0800 +08 m=+223.411866418}
2025/09/03 17:12:44 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:44.597935 +0800 +08 m=+223.411866293 UpdatedAt:2025-09-03 17:12:44.597935 +0800 +08 m=+223.411866418}
2025/09/03 17:12:44 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:12:44.597935+08:00","updated_at":"2025-09-03T17:12:44.597935+08:00"}
2025/09/03 17:12:44 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:12:54 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:54.689123 +0800 +08 m=+233.503026001 UpdatedAt:2025-09-03 17:12:54.689123 +0800 +08 m=+233.503026084}
2025/09/03 17:12:54 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:12:54.689123 +0800 +08 m=+233.503026001 UpdatedAt:2025-09-03 17:12:54.689123 +0800 +08 m=+233.503026084}
2025/09/03 17:12:54 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:12:54.689123+08:00","updated_at":"2025-09-03T17:12:54.689123+08:00"}
2025/09/03 17:12:54 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/03 17:12:59 icmp_probe.go:114: Received message from RabbitMQ: {"ip":"192.0.2.1","timestamp":"2025-09-03T17:12:59.714251+08:00","packet_loss":100,"min_rtt":0,"max_rtt":0,"avg_rtt":0,"threshold":10,"success":false}
2025/09/03 17:12:59 icmp_probe.go:123: Processed probe result: {IP:192.0.2.1 Timestamp:2025-09-03 17:12:59.714251 +0800 +08 PacketLoss:100 MinRTT:0s MaxRTT:0s AvgRTT:0s Threshold:10 Success:false}
2025/09/03 17:12:59 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1756890779, ip=192.0.2.1, packet_loss=100.000000, min_rtt=0.000000, max_rtt=0.000000, avg_rtt=0.000000
2025/09/03 17:12:59 icmp_probe.go:134: Packet loss exceeds threshold, reporting to Prometheus: 100.000000 > %!f(int=10)
2025/09/03 17:12:59 icmp_probe.go:149: Sending data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890779"} 100.000000
2025/09/03 17:12:59 icmp_probe.go:167: Successfully sent data to Prometheus: packet_loss{ip="192.0.2.1", timestamp="1756890779"} 100.000000
, Response: 
2025/09/03 17:13:04 probe_task_dao.go:23: Successfully inserted probe task: &{IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:13:04.735748 +0800 +08 m=+243.549622334 UpdatedAt:2025-09-03 17:13:04.735748 +0800 +08 m=+243.549622418}
2025/09/03 17:13:04 icmp_probe.go:36: Assigned probe task to client: {IP:192.0.2.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-03 17:13:04.735748 +0800 +08 m=+243.549622334 UpdatedAt:2025-09-03 17:13:04.735748 +0800 +08 m=+243.549622418}
2025/09/03 17:13:04 icmp_probe.go:59: Publishing task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"192.0.2.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-03T17:13:04.735748+08:00","updated_at":"2025-09-03T17:13:04.735748+08:00"}
2025/09/03 17:13:04 icmp_probe.go:76: Task published successfully to RabbitMQ
2025/09/06 23:23:45 log_config.go:38: Log initialized successfully
2025/09/06 23:23:45 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/06 23:23:45 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/06 23:23:45 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/06 23:23:45 server_config.go:92: Successfully created RabbitMQ channel
2025/09/06 23:23:45 server_config.go:138: Successfully declared task_queue
2025/09/06 23:23:45 server_config.go:166: Successfully declared result_queue
2025/09/06 23:23:45 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/06 23:23:45 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/06 23:23:45 init_clickhouse.go:64: ClickHouse ICMP results table created successfully
2025/09/06 23:23:45 init_clickhouse.go:78: Error creating table: code: 62, message: Syntax error: failed at position 4 ('CREAT') (line 2, col 3): CREAT TABLE IF NOT EXISTS my_database.tcp_results(
		      timestamp DateTime,
		      ip String,
		      port String,
		      rtt Float64,
		      success UInt. Expected one of: Query, Query with output, EXPLAIN, SELECT query, possibly with UNION, list of union elements, SELECT query, subquery, possibly with UNION, SELECT subquery, SELECT query, WITH, SELECT, SHOW CREATE QUOTA query, SHOW CREATE, SHOW [TEMPORARY] TABLES|DATABASES|CLUSTERS|CLUSTER 'name' [[NOT] [I]LIKE 'str'] [LIMIT expr], SHOW, EXISTS or SHOW CREATE query, EXISTS, DESCRIBE query, DESCRIBE, DESC, SHOW PROCESSLIST query, SHOW PROCESSLIST, CREATE TABLE or ATTACH TABLE query, CREATE, ATTACH, REPLACE, CREATE DATABASE query, CREATE VIEW query, CREATE DICTIONARY, CREATE LIVE VIEW query, CREATE WINDOW VIEW query, ALTER query, ALTER TABLE, ALTER LIVE VIEW, ALTER DATABASE, RENAME query, RENAME TABLE, EXCHANGE TABLES, RENAME DICTIONARY, EXCHANGE DICTIONARIES, RENAME DATABASE, DROP query, DROP, DETACH, TRUNCATE, CHECK TABLE, KILL QUERY query, KILL, OPTIMIZE query, OPTIMIZE TABLE, WATCH query, WATCH, SHOW ACCESS query, SHOW ACCESS, ShowAccessEntitiesQuery, SHOW GRANTS query, SHOW GRANTS, SHOW PRIVILEGES query, SHOW PRIVILEGES, INSERT query, INSERT INTO, USE query, USE, SET ROLE or SET DEFAULT ROLE query, SET ROLE DEFAULT, SET ROLE, SET DEFAULT ROLE, SET query, SET, SYSTEM query, SYSTEM, CREATE USER or ALTER USER query, ALTER USER, CREATE USER, CREATE ROLE or ALTER ROLE query, ALTER ROLE, CREATE ROLE, CREATE QUOTA or ALTER QUOTA query, ALTER QUOTA, CREATE QUOTA, CREATE ROW POLICY or ALTER ROW POLICY query, ALTER POLICY, ALTER ROW POLICY, CREATE POLICY, CREATE ROW POLICY, CREATE SETTINGS PROFILE or ALTER SETTINGS PROFILE query, ALTER SETTINGS PROFILE, ALTER PROFILE, CREATE SETTINGS PROFILE, CREATE PROFILE, CREATE FUNCTION query, DROP FUNCTION query, DROP access entity query, GRANT or REVOKE query, REVOKE, GRANT, EXTERNAL DDL query, EXTERNAL DDL FROM, BACKUP or RESTORE query, BACKUP, RESTORE
2025/09/06 23:40:13 log_config.go:38: Log initialized successfully
2025/09/06 23:40:13 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/06 23:40:13 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/06 23:40:13 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/06 23:40:13 server_config.go:92: Successfully created RabbitMQ channel
2025/09/06 23:40:13 server_config.go:124: Successfully declared icmp_task_queue
2025/09/06 23:40:13 server_config.go:138: Successfully declared tcp_task_queue
2025/09/06 23:40:13 server_config.go:152: Successfully declared icmp_result_queue
2025/09/06 23:40:13 server_config.go:166: Successfully declared tcp_result_queue
2025/09/06 23:40:14 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/06 23:40:14 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/06 23:40:14 init_clickhouse.go:64: ClickHouse ICMP results table created successfully
2025/09/06 23:40:14 init_clickhouse.go:80: ClickHouse TCP results table created successfully
2025/09/06 23:40:14 init_mysql.go:41: MySQL initialized successfully
2025/09/06 23:40:14 init_mysql.go:68: Table probe_tasks ensured.
2025/09/06 23:40:14 init_mysql.go:85: Table tcp_probe_tasks ensured.
2025/09/06 23:40:14 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/06 23:40:14 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/06 23:40:14 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/06 23:40:14 server_config.go:92: Successfully created RabbitMQ channel
2025/09/06 23:40:14 server_config.go:124: Successfully declared icmp_task_queue
2025/09/06 23:40:14 server_config.go:138: Successfully declared tcp_task_queue
2025/09/06 23:40:14 server_config.go:152: Successfully declared icmp_result_queue
2025/09/06 23:40:14 server_config.go:166: Successfully declared tcp_result_queue
2025/09/06 23:40:14 main.go:35: Starting Hertz server on :8080
2025/09/06 23:40:14 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/06 23:40:14 icmp_probe.go:111: Consumer registered successfully
2025/09/06 23:43:19 log_config.go:38: Log initialized successfully
2025/09/06 23:43:19 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/06 23:43:19 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/06 23:43:19 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/06 23:43:19 server_config.go:92: Successfully created RabbitMQ channel
2025/09/06 23:43:19 server_config.go:124: Successfully declared icmp_task_queue
2025/09/06 23:43:19 server_config.go:138: Successfully declared tcp_task_queue
2025/09/06 23:43:19 server_config.go:152: Successfully declared icmp_result_queue
2025/09/06 23:43:19 server_config.go:166: Successfully declared tcp_result_queue
2025/09/06 23:43:19 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/06 23:43:19 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/06 23:43:19 init_clickhouse.go:64: ClickHouse ICMP results table created successfully
2025/09/06 23:43:19 init_clickhouse.go:80: ClickHouse TCP results table created successfully
2025/09/06 23:43:19 init_mysql.go:41: MySQL initialized successfully
2025/09/06 23:43:19 init_mysql.go:68: Table probe_tasks ensured.
2025/09/06 23:43:19 init_mysql.go:85: Table tcp_probe_tasks ensured.
2025/09/06 23:43:19 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/06 23:43:19 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/06 23:43:19 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/06 23:43:19 server_config.go:92: Successfully created RabbitMQ channel
2025/09/06 23:43:19 server_config.go:124: Successfully declared icmp_task_queue
2025/09/06 23:43:19 server_config.go:138: Successfully declared tcp_task_queue
2025/09/06 23:43:19 server_config.go:152: Successfully declared icmp_result_queue
2025/09/06 23:43:19 server_config.go:166: Successfully declared tcp_result_queue
2025/09/06 23:43:19 main.go:35: Starting Hertz server on :8080
2025/09/06 23:43:19 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/06 23:43:19 tcp_probe.go:81: Registering TCP consumer for tcp result queue: tcp_result_queue
2025/09/06 23:43:19 icmp_probe.go:111: Consumer registered successfully
2025/09/06 23:43:19 tcp_probe.go:105: TCP consumer registered successfully
2025/09/06 23:53:33 log_config.go:38: Log initialized successfully
2025/09/06 23:53:33 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/06 23:53:33 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/06 23:53:33 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/06 23:53:33 server_config.go:92: Successfully created RabbitMQ channel
2025/09/06 23:53:33 server_config.go:124: Successfully declared icmp_task_queue
2025/09/06 23:53:33 server_config.go:138: Successfully declared tcp_task_queue
2025/09/06 23:53:33 server_config.go:152: Successfully declared icmp_result_queue
2025/09/06 23:53:33 server_config.go:166: Successfully declared tcp_result_queue
2025/09/06 23:53:33 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/06 23:53:33 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/06 23:53:33 init_clickhouse.go:64: ClickHouse ICMP results table created successfully
2025/09/06 23:53:33 init_clickhouse.go:80: ClickHouse TCP results table created successfully
2025/09/06 23:53:33 init_mysql.go:41: MySQL initialized successfully
2025/09/06 23:53:33 init_mysql.go:68: Table probe_tasks ensured.
2025/09/06 23:53:33 init_mysql.go:85: Table tcp_probe_tasks ensured.
2025/09/06 23:53:33 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/06 23:53:33 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/06 23:53:33 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/06 23:53:33 server_config.go:92: Successfully created RabbitMQ channel
2025/09/06 23:53:33 server_config.go:124: Successfully declared icmp_task_queue
2025/09/06 23:53:33 server_config.go:138: Successfully declared tcp_task_queue
2025/09/06 23:53:33 server_config.go:152: Successfully declared icmp_result_queue
2025/09/06 23:53:33 server_config.go:166: Successfully declared tcp_result_queue
2025/09/06 23:53:33 main.go:35: Starting Hertz server on :8080
2025/09/06 23:53:33 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/06 23:53:33 tcp_probe.go:81: Registering TCP consumer for tcp result queue: tcp_result_queue
2025/09/06 23:53:33 icmp_probe.go:111: Consumer registered successfully
2025/09/06 23:53:33 tcp_probe.go:105: TCP consumer registered successfully
2025/09/07 00:35:06 log_config.go:38: Log initialized successfully
2025/09/07 00:35:06 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/07 00:35:06 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/07 00:35:06 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/07 00:35:06 server_config.go:92: Successfully created RabbitMQ channel
2025/09/07 00:35:06 server_config.go:124: Successfully declared icmp_task_queue
2025/09/07 00:35:06 server_config.go:138: Successfully declared tcp_task_queue
2025/09/07 00:35:06 server_config.go:152: Successfully declared icmp_result_queue
2025/09/07 00:35:06 server_config.go:166: Successfully declared tcp_result_queue
2025/09/07 00:35:06 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/07 00:35:06 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/07 00:35:06 init_clickhouse.go:64: ClickHouse ICMP results table created successfully
2025/09/07 00:35:06 init_clickhouse.go:80: ClickHouse TCP results table created successfully
2025/09/07 00:35:06 init_mysql.go:41: MySQL initialized successfully
2025/09/07 00:35:06 init_mysql.go:68: Table probe_tasks ensured.
2025/09/07 00:35:06 init_mysql.go:85: Table tcp_probe_tasks ensured.
2025/09/07 00:35:06 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/07 00:35:06 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/07 00:35:06 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/07 00:35:06 server_config.go:92: Successfully created RabbitMQ channel
2025/09/07 00:35:06 server_config.go:124: Successfully declared icmp_task_queue
2025/09/07 00:35:06 server_config.go:138: Successfully declared tcp_task_queue
2025/09/07 00:35:06 server_config.go:152: Successfully declared icmp_result_queue
2025/09/07 00:35:06 server_config.go:166: Successfully declared tcp_result_queue
2025/09/07 00:35:06 main.go:35: Starting Hertz server on :8080
2025/09/07 00:35:06 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/07 00:35:06 tcp_probe.go:81: Registering TCP consumer for tcp result queue: tcp_result_queue
2025/09/07 00:35:06 icmp_probe.go:111: Consumer registered successfully
2025/09/07 00:35:06 tcp_probe.go:105: TCP consumer registered successfully
2025/09/07 00:35:11 probe_task_dao.go:37: Error executing TCP statement: Error 1366 (HY000): Incorrect integer value: '' for column 'port' at row 1
2025/09/07 00:35:11 tcp_probe.go:30: Failed to insert TCP task into MySQL: Error 1366 (HY000): Incorrect integer value: '' for column 'port' at row 1
2025/09/07 00:37:16 log_config.go:38: Log initialized successfully
2025/09/07 00:37:16 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/07 00:37:16 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/07 00:37:16 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/07 00:37:16 server_config.go:92: Successfully created RabbitMQ channel
2025/09/07 00:37:16 server_config.go:124: Successfully declared icmp_task_queue
2025/09/07 00:37:16 server_config.go:138: Successfully declared tcp_task_queue
2025/09/07 00:37:16 server_config.go:152: Successfully declared icmp_result_queue
2025/09/07 00:37:16 server_config.go:166: Successfully declared tcp_result_queue
2025/09/07 00:37:16 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/07 00:37:16 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/07 00:37:16 init_clickhouse.go:64: ClickHouse ICMP results table created successfully
2025/09/07 00:37:16 init_clickhouse.go:80: ClickHouse TCP results table created successfully
2025/09/07 00:37:16 init_mysql.go:41: MySQL initialized successfully
2025/09/07 00:37:16 init_mysql.go:68: Table probe_tasks ensured.
2025/09/07 00:37:16 init_mysql.go:85: Table tcp_probe_tasks ensured.
2025/09/07 00:37:16 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/07 00:37:16 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/07 00:37:16 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/07 00:37:16 server_config.go:92: Successfully created RabbitMQ channel
2025/09/07 00:37:16 server_config.go:124: Successfully declared icmp_task_queue
2025/09/07 00:37:16 server_config.go:138: Successfully declared tcp_task_queue
2025/09/07 00:37:16 server_config.go:152: Successfully declared icmp_result_queue
2025/09/07 00:37:16 server_config.go:166: Successfully declared tcp_result_queue
2025/09/07 00:37:16 main.go:35: Starting Hertz server on :8080
2025/09/07 00:37:16 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/07 00:37:16 tcp_probe.go:82: Registering TCP consumer for tcp result queue: tcp_result_queue
2025/09/07 00:37:16 icmp_probe.go:111: Consumer registered successfully
2025/09/07 00:37:16 tcp_probe.go:106: TCP consumer registered successfully
2025/09/07 00:37:35 probe_task_dao.go:40: Successfully inserted TCP probe task: &{IP:8.8.8.8 Port:80 Timeout:5 CreatedAt:2025-09-07 00:37:35.274814 +0800 +08 m=+18.568367584 UpdatedAt:2025-09-07 00:37:35.274814 +0800 +08 m=+18.568367709}
2025/09/07 00:37:35 tcp_probe.go:35: Assigned TCP probe task to client: {IP:8.8.8.8 Port:80 Timeout:5 CreatedAt:2025-09-07 00:37:35.274814 +0800 +08 m=+18.568367584 UpdatedAt:2025-09-07 00:37:35.274814 +0800 +08 m=+18.568367709}
2025/09/07 00:37:35 tcp_probe.go:58: Publishing TCP task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","port":"80","timeout":5,"created_at":"2025-09-07T00:37:35.274814+08:00","updated_at":"2025-09-07T00:37:35.274814+08:00"}
2025/09/07 00:37:35 tcp_probe.go:76: TCP task published successfully
2025/09/07 00:37:35 tcp_probe.go:108: Received TCP result message: {"ip":"8.8.8.8","port":"80","timestamp":"2025-09-07T00:37:35.306544+08:00","rtt":0,"success":false}
2025/09/07 00:37:35 tcp_probe.go:117: Processed TCP probe result: {IP:8.8.8.8 Port:80 Timestamp:2025-09-07 00:37:35.306544 +0800 +08 RTT:0s Success:false}
2025/09/07 00:37:35 probe_result_dao.go:72: Successfully inserted TCP result into ClickHouse: timestamp=1757176655, ip=8.8.8.8, port=80, rtt=0.000000
2025/09/07 00:37:35 tcp_probe.go:128: Publishing TCP probe result: {IP:8.8.8.8 Port:80 Timestamp:2025-09-07 00:37:35.306544 +0800 +08 RTT:0s Success:false}
2025/09/07 00:37:35 tcp_probe.go:146: Sending TCP data to Prometheus:
tcp_rtt{ip="8.8.8.8", port="%!d(string=80)", timestamp="1757176655"} 0.000000
tcp_success{ip="8.8.8.8", port="%!d(string=80)", timestamp="1757176655"} %!d(bool=false)
2025/09/07 00:37:35 tcp_probe.go:164: Successfully sent TCP data to Prometheus, Response: text format parsing error in line 2: expected float as value, got "%!d(bool=false)"
2025/09/07 00:47:48 probe_task_dao.go:40: Successfully inserted TCP probe task: &{IP:8.8.8.8 Port:80 Timeout:5 CreatedAt:2025-09-07 00:47:48.11172 +0800 +08 m=+631.459421834 UpdatedAt:2025-09-07 00:47:48.11172 +0800 +08 m=+631.459421959}
2025/09/07 00:47:48 tcp_probe.go:35: Assigned TCP probe task to client: {IP:8.8.8.8 Port:80 Timeout:5 CreatedAt:2025-09-07 00:47:48.11172 +0800 +08 m=+631.459421834 UpdatedAt:2025-09-07 00:47:48.11172 +0800 +08 m=+631.459421959}
2025/09/07 00:47:48 tcp_probe.go:58: Publishing TCP task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"8.8.8.8","port":"80","timeout":5,"created_at":"2025-09-07T00:47:48.11172+08:00","updated_at":"2025-09-07T00:47:48.11172+08:00"}
2025/09/07 00:47:48 tcp_probe.go:76: TCP task published successfully
2025/09/07 00:47:53 tcp_probe.go:108: Received TCP result message: {"ip":"8.8.8.8","port":"80","timestamp":"2025-09-07T00:47:53.127164+08:00","rtt":0,"success":false}
2025/09/07 00:47:53 tcp_probe.go:117: Processed TCP probe result: {IP:8.8.8.8 Port:80 Timestamp:2025-09-07 00:47:53.127164 +0800 +08 RTT:0s Success:false}
2025/09/07 00:47:53 probe_result_dao.go:72: Successfully inserted TCP result into ClickHouse: timestamp=1757177273, ip=8.8.8.8, port=80, rtt=0.000000
2025/09/07 00:47:53 tcp_probe.go:128: Publishing TCP probe result: {IP:8.8.8.8 Port:80 Timestamp:2025-09-07 00:47:53.127164 +0800 +08 RTT:0s Success:false}
2025/09/07 00:47:53 tcp_probe.go:146: Sending TCP data to Prometheus:
tcp_rtt{ip="8.8.8.8", port="%!d(string=80)", timestamp="1757177273"} 0.000000
tcp_success{ip="8.8.8.8", port="%!d(string=80)", timestamp="1757177273"} %!d(bool=false)
2025/09/07 00:47:53 tcp_probe.go:164: Successfully sent TCP data to Prometheus, Response: text format parsing error in line 2: expected float as value, got "%!d(bool=false)"
2025/09/07 00:52:56 log_config.go:38: Log initialized successfully
2025/09/07 00:52:56 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/07 00:52:56 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/07 00:52:56 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/07 00:52:56 server_config.go:92: Successfully created RabbitMQ channel
2025/09/07 00:52:56 server_config.go:124: Successfully declared icmp_task_queue
2025/09/07 00:52:56 server_config.go:138: Successfully declared tcp_task_queue
2025/09/07 00:52:56 server_config.go:152: Successfully declared icmp_result_queue
2025/09/07 00:52:56 server_config.go:166: Successfully declared tcp_result_queue
2025/09/07 00:52:56 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/07 00:52:56 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/07 00:52:56 init_clickhouse.go:64: ClickHouse ICMP results table created successfully
2025/09/07 00:52:56 init_clickhouse.go:80: ClickHouse TCP results table created successfully
2025/09/07 00:52:56 init_mysql.go:41: MySQL initialized successfully
2025/09/07 00:52:56 init_mysql.go:68: Table probe_tasks ensured.
2025/09/07 00:52:56 init_mysql.go:85: Table tcp_probe_tasks ensured.
2025/09/07 00:52:56 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/07 00:52:56 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/07 00:52:56 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/07 00:52:56 server_config.go:92: Successfully created RabbitMQ channel
2025/09/07 00:52:56 server_config.go:124: Successfully declared icmp_task_queue
2025/09/07 00:52:56 server_config.go:138: Successfully declared tcp_task_queue
2025/09/07 00:52:56 server_config.go:152: Successfully declared icmp_result_queue
2025/09/07 00:52:56 server_config.go:166: Successfully declared tcp_result_queue
2025/09/07 00:52:56 main.go:35: Starting Hertz server on :8080
2025/09/07 00:52:56 icmp_probe.go:82: Registering consumer for queue: result_queue
2025/09/07 00:52:56 tcp_probe.go:82: Registering TCP consumer for tcp result queue: tcp_result_queue
2025/09/07 00:52:56 tcp_probe.go:106: TCP consumer registered successfully
2025/09/07 00:52:56 icmp_probe.go:111: Consumer registered successfully
2025/09/07 00:53:08 probe_task_dao.go:40: Successfully inserted TCP probe task: &{IP:1.1.1.1 Port:80 Timeout:5 CreatedAt:2025-09-07 00:53:08.957289 +0800 +08 m=+12.400838835 UpdatedAt:2025-09-07 00:53:08.957289 +0800 +08 m=+12.400838960}
2025/09/07 00:53:08 tcp_probe.go:35: Assigned TCP probe task to client: {IP:1.1.1.1 Port:80 Timeout:5 CreatedAt:2025-09-07 00:53:08.957289 +0800 +08 m=+12.400838835 UpdatedAt:2025-09-07 00:53:08.957289 +0800 +08 m=+12.400838960}
2025/09/07 00:53:08 tcp_probe.go:58: Publishing TCP task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"1.1.1.1","port":"80","timeout":5,"created_at":"2025-09-07T00:53:08.957289+08:00","updated_at":"2025-09-07T00:53:08.957289+08:00"}
2025/09/07 00:53:08 tcp_probe.go:76: TCP task published successfully
2025/09/07 00:54:29 probe_task_dao.go:40: Successfully inserted TCP probe task: &{IP:1.1.1.1 Port:80 Timeout:5 CreatedAt:2025-09-07 00:54:29.360028 +0800 +08 m=+92.804554210 UpdatedAt:2025-09-07 00:54:29.360028 +0800 +08 m=+92.804554460}
2025/09/07 00:54:29 tcp_probe.go:35: Assigned TCP probe task to client: {IP:1.1.1.1 Port:80 Timeout:5 CreatedAt:2025-09-07 00:54:29.360028 +0800 +08 m=+92.804554210 UpdatedAt:2025-09-07 00:54:29.360028 +0800 +08 m=+92.804554460}
2025/09/07 00:54:29 tcp_probe.go:58: Publishing TCP task to RabbitMQ: exchange=my_exchange, routing_key=, body={"ip":"1.1.1.1","port":"80","timeout":5,"created_at":"2025-09-07T00:54:29.360028+08:00","updated_at":"2025-09-07T00:54:29.360028+08:00"}
2025/09/07 00:54:29 tcp_probe.go:76: TCP task published successfully
2025/09/07 00:54:29 tcp_probe.go:108: Received TCP result message: {"ip":"1.1.1.1","port":"80","timestamp":"2025-09-07T00:54:29.37898+08:00","rtt":8680833,"success":true}
2025/09/07 00:54:29 tcp_probe.go:117: Processed TCP probe result: {IP:1.1.1.1 Port:80 Timestamp:2025-09-07 00:54:29.37898 +0800 +08 RTT:8.680833ms Success:true}
2025/09/07 00:54:29 probe_result_dao.go:72: Successfully inserted TCP result into ClickHouse: timestamp=1757177669, ip=1.1.1.1, port=80, rtt=8680.000000
2025/09/07 00:54:29 tcp_probe.go:128: Publishing TCP probe result: {IP:1.1.1.1 Port:80 Timestamp:2025-09-07 00:54:29.37898 +0800 +08 RTT:8.680833ms Success:true}
2025/09/07 00:54:29 tcp_probe.go:146: Sending TCP data to Prometheus:
tcp_rtt{ip="1.1.1.1", port="80", timestamp="1757177669"} 8.680833
tcp_success{ip="1.1.1.1", port="80", timestamp="1757177669"} 1
2025/09/07 00:54:29 tcp_probe.go:164: Successfully sent TCP data to Prometheus, Response: 
2025/09/08 19:27:54 log_config.go:38: Log initialized successfully
2025/09/08 19:27:54 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/08 19:27:54 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/08 19:27:54 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/08 19:27:54 server_config.go:92: Successfully created RabbitMQ channel
2025/09/08 19:27:54 server_config.go:124: Successfully declared icmp_task_queue
2025/09/08 19:27:54 server_config.go:138: Successfully declared tcp_task_queue
2025/09/08 19:27:54 server_config.go:152: Successfully declared icmp_result_queue
2025/09/08 19:27:54 server_config.go:166: Successfully declared tcp_result_queue
2025/09/08 19:27:54 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/08 19:27:54 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/08 19:27:54 init_clickhouse.go:64: ClickHouse ICMP results table created successfully
2025/09/08 19:27:54 init_clickhouse.go:80: ClickHouse TCP results table created successfully
2025/09/08 19:27:54 init_mysql.go:41: MySQL initialized successfully
2025/09/08 19:27:54 init_mysql.go:68: Table probe_tasks ensured.
2025/09/08 19:27:54 init_mysql.go:85: Table tcp_probe_tasks ensured.
2025/09/08 19:27:54 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/08 19:27:54 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/08 19:27:54 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/08 19:27:54 server_config.go:92: Successfully created RabbitMQ channel
2025/09/08 19:27:54 server_config.go:124: Successfully declared icmp_task_queue
2025/09/08 19:27:54 server_config.go:138: Successfully declared tcp_task_queue
2025/09/08 19:27:54 server_config.go:152: Successfully declared icmp_result_queue
2025/09/08 19:27:54 server_config.go:166: Successfully declared tcp_result_queue
2025/09/08 19:27:54 main.go:61: Starting Hertz server on :8080
2025/09/09 13:47:08 log_config.go:38: Log initialized successfully
2025/09/09 13:47:08 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/09 13:47:08 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/09 13:47:08 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/09 13:47:08 server_config.go:92: Successfully created RabbitMQ channel
2025/09/09 13:47:08 server_config.go:124: Successfully declared icmp_task_queue
2025/09/09 13:47:08 server_config.go:138: Successfully declared tcp_task_queue
2025/09/09 13:47:08 server_config.go:152: Successfully declared icmp_result_queue
2025/09/09 13:47:08 server_config.go:166: Successfully declared tcp_result_queue
2025/09/09 13:47:08 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/09 13:47:08 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/09 13:47:08 init_clickhouse.go:64: ClickHouse ICMP results table created successfully
2025/09/09 13:47:08 init_clickhouse.go:80: ClickHouse TCP results table created successfully
2025/09/09 13:47:08 init_mysql.go:41: MySQL initialized successfully
2025/09/09 13:47:08 init_mysql.go:68: Table probe_tasks ensured.
2025/09/09 13:47:08 init_mysql.go:85: Table tcp_probe_tasks ensured.
2025/09/09 13:47:08 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/09 13:47:08 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/09 13:47:08 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/09 13:47:08 server_config.go:92: Successfully created RabbitMQ channel
2025/09/09 13:47:08 server_config.go:124: Successfully declared icmp_task_queue
2025/09/09 13:47:08 server_config.go:138: Successfully declared tcp_task_queue
2025/09/09 13:47:08 server_config.go:152: Successfully declared icmp_result_queue
2025/09/09 13:47:08 server_config.go:166: Successfully declared tcp_result_queue
2025/09/09 13:47:08 main.go:61: Starting Hertz server on :8080
2025/09/09 13:47:42 log_config.go:38: Log initialized successfully
2025/09/09 13:47:42 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/09 13:47:42 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/09 13:47:42 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/09 13:47:42 server_config.go:92: Successfully created RabbitMQ channel
2025/09/09 13:47:42 server_config.go:124: Successfully declared icmp_task_queue
2025/09/09 13:47:42 server_config.go:138: Successfully declared tcp_task_queue
2025/09/09 13:47:42 server_config.go:152: Successfully declared icmp_result_queue
2025/09/09 13:47:42 server_config.go:166: Successfully declared tcp_result_queue
2025/09/09 13:47:42 init_clickhouse.go:28: Successfully connected to ClickHouse
2025/09/09 13:47:42 init_clickhouse.go:45: ClickHouse database created successfully or already exists
2025/09/09 13:47:42 init_clickhouse.go:64: ClickHouse ICMP results table created successfully
2025/09/09 13:47:42 init_clickhouse.go:80: ClickHouse TCP results table created successfully
2025/09/09 13:47:42 init_mysql.go:41: MySQL initialized successfully
2025/09/09 13:47:42 init_mysql.go:68: Table probe_tasks ensured.
2025/09/09 13:47:42 init_mysql.go:85: Table tcp_probe_tasks ensured.
2025/09/09 13:47:42 server_config.go:70: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/09 13:47:42 server_config.go:73: Attempt 1: Connecting to RabbitMQ...
2025/09/09 13:47:42 server_config.go:82: Successfully connected to RabbitMQ, creating channel...
2025/09/09 13:47:42 server_config.go:92: Successfully created RabbitMQ channel
2025/09/09 13:47:42 server_config.go:124: Successfully declared icmp_task_queue
2025/09/09 13:47:42 server_config.go:138: Successfully declared tcp_task_queue
2025/09/09 13:47:42 server_config.go:152: Successfully declared icmp_result_queue
2025/09/09 13:47:42 server_config.go:166: Successfully declared tcp_result_queue
2025/09/09 13:47:42 main.go:61: Starting Hertz server on :8080
2025/09/09 13:49:07 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=task_routing_key, body={"ip":"1.1.1.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-09T13:49:07.646162+08:00","updated_at":"2025-09-09T13:49:07.646162+08:00"}
2025/09/09 13:49:07 task_service.go:74: ICMP task published successfully to RabbitMQ
2025/09/09 16:45:24 logger.go:39: Log initialized successfully
2025/09/09 16:45:24 mysql.go:40: MySQL initialized successfully
2025/09/09 16:45:24 mysql.go:65: Table probe_tasks ensured.
2025/09/09 16:45:24 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/09 16:45:24 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/09 16:45:24 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/09 16:45:24 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/09 16:45:24 clickhouse.go:82: ClickHouse initialized successfully
2025/09/09 16:45:24 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/09 16:45:24 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/09 16:45:24 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/09 16:45:24 rabbitmq.go:41: Successfully created RabbitMQ channel
2025/09/09 16:45:24 rabbitmq.go:76: Successfully declared queue: task_queue
2025/09/09 16:45:24 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/09 16:45:24 rabbitmq.go:76: Successfully declared queue: result_queue
2025/09/09 16:45:24 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/09 16:45:24 main.go:70: -----Starting Hertz server on :8080-----
2025/09/09 16:45:34 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=task_routing_key, body={"ip":"1.1.1.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-09T16:45:34.164017+08:00","updated_at":"2025-09-09T16:45:34.164018+08:00"}
2025/09/09 16:45:34 task_service.go:74: ICMP task published successfully to RabbitMQ
2025/09/09 16:45:52 logger.go:39: Log initialized successfully
2025/09/09 16:45:52 mysql.go:40: MySQL initialized successfully
2025/09/09 16:45:52 mysql.go:65: Table probe_tasks ensured.
2025/09/09 16:45:52 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/09 16:45:52 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/09 16:45:52 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/09 16:45:52 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/09 16:45:52 clickhouse.go:82: ClickHouse initialized successfully
2025/09/09 16:45:52 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/09 16:45:52 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/09 16:45:52 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/09 16:45:52 rabbitmq.go:41: Successfully created RabbitMQ channel
2025/09/09 16:45:52 rabbitmq.go:76: Successfully declared queue: task_queue
2025/09/09 16:45:52 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/09 16:45:52 rabbitmq.go:76: Successfully declared queue: result_queue
2025/09/09 16:45:52 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/09 16:45:52 main.go:70: -----Starting Hertz server on :8080-----
2025/09/09 16:46:02 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=task_routing_key, body={"ip":"1.1.1.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-09T16:46:02.446287+08:00","updated_at":"2025-09-09T16:46:02.446287+08:00"}
2025/09/09 16:46:02 task_service.go:74: ICMP task published successfully to RabbitMQ
2025/09/09 16:46:43 logger.go:39: Log initialized successfully
2025/09/09 16:46:43 mysql.go:40: MySQL initialized successfully
2025/09/09 16:46:43 mysql.go:65: Table probe_tasks ensured.
2025/09/09 16:46:43 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/09 16:46:43 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/09 16:46:43 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/09 16:46:43 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/09 16:46:43 clickhouse.go:82: ClickHouse initialized successfully
2025/09/09 16:46:43 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/09 16:46:43 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/09 16:46:43 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/09 16:46:43 rabbitmq.go:41: Successfully created RabbitMQ channel
2025/09/09 16:46:43 rabbitmq.go:76: Successfully declared queue: task_queue
2025/09/09 16:46:43 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/09 16:46:43 rabbitmq.go:76: Successfully declared queue: result_queue
2025/09/09 16:46:43 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/09 16:46:43 main.go:70: -----Starting Hertz server on :8080-----
2025/09/09 16:47:12 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=task_routing_key, body={"ip":"1.1.1.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-09T16:47:12.432608+08:00","updated_at":"2025-09-09T16:47:12.432608+08:00"}
2025/09/09 16:47:12 task_service.go:74: ICMP task published successfully to RabbitMQ
2025/09/09 16:48:55 logger.go:39: Log initialized successfully
2025/09/09 16:48:55 mysql.go:40: MySQL initialized successfully
2025/09/09 16:48:55 mysql.go:65: Table probe_tasks ensured.
2025/09/09 16:48:55 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/09 16:48:55 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/09 16:48:55 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/09 16:48:55 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/09 16:48:55 clickhouse.go:82: ClickHouse initialized successfully
2025/09/09 16:48:55 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/09 16:48:55 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/09 16:48:55 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/09 16:48:55 rabbitmq.go:41: Successfully created RabbitMQ channel
2025/09/09 16:48:55 rabbitmq.go:76: Successfully declared queue: task_queue
2025/09/09 16:48:55 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/09 16:48:55 rabbitmq.go:76: Successfully declared queue: result_queue
2025/09/09 16:48:55 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/09 16:48:55 main.go:71: -----Starting Hertz server on :8080-----
2025/09/09 16:49:18 logger.go:39: Log initialized successfully
2025/09/09 16:49:18 mysql.go:40: MySQL initialized successfully
2025/09/09 16:49:18 mysql.go:65: Table probe_tasks ensured.
2025/09/09 16:49:18 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/09 16:49:18 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/09 16:49:18 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/09 16:49:18 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/09 16:49:18 clickhouse.go:82: ClickHouse initialized successfully
2025/09/09 16:49:18 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/09 16:49:18 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/09 16:49:18 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/09 16:49:18 rabbitmq.go:41: Successfully created RabbitMQ channel
2025/09/09 16:49:18 rabbitmq.go:76: Successfully declared queue: task_queue
2025/09/09 16:49:18 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/09 16:49:18 rabbitmq.go:76: Successfully declared queue: result_queue
2025/09/09 16:49:18 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/09 16:49:18 main.go:71: -----Starting Hertz server on :8080-----
2025/09/09 16:50:22 logger.go:39: Log initialized successfully
2025/09/09 16:50:22 mysql.go:40: MySQL initialized successfully
2025/09/09 16:50:22 mysql.go:65: Table probe_tasks ensured.
2025/09/09 16:50:22 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/09 16:50:22 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/09 16:50:22 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/09 16:50:22 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/09 16:50:22 clickhouse.go:82: ClickHouse initialized successfully
2025/09/09 16:50:22 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/09 16:50:22 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/09 16:50:22 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/09 16:50:22 rabbitmq.go:41: Successfully created RabbitMQ channel
2025/09/09 16:50:22 rabbitmq.go:76: Successfully declared queue: task_queue
2025/09/09 16:50:22 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/09 16:50:22 rabbitmq.go:76: Successfully declared queue: result_queue
2025/09/09 16:50:22 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/09 16:50:22 main.go:70: -----Starting Hertz server on :8080-----
2025/09/09 16:51:10 logger.go:39: Log initialized successfully
2025/09/09 16:51:10 mysql.go:40: MySQL initialized successfully
2025/09/09 16:51:10 mysql.go:65: Table probe_tasks ensured.
2025/09/09 16:51:10 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/09 16:51:10 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/09 16:51:10 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/09 16:51:10 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/09 16:51:10 clickhouse.go:82: ClickHouse initialized successfully
2025/09/09 16:51:10 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/09 16:51:10 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/09 16:51:10 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/09 16:51:10 rabbitmq.go:41: Successfully created RabbitMQ channel
2025/09/09 16:51:10 rabbitmq.go:76: Successfully declared queue: task_queue
2025/09/09 16:51:10 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/09 16:51:10 rabbitmq.go:76: Successfully declared queue: result_queue
2025/09/09 16:51:10 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/09 16:51:10 main.go:70: -----Starting Hertz server on :8080-----
2025/09/10 14:18:32 logger.go:39: Log initialized successfully
2025/09/10 14:18:32 mysql.go:40: MySQL initialized successfully
2025/09/10 14:18:32 mysql.go:65: Table probe_tasks ensured.
2025/09/10 14:18:32 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/10 14:18:32 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/10 14:18:32 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/10 14:18:32 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/10 14:18:32 clickhouse.go:82: ClickHouse initialized successfully
2025/09/10 14:18:32 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/10 14:18:32 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/10 14:18:32 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/10 14:18:32 rabbitmq.go:41: Successfully created RabbitMQ channel
2025/09/10 14:18:32 rabbitmq.go:76: Successfully declared queue: 
2025/09/10 14:18:32 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/10 14:18:32 rabbitmq.go:76: Successfully declared queue: 
2025/09/10 14:18:32 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/10 14:18:32 main.go:70: -----Starting Hertz server on :8080-----
2025/09/10 17:55:50 logger.go:39: Log initialized successfully
2025/09/10 17:55:50 mysql.go:40: MySQL initialized successfully
2025/09/10 17:55:50 mysql.go:65: Table probe_tasks ensured.
2025/09/10 17:55:50 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/10 17:55:50 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/10 17:55:50 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/10 17:55:50 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/10 17:55:50 clickhouse.go:82: ClickHouse initialized successfully
2025/09/10 17:55:50 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/10 17:55:50 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/10 17:55:50 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/10 17:55:50 rabbitmq.go:41: Successfully created RabbitMQ channel
2025/09/10 17:55:50 rabbitmq.go:76: Successfully declared queue: 
2025/09/10 17:55:50 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/10 17:55:50 rabbitmq.go:76: Successfully declared queue: 
2025/09/10 17:55:50 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/10 17:55:50 main.go:70: -----Starting Hertz server on :8080-----
2025/09/10 18:01:58 logger.go:39: Log initialized successfully
2025/09/10 18:01:58 mysql.go:40: MySQL initialized successfully
2025/09/10 18:01:58 mysql.go:65: Table probe_tasks ensured.
2025/09/10 18:01:58 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/10 18:01:58 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/10 18:01:58 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/10 18:01:58 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/10 18:01:58 clickhouse.go:82: ClickHouse initialized successfully
2025/09/10 18:01:58 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/10 18:01:58 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/10 18:01:58 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/10 18:01:58 rabbitmq.go:41: Successfully created RabbitMQ channel
2025/09/10 18:01:58 rabbitmq.go:76: Successfully declared queue: 
2025/09/10 18:01:58 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/10 18:01:58 rabbitmq.go:76: Successfully declared queue: 
2025/09/10 18:01:58 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/10 18:01:58 main.go:70: -----Starting Hertz server on :8080-----
2025/09/10 18:02:10 probe_task_dao.go:23: Successfully inserted ICMP probe task: &{IP:1.1.1.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-10 18:02:10.581538 +0800 +08 m=+11.717532668 UpdatedAt:2025-09-10 18:02:10.581538 +0800 +08 m=+11.717532793}
2025/09/10 18:02:10 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=, body={"ip":"1.1.1.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-10T18:02:10.581538+08:00","updated_at":"2025-09-10T18:02:10.581538+08:00"}
2025/09/10 18:02:10 task_service.go:88: ICMP task published successfully to RabbitMQ
2025/09/11 15:30:37 logger.go:39: Log initialized successfully
2025/09/11 15:30:37 mysql.go:40: MySQL initialized successfully
2025/09/11 15:30:37 mysql.go:65: Table probe_tasks ensured.
2025/09/11 15:30:37 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 15:30:37 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 15:30:37 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 15:30:37 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 15:30:37 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 15:30:37 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 15:30:37 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 15:30:37 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 15:30:37 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 15:30:37 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 15:30:37 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 15:30:37 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 15:30:37 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 15:30:37 main.go:70: -----Starting Hertz server on :8080-----
2025/09/11 16:06:58 logger.go:39: Log initialized successfully
2025/09/11 16:06:58 mysql.go:40: MySQL initialized successfully
2025/09/11 16:06:58 mysql.go:65: Table probe_tasks ensured.
2025/09/11 16:06:58 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 16:06:58 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 16:06:58 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 16:06:58 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 16:06:58 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 16:06:58 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 16:06:58 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 16:06:58 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 16:06:58 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 16:06:58 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 16:06:58 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 16:06:58 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 16:06:58 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 16:06:58 main.go:70: -----Starting Hertz server on :8080-----
2025/09/11 21:32:04 logger.go:39: Log initialized successfully
2025/09/11 21:32:04 mysql.go:40: MySQL initialized successfully
2025/09/11 21:32:04 mysql.go:65: Table probe_tasks ensured.
2025/09/11 21:32:04 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 21:32:04 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 21:32:04 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 21:32:04 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 21:32:04 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 21:32:04 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 21:32:04 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 21:32:04 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 21:32:04 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 21:32:04 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 21:32:04 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 21:32:04 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 21:32:04 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 21:32:04 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 21:33:22 logger.go:39: Log initialized successfully
2025/09/11 21:33:22 mysql.go:40: MySQL initialized successfully
2025/09/11 21:33:22 mysql.go:65: Table probe_tasks ensured.
2025/09/11 21:33:22 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 21:33:22 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 21:33:22 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 21:33:22 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 21:33:22 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 21:33:22 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 21:33:22 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 21:33:22 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 21:33:22 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 21:33:22 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 21:33:22 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 21:33:22 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 21:33:22 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 21:33:22 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 21:39:59 logger.go:39: Log initialized successfully
2025/09/11 21:39:59 mysql.go:40: MySQL initialized successfully
2025/09/11 21:39:59 mysql.go:65: Table probe_tasks ensured.
2025/09/11 21:39:59 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 21:39:59 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 21:39:59 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 21:39:59 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 21:39:59 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 21:39:59 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 21:39:59 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 21:39:59 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 21:39:59 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 21:39:59 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 21:39:59 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 21:39:59 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 21:39:59 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 21:39:59 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 21:42:16 logger.go:39: Log initialized successfully
2025/09/11 21:44:10 logger.go:39: Log initialized successfully
2025/09/11 21:44:10 mysql.go:40: MySQL initialized successfully
2025/09/11 21:44:10 mysql.go:65: Table probe_tasks ensured.
2025/09/11 21:44:10 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 21:44:10 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 21:44:10 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 21:44:10 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 21:44:10 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 21:44:10 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 21:44:10 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 21:44:10 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 21:44:10 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 21:44:10 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 21:44:10 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 21:44:10 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 21:44:10 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 21:44:10 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 22:08:11 logger.go:39: Log initialized successfully
2025/09/11 22:08:11 mysql.go:40: MySQL initialized successfully
2025/09/11 22:08:11 mysql.go:65: Table probe_tasks ensured.
2025/09/11 22:08:11 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 22:08:11 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 22:08:11 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 22:08:11 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 22:08:11 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 22:08:11 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 22:08:11 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 22:08:11 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 22:08:11 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 22:08:11 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 22:08:11 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 22:08:11 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 22:08:11 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 22:08:11 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 22:13:07 logger.go:39: Log initialized successfully
2025/09/11 22:13:07 mysql.go:40: MySQL initialized successfully
2025/09/11 22:13:07 mysql.go:65: Table probe_tasks ensured.
2025/09/11 22:13:07 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 22:13:07 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 22:13:07 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 22:13:07 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 22:13:07 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 22:13:07 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 22:13:07 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 22:13:07 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 22:13:07 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 22:13:07 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 22:13:07 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 22:13:07 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 22:13:07 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 22:13:07 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 22:13:14 logger.go:39: Log initialized successfully
2025/09/11 22:13:14 mysql.go:40: MySQL initialized successfully
2025/09/11 22:13:14 mysql.go:65: Table probe_tasks ensured.
2025/09/11 22:13:14 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 22:13:14 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 22:13:14 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 22:13:14 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 22:13:14 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 22:13:14 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 22:13:14 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 22:13:14 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 22:13:14 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 22:13:14 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 22:13:14 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 22:13:14 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 22:13:14 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 22:13:14 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 22:16:35 logger.go:39: Log initialized successfully
2025/09/11 22:16:35 mysql.go:40: MySQL initialized successfully
2025/09/11 22:16:35 mysql.go:65: Table probe_tasks ensured.
2025/09/11 22:16:35 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 22:16:35 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 22:16:35 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 22:16:35 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 22:16:35 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 22:16:35 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 22:16:35 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 22:16:35 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 22:16:35 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 22:16:35 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 22:16:35 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 22:16:35 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 22:16:35 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 22:16:35 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 22:16:45 probe_task_dao.go:23: Successfully inserted ICMP probe task: &{IP:1.1.1.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-11 22:16:45.140704 +0800 +08 m=+9.692503334 UpdatedAt:2025-09-11 22:16:45.140704 +0800 +08 m=+9.692503459}
2025/09/11 22:16:45 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=icmp_task_routing_key, body={"ip":"1.1.1.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-11T22:16:45.140704+08:00","updated_at":"2025-09-11T22:16:45.140704+08:00"}
2025/09/11 22:16:45 task_service.go:98: ICMP task published successfully to RabbitMQ
2025/09/11 22:16:48 task_service.go:146: Processed ICMP probe result: {IP:1.1.1.1 Timestamp:2025-09-11 22:16:48.227474 +0800 +08 PacketLoss:0 MinRTT:7.837ms MaxRTT:8.745ms AvgRTT:8.490749ms Threshold:10 Success:true}
2025/09/11 22:16:48 probe_result_dao.go:19: Error preparing statement: Error 1146 (42S02): Table 'my_database.my_table' doesn't exist
2025/09/11 22:16:48 task_service.go:112: Failed to process message: store icmp result failed: Error 1146 (42S02): Table 'my_database.my_table' doesn't exist
2025/09/11 22:18:28 logger.go:39: Log initialized successfully
2025/09/11 22:18:28 mysql.go:40: MySQL initialized successfully
2025/09/11 22:18:28 mysql.go:65: Table probe_tasks ensured.
2025/09/11 22:18:28 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 22:19:00 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 22:19:18 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 22:19:31 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 22:19:42 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 22:20:06 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 22:20:06 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 22:20:06 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 22:20:06 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 22:20:06 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 22:20:06 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 22:20:06 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 22:20:06 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 22:20:39 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 22:24:49 logger.go:39: Log initialized successfully
2025/09/11 22:24:49 mysql.go:40: MySQL initialized successfully
2025/09/11 22:24:49 mysql.go:65: Table probe_tasks ensured.
2025/09/11 22:24:49 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 22:24:49 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 22:24:49 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 22:24:49 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 22:24:49 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 22:24:49 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 22:24:49 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 22:24:49 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 22:24:49 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 22:24:49 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 22:24:49 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 22:24:49 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 22:24:49 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 22:24:49 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 22:24:58 logger.go:39: Log initialized successfully
2025/09/11 22:24:58 mysql.go:40: MySQL initialized successfully
2025/09/11 22:24:58 mysql.go:65: Table probe_tasks ensured.
2025/09/11 22:24:58 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 22:24:58 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 22:24:58 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 22:24:58 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 22:24:58 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 22:24:58 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 22:24:58 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 22:24:58 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 22:24:58 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 22:24:58 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 22:24:58 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 22:24:58 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 22:24:58 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 22:24:58 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 22:26:05 logger.go:39: Log initialized successfully
2025/09/11 22:26:05 mysql.go:40: MySQL initialized successfully
2025/09/11 22:26:05 mysql.go:65: Table probe_tasks ensured.
2025/09/11 22:26:05 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 22:26:05 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 22:26:05 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 22:26:05 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 22:26:05 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 22:26:05 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 22:26:05 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 22:26:05 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 22:26:05 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 22:26:05 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 22:26:05 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 22:26:05 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 22:26:05 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 22:26:05 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 22:26:22 probe_task_dao.go:41: Successfully inserted TCP probe task: &{IP:1.1.1.1 Port:80 Timeout:5 CreatedAt:2025-09-11 22:26:22.085473 +0800 +08 m=+16.904992834 UpdatedAt:2025-09-11 22:26:22.085474 +0800 +08 m=+16.904992959}
2025/09/11 22:26:22 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=tcp_task_routing_key, body={"ip":"1.1.1.1","port":"80","timeout":5,"created_at":"2025-09-11T22:26:22.085473+08:00","updated_at":"2025-09-11T22:26:22.085474+08:00"}
2025/09/11 22:26:22 task_service.go:67: TCP task published successfully to RabbitMQ
2025/09/11 22:26:22 task_service.go:125: Processed TCP probe result: {IP:1.1.1.1 Port:80 Timestamp:2025-09-11 22:26:22.116284 +0800 +08 RTT:21.808416ms Success:true}
2025/09/11 22:26:22 probe_result_dao.go:52: Error preparing TCP result statement: Error 1146 (42S02): Table 'my_database.tcp_results' doesn't exist
2025/09/11 22:26:22 task_service.go:112: Failed to process message: store tcp result failed: Error 1146 (42S02): Table 'my_database.tcp_results' doesn't exist
2025/09/11 22:37:20 logger.go:39: Log initialized successfully
2025/09/11 22:37:20 mysql.go:40: MySQL initialized successfully
2025/09/11 22:37:20 mysql.go:65: Table probe_tasks ensured.
2025/09/11 22:37:20 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 22:37:20 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 22:37:20 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 22:37:20 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 22:37:20 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 22:37:20 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@localhost:5672/
2025/09/11 22:37:20 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 22:37:20 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 22:37:20 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 22:37:20 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 22:37:20 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 22:37:20 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 22:37:20 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 22:37:20 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 22:37:41 probe_task_dao.go:41: Successfully inserted TCP probe task: &{IP:1.1.1.1 Port:80 Timeout:5 CreatedAt:2025-09-11 22:37:41.005268 +0800 +08 m=+20.311675168 UpdatedAt:2025-09-11 22:37:41.005268 +0800 +08 m=+20.311675293}
2025/09/11 22:37:41 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=tcp_task_routing_key, body={"ip":"1.1.1.1","port":"80","timeout":5,"created_at":"2025-09-11T22:37:41.005268+08:00","updated_at":"2025-09-11T22:37:41.005268+08:00"}
2025/09/11 22:37:41 task_service.go:67: TCP task published successfully to RabbitMQ
2025/09/11 22:37:41 task_service.go:125: Processed TCP probe result: {IP:1.1.1.1 Port:80 Timestamp:2025-09-11 22:37:41.02978 +0800 +08 RTT:15.523833ms Success:true}
2025/09/11 22:37:41 probe_result_dao.go:72: Successfully inserted TCP result into ClickHouse: timestamp=1757601461, ip=1.1.1.1, port=80, rtt=15523.000000
2025/09/11 22:37:41 prometheus.go:55: [PrometheusPublisher] send metrics:
tcp_rtt{ip="1.1.1.1", port="80", timestamp="1757601461"} 15.523833
tcp_success{ip="1.1.1.1", port="80", timestamp="1757601461"} 1
2025/09/11 15:04:51 logger.go:39: Log initialized successfully
2025/09/11 15:04:51 mysql.go:35: Failed to ping MySQL (attempt 1): dial tcp 172.19.0.4:3306: connect: connection refused
2025/09/11 15:04:53 mysql.go:35: Failed to ping MySQL (attempt 2): dial tcp 172.19.0.4:3306: connect: connection refused
2025/09/11 15:04:55 mysql.go:35: Failed to ping MySQL (attempt 3): dial tcp 172.19.0.4:3306: connect: connection refused
2025/09/11 15:04:57 mysql.go:35: Failed to ping MySQL (attempt 4): dial tcp 172.19.0.4:3306: connect: connection refused
2025/09/11 15:04:59 mysql.go:40: MySQL initialized successfully
2025/09/11 15:04:59 mysql.go:65: Table probe_tasks ensured.
2025/09/11 15:04:59 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 15:04:59 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 15:04:59 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 15:04:59 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 15:04:59 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 15:04:59 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/11 15:04:59 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 15:04:59 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 15:04:59 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 15:04:59 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 15:04:59 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 15:04:59 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 15:04:59 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 15:04:59 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 15:11:36 probe_task_dao.go:41: Successfully inserted TCP probe task: &{IP:1.1.1.1 Port:80 Timeout:5 CreatedAt:2025-09-11 15:11:36.213884756 +0000 UTC m=+404.645910851 UpdatedAt:2025-09-11 15:11:36.213884923 +0000 UTC m=+404.645910934}
2025/09/11 15:11:36 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=tcp_task_routing_key, body={"ip":"1.1.1.1","port":"80","timeout":5,"created_at":"2025-09-11T15:11:36.213884756Z","updated_at":"2025-09-11T15:11:36.213884923Z"}
2025/09/11 15:11:36 task_service.go:67: TCP task published successfully to RabbitMQ
2025/09/11 15:30:37 logger.go:39: Log initialized successfully
2025/09/11 15:30:38 mysql.go:35: Failed to ping MySQL (attempt 1): dial tcp 172.19.0.3:3306: connect: connection refused
2025/09/11 15:30:40 mysql.go:40: MySQL initialized successfully
2025/09/11 15:30:40 mysql.go:65: Table probe_tasks ensured.
2025/09/11 15:30:40 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 15:30:40 clickhouse.go:32: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.19.0.8:9000: connect: connection refused
2025/09/11 15:30:41 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 15:30:41 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 15:30:41 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 15:30:41 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 15:30:41 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/11 15:30:41 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 15:30:41 rabbitmq.go:27: Failed to connect to RabbitMQ: dial tcp 172.19.0.9:5672: connect: connection refused, retrying in 10 seconds...
2025/09/11 15:30:51 rabbitmq.go:23: Attempt 2: Connecting to RabbitMQ...
2025/09/11 15:30:51 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 15:30:51 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 15:30:51 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 15:30:51 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 15:30:51 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 15:30:51 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 15:30:51 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 15:34:17 logger.go:39: Log initialized successfully
2025/09/11 15:34:17 mysql.go:35: Failed to ping MySQL (attempt 1): dial tcp 172.19.0.6:3306: connect: connection refused
2025/09/11 15:34:19 mysql.go:40: MySQL initialized successfully
2025/09/11 15:34:19 mysql.go:65: Table probe_tasks ensured.
2025/09/11 15:34:19 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 15:34:19 clickhouse.go:32: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.19.0.3:9000: connect: connection refused
2025/09/11 15:34:21 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 15:34:21 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 15:34:21 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 15:34:21 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 15:34:21 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/11 15:34:21 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 15:34:21 rabbitmq.go:27: Failed to connect to RabbitMQ: dial tcp 172.19.0.4:5672: connect: connection refused, retrying in 10 seconds...
2025/09/11 15:34:31 rabbitmq.go:23: Attempt 2: Connecting to RabbitMQ...
2025/09/11 15:34:31 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 15:34:31 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 15:34:31 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 15:34:31 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 15:34:31 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 15:34:31 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 15:34:31 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 15:44:36 logger.go:39: Log initialized successfully
2025/09/11 15:44:36 mysql.go:35: Failed to ping MySQL (attempt 1): dial tcp 172.19.0.2:3306: connect: connection refused
2025/09/11 15:44:38 mysql.go:40: MySQL initialized successfully
2025/09/11 15:44:38 mysql.go:65: Table probe_tasks ensured.
2025/09/11 15:44:38 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 15:44:38 clickhouse.go:32: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.19.0.4:9000: connect: connection refused
2025/09/11 15:44:39 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 15:44:39 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 15:44:39 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 15:44:39 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 15:44:39 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/11 15:44:39 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 15:44:39 rabbitmq.go:27: Failed to connect to RabbitMQ: dial tcp 172.19.0.3:5672: connect: connection refused, retrying in 10 seconds...
2025/09/11 15:44:49 rabbitmq.go:23: Attempt 2: Connecting to RabbitMQ...
2025/09/11 15:44:49 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 15:44:49 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 15:44:49 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 15:44:49 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 15:44:49 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 15:44:49 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 15:44:49 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 15:48:06 logger.go:39: Log initialized successfully
2025/09/11 15:48:06 mysql.go:35: Failed to ping MySQL (attempt 1): dial tcp 172.19.0.4:3306: connect: connection refused
2025/09/11 15:48:08 mysql.go:35: Failed to ping MySQL (attempt 2): dial tcp 172.19.0.4:3306: connect: connection refused
2025/09/11 15:48:10 mysql.go:35: Failed to ping MySQL (attempt 3): dial tcp 172.19.0.4:3306: connect: connection refused
2025/09/11 15:48:12 mysql.go:35: Failed to ping MySQL (attempt 4): dial tcp 172.19.0.4:3306: connect: connection refused
2025/09/11 15:48:14 mysql.go:40: MySQL initialized successfully
2025/09/11 15:48:14 mysql.go:65: Table probe_tasks ensured.
2025/09/11 15:48:14 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 15:48:14 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 15:48:14 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 15:48:14 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 15:48:14 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 15:48:14 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/11 15:48:14 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 15:48:14 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 15:48:14 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 15:48:14 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 15:48:14 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 15:48:14 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 15:48:14 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 15:48:14 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 15:52:44 probe_task_dao.go:41: Successfully inserted TCP probe task: &{IP:1.1.1.1 Port:80 Timeout:5 CreatedAt:2025-09-11 15:52:44.841303677 +0000 UTC m=+278.560401628 UpdatedAt:2025-09-11 15:52:44.841303802 +0000 UTC m=+278.560401753}
2025/09/11 15:52:44 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=tcp_task_routing_key, body={"ip":"1.1.1.1","port":"80","timeout":5,"created_at":"2025-09-11T15:52:44.841303677Z","updated_at":"2025-09-11T15:52:44.841303802Z"}
2025/09/11 15:52:44 task_service.go:67: TCP task published successfully to RabbitMQ
2025/09/11 15:52:44 task_service.go:125: Processed TCP probe result: {IP:1.1.1.1 Port:80 Timestamp:2025-09-11 15:52:44.860178718 +0000 UTC RTT:10.785542ms Success:true}
2025/09/11 15:52:44 probe_result_dao.go:72: Successfully inserted TCP result into ClickHouse: timestamp=1757605964, ip=1.1.1.1, port=80, rtt=10785.000000
2025/09/11 15:52:44 prometheus.go:55: [PrometheusPublisher] send metrics:
tcp_rtt{ip="1.1.1.1", port="80", timestamp="1757605964"} 10.785542
tcp_success{ip="1.1.1.1", port="80", timestamp="1757605964"} 1
2025/09/11 15:54:56 probe_task_dao.go:23: Successfully inserted ICMP probe task: &{IP:1.1.1.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-11 15:54:56.991490877 +0000 UTC m=+410.709564564 UpdatedAt:2025-09-11 15:54:56.99149096 +0000 UTC m=+410.709564648}
2025/09/11 15:54:57 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=icmp_task_routing_key, body={"ip":"1.1.1.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-11T15:54:56.991490877Z","updated_at":"2025-09-11T15:54:56.99149096Z"}
2025/09/11 15:54:57 task_service.go:98: ICMP task published successfully to RabbitMQ
2025/09/11 15:55:00 task_service.go:146: Processed ICMP probe result: {IP:1.1.1.1 Timestamp:2025-09-11 15:55:00.124465795 +0000 UTC PacketLoss:0 MinRTT:17.972666ms MaxRTT:20.672375ms AvgRTT:19.347136ms Threshold:10 Success:true}
2025/09/11 15:55:00 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1757606100, ip=1.1.1.1, packet_loss=0.000000, min_rtt=17972.000000, max_rtt=20672.000000, avg_rtt=19347.000000
2025/09/11 15:59:09 logger.go:39: Log initialized successfully
2025/09/11 15:59:09 mysql.go:35: Failed to ping MySQL (attempt 1): dial tcp 172.19.0.6:3306: connect: connection refused
2025/09/11 15:59:11 mysql.go:40: MySQL initialized successfully
2025/09/11 15:59:11 mysql.go:65: Table probe_tasks ensured.
2025/09/11 15:59:11 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 15:59:11 clickhouse.go:32: Failed to ping ClickHouse, attempt (1/5): dial tcp 172.19.0.7:9000: connect: connection refused
2025/09/11 15:59:12 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 15:59:12 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 15:59:12 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 15:59:12 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 15:59:12 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/11 15:59:12 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 15:59:12 rabbitmq.go:27: Failed to connect to RabbitMQ: dial tcp 172.19.0.2:5672: connect: connection refused, retrying in 10 seconds...
2025/09/11 15:59:22 rabbitmq.go:23: Attempt 2: Connecting to RabbitMQ...
2025/09/11 15:59:22 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 15:59:22 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 15:59:22 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 15:59:22 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 15:59:22 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 15:59:22 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 15:59:22 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 16:00:07 probe_task_dao.go:23: Successfully inserted ICMP probe task: &{IP:1.1.1.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-11 16:00:07.415286756 +0000 UTC m=+58.051581319 UpdatedAt:2025-09-11 16:00:07.415286881 +0000 UTC m=+58.051581444}
2025/09/11 16:00:07 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=icmp_task_routing_key, body={"ip":"1.1.1.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-11T16:00:07.415286756Z","updated_at":"2025-09-11T16:00:07.415286881Z"}
2025/09/11 16:00:07 task_service.go:98: ICMP task published successfully to RabbitMQ
2025/09/11 16:03:24 logger.go:39: Log initialized successfully
2025/09/11 16:03:24 mysql.go:35: Failed to ping MySQL (attempt 1): dial tcp 172.19.0.5:3306: connect: connection refused
2025/09/11 16:03:26 mysql.go:35: Failed to ping MySQL (attempt 2): dial tcp 172.19.0.5:3306: connect: connection refused
2025/09/11 16:03:28 mysql.go:35: Failed to ping MySQL (attempt 3): dial tcp 172.19.0.5:3306: connect: connection refused
2025/09/11 16:03:30 mysql.go:35: Failed to ping MySQL (attempt 4): dial tcp 172.19.0.5:3306: connect: connection refused
2025/09/11 16:03:32 mysql.go:40: MySQL initialized successfully
2025/09/11 16:03:32 mysql.go:65: Table probe_tasks ensured.
2025/09/11 16:03:32 mysql.go:80: Table tcp_probe_tasks ensured.
2025/09/11 16:03:32 clickhouse.go:29: Successfully connected to ClickHouse
2025/09/11 16:03:32 clickhouse.go:46: ClickHouse database created successfully or already exists
2025/09/11 16:03:32 clickhouse.go:65: ClickHouse ICMP results table created successfully
2025/09/11 16:03:32 clickhouse.go:82: ClickHouse initialized successfully
2025/09/11 16:03:32 rabbitmq.go:19: Initializing RabbitMQ connection with URL: amqp://guest:guest@server_rabbitmq:5672/
2025/09/11 16:03:32 rabbitmq.go:23: Attempt 1: Connecting to RabbitMQ...
2025/09/11 16:03:32 rabbitmq.go:32: Successfully connected to RabbitMQ, creating channel...
2025/09/11 16:03:32 rabbitmq.go:41: Successfully connected to RabbitMQ and created channel
2025/09/11 16:03:32 rabbitmq.go:76: Successfully declared queue: icmp_task_queue
2025/09/11 16:03:32 rabbitmq.go:76: Successfully declared queue: tcp_task_queue
2025/09/11 16:03:32 rabbitmq.go:76: Successfully declared queue: icmp_result_queue
2025/09/11 16:03:32 rabbitmq.go:76: Successfully declared queue: tcp_result_queue
2025/09/11 16:03:32 main.go:87: -----Starting Hertz server on :8080-----
2025/09/11 16:04:26 probe_task_dao.go:23: Successfully inserted ICMP probe task: &{IP:1.1.1.1 Count:4 Port:0 Threshold:10 Timeout:5 CreatedAt:2025-09-11 16:04:26.259684543 +0000 UTC m=+61.546106862 UpdatedAt:2025-09-11 16:04:26.259684668 +0000 UTC m=+61.546106987}
2025/09/11 16:04:26 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=icmp_task_routing_key, body={"ip":"1.1.1.1","count":4,"port":0,"threshold":10,"timeout":5,"created_at":"2025-09-11T16:04:26.259684543Z","updated_at":"2025-09-11T16:04:26.259684668Z"}
2025/09/11 16:04:26 task_service.go:98: ICMP task published successfully to RabbitMQ
2025/09/11 16:05:05 probe_task_dao.go:41: Successfully inserted TCP probe task: &{IP:1.1.1.1 Port:80 Timeout:5 CreatedAt:2025-09-11 16:05:05.547601297 +0000 UTC m=+100.834191756 UpdatedAt:2025-09-11 16:05:05.547601464 +0000 UTC m=+100.834191923}
2025/09/11 16:05:05 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=tcp_task_routing_key, body={"ip":"1.1.1.1","port":"80","timeout":5,"created_at":"2025-09-11T16:05:05.547601297Z","updated_at":"2025-09-11T16:05:05.547601464Z"}
2025/09/11 16:05:05 task_service.go:67: TCP task published successfully to RabbitMQ
2025/09/11 16:06:45 task_service.go:125: Processed TCP probe result: {IP:1.1.1.1 Port:80 Timestamp:2025-09-11 16:06:45.08161901 +0000 UTC RTT:12.305083ms Success:true}
2025/09/11 16:06:45 probe_result_dao.go:72: Successfully inserted TCP result into ClickHouse: timestamp=1757606805, ip=1.1.1.1, port=80, rtt=12305.000000
2025/09/11 16:06:45 prometheus.go:55: [PrometheusPublisher] send metrics:
tcp_rtt{ip="1.1.1.1", port="80", timestamp="1757606805"} 12.305083
tcp_success{ip="1.1.1.1", port="80", timestamp="1757606805"} 1
2025/09/11 16:06:48 task_service.go:146: Processed ICMP probe result: {IP:1.1.1.1 Timestamp:2025-09-11 16:06:48.16323922 +0000 UTC PacketLoss:0 MinRTT:8.479917ms MaxRTT:19.976375ms AvgRTT:14.884885ms Threshold:10 Success:true}
2025/09/11 16:06:48 probe_result_dao.go:39: Successfully inserted into ClickHouse: timestamp=1757606808, ip=1.1.1.1, packet_loss=0.000000, min_rtt=8479.000000, max_rtt=19976.000000, avg_rtt=14884.000000
2025/09/11 16:06:48 task_service.go:159: Peporting to Prometheus: 0.000000
2025/09/11 16:06:48 prometheus.go:55: [PrometheusPublisher] send metrics:
icmp_packet_loss{ip="1.1.1.1", timestamp="1757606808"} 0.000000
icmp_rtt_min{ip="1.1.1.1", timestamp="1757606808"} 8.479000
icmp_rtt_max{ip="1.1.1.1", timestamp="1757606808"} 19.976000
icmp_rtt_avg{ip="1.1.1.1", timestamp="1757606808"} 14.884000
2025/09/11 16:06:50 probe_task_dao.go:41: Successfully inserted TCP probe task: &{IP:1.1.1.1 Port:80 Timeout:5 CreatedAt:2025-09-11 16:06:50.605908013 +0000 UTC m=+205.892179887 UpdatedAt:2025-09-11 16:06:50.605908138 +0000 UTC m=+205.892179970}
2025/09/11 16:06:50 publisher.go:68: [RabbitMQPublisher] Task published successfully: exchange=my_exchange, key=tcp_task_routing_key, body={"ip":"1.1.1.1","port":"80","timeout":5,"created_at":"2025-09-11T16:06:50.605908013Z","updated_at":"2025-09-11T16:06:50.605908138Z"}
2025/09/11 16:06:50 task_service.go:67: TCP task published successfully to RabbitMQ
2025/09/11 16:06:50 task_service.go:125: Processed TCP probe result: {IP:1.1.1.1 Port:80 Timestamp:2025-09-11 16:06:50.630133554 +0000 UTC RTT:15.945792ms Success:true}
2025/09/11 16:06:50 probe_result_dao.go:72: Successfully inserted TCP result into ClickHouse: timestamp=1757606810, ip=1.1.1.1, port=80, rtt=15945.000000
2025/09/11 16:06:50 prometheus.go:55: [PrometheusPublisher] send metrics:
tcp_rtt{ip="1.1.1.1", port="80", timestamp="1757606810"} 15.945792
tcp_success{ip="1.1.1.1", port="80", timestamp="1757606810"} 1
